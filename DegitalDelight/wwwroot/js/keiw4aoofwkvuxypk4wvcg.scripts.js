!function(){"use strict";function ast(n){if(null===n)return"null";if(void 0===n)return"undefined";var t=typeof n;return"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t}function vst(n){return ll(function(t,i){if(t.length!==i.length)return!1;for(var u=t.length,r=0;r<u;r++)if(!n.eq(t[r],i[r]))return!1;return!0})}function yst(n){return ll(function(t,i){var h,o,u,f=Object.keys(t),c=Object.keys(i),s,r,e;if(o=vst(bhi),u=function(n){return t=h,Array.prototype.slice.call(n).sort(t);var t},!ll(function(n,t){return o.eq(u(n),u(t))}).eq(f,c))return!1;for(s=f.length,r=0;r<s;r++)if(e=f[r],!n.eq(t[e],i[e]))return!1;return!0})}function kd(n){return function(t){return r=typeof(i=t),(null===i?"null":"object"==r&&(Array.prototype.isPrototypeOf(i)||i.constructor&&"Array"===i.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(i)||i.constructor&&"String"===i.constructor.name)?"string":r)===n;var i,r}}function dd(n){return function(t){return typeof t===n}}function pst(n){return function(t){return n===t}}function wu(n){return null==n}function g(n){return!wu(n)}function y(){}function vo(n,t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n(t.apply(null,r))}}function wst(n,t){return function(i){return n(t(i))}}function f(n){return function(){return n}}function ki(n){return n}function whi(n,t){return n===t}function u(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(){for(var u,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return u=i.concat(r),n.apply(null,u)}}function ng(n){return function(t){return!n(t)}}function khi(n){return n()}function dhi(n){n()}function tg(){return ty}function kst(n){return n()}function dst(n,t){return ghi.call(n,t)}function dt(n,t){return-1<dst(n,t)}function vi(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i],i))return!0;return!1}function ut(n,t){for(var f,r=n.length,u=new Array(r),i=0;i<r;i++)f=n[i],u[i]=t(f,i);return u}function e(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i],i)}function gst(n,t){for(var i=n.length-1;0<=i;i--)t(n[i],i)}function nht(n,t){for(var r,u=[],f=[],i=0,e=n.length;i<e;i++)r=n[i],(t(r,i)?u:f).push(r);return{pass:u,fail:f}}function p(n,t){for(var r,u=[],i=0,f=n.length;i<f;i++)r=n[i],t(r,i)&&u.push(r);return u}function tht(n,t,i){return gst(n,function(n,r){i=t(i,n,r)}),i}function fu(n,t,i){return e(n,function(n,r){i=t(i,n,r)}),i}function iht(t,i,r){for(var f,u=0,e=t.length;u<e;u++){if(f=t[u],i(f,u))return n.some(f);if(r(f,u))break}return n.none()}function gt(n,t){return iht(n,t,it)}function iy(t,i){for(var r=0,u=t.length;r<u;r++)if(i(t[r],r))return n.some(r);return n.none()}function sh(n,t){return function(n){for(var i=[],t=0,r=n.length;t<r;++t){if(!br(n[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+n);nci.apply(i,n[t])}return i}(ut(n,t))}function vl(n,t){for(var i=0,r=n.length;i<r;++i)if(!0!==t(n[i],i))return!1;return!0}function ry(n){var t=og.call(n,0);return t.reverse(),t}function rht(n,t){return p(n,function(n){return!dt(t,n)})}function ig(n,t){var i=og.call(n,0);return i.sort(t),i}function rg(t,i){return 0<=i&&i<t.length?n.some(t[i]):n.none()}function or(n){return rg(n,0)}function yo(n){return rg(n,n.length-1)}function uht(t,i){for(var u,r=0;r<t.length;r++)if(u=i(t[r],r),u.isSome())return u;return n.none()}function et(n,t){for(var r,u=lh(n),i=0,f=u.length;i<f;i++)r=u[i],t(n[r],r)}function fht(n,t){return ici(n,function(n,i){return{k:i,v:t(n,i)}})}function ug(n){return function(t,i){n[i]=t}}function eht(n,t,i,r){return et(n,function(n,u){(t(n,u)?i:r)(n,u)}),1}function yl(n,t){var i={};return eht(n,t,ug(i),y),i}function at(t,i){return w(t,i)?n.from(t[i]):n.none()}function hh(n,t){return w(n,t)&&void 0!==n[t]&&null!==n[t]}function pl(n,t,i){var r,u;if(!n)return!1;if(i=i||n,void 0!==n.length){for(r=0,u=n.length;r<u;r++)if(!1===t.call(i,n[r],r,n))return!1}else for(r in n)if(w(n,r)&&!1===t.call(i,n[r],r,n))return!1;return!0}function fg(n,t){var i=[];return pl(n,function(r,u){i.push(t(r,u,n))}),i}function ch(n,t){var i=[];return pl(n,function(r,u){t&&!t(r,u,n)||i.push(r)}),i}function oht(n,t){if(n)for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}function uy(n,t,i,r){for(var f=tr(i)?n[0]:i,u=0;u<n.length;u++)f=t.call(r,f,n[u],u);return f}function sht(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r,n))return r;return-1}function po(n){return n[n.length-1]}function ee(n,t,i){if(i||2===arguments.length)for(var u,r=0,f=t.length;r<f;r++)!u&&r in t||((u=u||Array.prototype.slice.call(t,0,r))[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))}function hht(n){var t,i=!1;return function(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];return i||(i=!0,t=n.apply(null,u)),t}}function cht(n,t){var i=String(t).toLowerCase();return gt(n,function(n){return n.search(i)})}function yi(n,t){return-1!==n.indexOf(t)}function hg(n){return function(t){return t.replace(n,"")}}function fy(n){return 0<n.length}function lht(n){return!fy(n)}function wf(n){return function(t){return yi(t,n)}}function rci(n){return window.matchMedia(n).matches}function aht(n){return null==n?"":(""+n).replace(aci,"")}function vht(n,t){return t?!("array"!==t||!sg(n))||typeof n===t:void 0!==n}function yht(n,t){for(var i=[],u=function(n){return i.push(n),t(n)},r=t(n);(r=r.bind(u)).isSome(););return i}function ah(n,t){var r=n.dom,i;if(1!==r.nodeType)return!1;if(i=r,void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors");}function pht(n){return 1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount}function nt(n,t){return n.dom===t.dom}function oe(n,t){return kr().browser.isIE()?(i=n.dom,r=t.dom,u=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(i.compareDocumentPosition(r)&u)):(f=n.dom)!==(e=t.dom)&&f.contains(e);var i,r,u,f,e}function wht(){return cg(0,0)}function bht(n){function t(n){return function(){return i===n}}var i=n.current,r=n.version;return{current:i,version:r,isEdge:t("Edge"),isChrome:t("Chrome"),isIE:t("IE"),isOpera:t("Opera"),isFirefox:t(nct),isSafari:t("Safari")}}function kht(n){function t(n){return function(){return i===n}}var i=n.current,r=n.version;return{current:i,version:r,isWindows:t(tct),isiOS:t("iOS"),isAndroid:t(ict),isOSX:t("OSX"),isLinux:t("Linux"),isSolaris:t(rct),isFreeBSD:t(uct),isChromeOS:t(fct)}}function wl(n){if(null==n)throw new Error("Node cannot be null or undefined");return{dom:n}}function vt(n){return n.dom.nodeName.toLowerCase()}function sct(n){return n.dom.nodeType}function ey(n){return function(t){return sct(t)===n}}function hct(n){return t.fromDom(n.dom.ownerDocument)}function vh(n){return pci(n)?n:hct(n)}function cct(n){return t.fromDom(vh(n).dom.defaultView)}function eu(i){return n.from(i.dom.parentNode).map(t.fromDom)}function bo(i){return n.from(i.dom.previousSibling).map(t.fromDom)}function kl(i){return n.from(i.dom.nextSibling).map(t.fromDom)}function lct(n){return ry(yht(n,bo))}function act(n){return yht(n,kl)}function oy(i,r){var u=i.dom.childNodes;return n.from(u[r]).map(t.fromDom)}function vct(n){return oy(n,0)}function yg(n){return oy(n,n.dom.childNodes.length-1)}function yct(n){return n.dom.childNodes.length}function pct(n){return wci(n)&&g(n.dom.host)}function pg(n){return pct(n)?n:function(){var i=vh(n).dom.head;if(null==i)throw new Error("Head is not available yet");return t.fromDom(i)}()}function vci(n){return t.fromDom(n.dom.host)}function ou(n,t){eu(n).each(function(i){i.dom.insertBefore(t.dom,n.dom)})}function dl(n,t){kl(n).fold(function(){eu(n).each(function(n){ii(n,t)})},function(n){ou(n,t)})}function wct(n,t){vct(n).fold(function(){ii(n,t)},function(i){n.dom.insertBefore(t.dom,i.dom)})}function sy(n,t){e(t,function(t){ii(n,t)})}function wg(n){n.dom.textContent="";e(nu(n),function(n){ni(n)})}function bct(n){var t,i=nu(n);0<i.length&&(t=n,e(i,function(n){ou(t,n)}));ni(n)}function hy(n,t){return void 0!==n?n:void 0!==t?t:0}function bg(n){var t=void 0!==n?n.dom:document,i=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return ph(i,r)}function kct(n,t,i){var r=(void 0!==i?i.dom:document).defaultView;r&&r.scrollTo(n,t)}function dct(n,t){kr().browser.isSafari()&&ft(n.dom.scrollIntoViewIfNeeded)?n.dom.scrollIntoViewIfNeeded(!1):n.dom.scrollIntoView(t)}function gct(n,t,i,r){return{x:n,y:t,width:i,height:r,right:n+i,bottom:t+r}}function nlt(i){var r=void 0===i?window:i,f=r.document,u=bg(t.fromDom(f)),e=void 0===r?window:r;return(kr().browser.isFirefox()?n.none():n.from(e.visualViewport)).fold(function(){var n=r.document.documentElement,t=n.clientWidth,i=n.clientHeight;return gct(u.left,u.top,t,i)},function(n){return gct(Math.max(n.pageLeft,u.left),Math.max(n.pageTop,u.top),n.width,n.height)})}function gl(n){return function(t){return!!t&&t.nodeType===n}}function cy(n){return n&&!Object.getPrototypeOf(n)}function dr(n){var t=n.map(function(n){return n.toLowerCase()});return function(n){if(n&&n.nodeName){var i=n.nodeName.toLowerCase();return dt(t,i)}return!1}}function ly(n,t){var i=t.toLowerCase().split(" ");return function(t){var r,u;if(h(t))for(r=0;r<i.length;r++)if(u=t.ownerDocument.defaultView.getComputedStyle(t,null),(u?u.getPropertyValue(n):null)===i[r])return!0;return!1}}function tlt(n){return function(t){return h(t)&&t.hasAttribute(n)}}function ko(n){return h(n)&&n.hasAttribute("data-mce-bogus")}function yh(n){return h(n)&&"TABLE"===n.tagName}function ilt(n){return function(t){return h(t)&&(t.contentEditable===n||t.getAttribute("data-mce-contenteditable")===n)?!0:!1}}function ay(n,t,i){return void 0===i&&(i=whi),n.exists(function(n){return i(n,t)})}function di(t,i,r){return t.isSome()&&i.isSome()?n.some(r(t.getOrDie(),i.getOrDie())):n.none()}function vy(n){return void 0!==n.style&&ft(n.style.getPropertyValue)}function rlt(n,t,i){if(!(ht(i)||bst(i)||oh(i)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,i+"")}function du(n,t,i){rlt(n.dom,t,i)}function se(n,t){var i=n.dom;et(t,function(n,t){rlt(i,t,n)})}function na(n,t){var i=n.dom.getAttribute(t);if(null!==i)return i}function ult(t,i){return n.from(na(t,i))}function he(n,t){n.dom.removeAttribute(t)}function yci(n,t){var i=n.dom;et(t,function(n,t){!function(n,t,i){if(!ht(i))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);vy(n)&&n.style.setProperty(t,i)}(i,t,n)})}function bf(n,t){var i=n.dom,r=window.getComputedStyle(i).getPropertyValue(t);return""!==r||ta(n)?r:clt(i,t)}function kg(t,i){var r=t.dom,u=clt(r,i);return n.from(u).filter(function(n){return 0<n.length})}function flt(n){var u={},t=n.dom,i,r;if(vy(t))for(i=0;i<t.style.length;i++)r=t.style.item(i),u[r]=t.style[r];return u}function elt(n){return gt(n,su)}function olt(n,t){return n.children&&dt(n.children,t)}function nli(n){setTimeout(function(){throw n;},0)}function alt(n){return ia(function(){return new vlt(n)})}function ce(n){if(!br(n))throw new Error("cases must be an array");if(0===n.length)throw new Error("there must be at least one case");var t=[],i={};return e(n,function(r,u){var o=lh(r),f,e;if(1!==o.length)throw new Error("one and only one name per case");if(f=o[0],e=r[f],void 0!==i[f])throw new Error("duplicate key detected:"+f);if("cata"===f)throw new Error("cannot have a case named cata (sorry)");if(!br(e))throw new Error("case arguments must be an array");t.push(f);i[f]=function(){for(var o,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(o=i.length,o!==e.length)throw new Error("Wrong number of arguments to case "+f+". Expected "+e.length+" ("+e+"), got "+o);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+t.length);return t[u].apply(null,i)},match:function(n){var r=lh(n);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!vl(t,function(n){return dt(r,n)}))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return n[f].apply(null,i)},log:function(n){console.log(n,{constructors:t,constructor:f,params:i})}}}}),i}function plt(n){return n.fold(ki,ki)}function wlt(t,i,r,u,f){return t(r,u)?n.some(r):ft(f)&&f(r)?n.none():i(r,u,f)}function ua(i,r,u){for(var e,f=i.dom,o=ft(u)?u:it;f.parentNode;){if(f=f.parentNode,e=t.fromDom(f),r(e))return n.some(e);if(o(e))break}return n.none()}function py(n,t,i){return wlt(function(n,t){return t(n)},ua,n,t,i)}function wy(n,t,i){return ua(n,function(n){return ah(n,t)},i)}function by(i,r){return u=r,pht(f=void 0===i?document:i.dom)?n.none():n.from(f.querySelector(u)).map(t.fromDom);var u,f}function fn(n,t,i){return wlt(ah,wy,n,t,i)}function en(n,t){return"number"!=typeof t&&(t=0),setTimeout(n,t)}function blt(n,t){return"number"!=typeof t&&(t=1),setInterval(n,t)}function klt(n,t){function r(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];clearTimeout(i);i=en(function(){n.apply(this,u)},t)}var i;return r.stop=function(){clearTimeout(i)},r}function dlt(n,i){function s(f,e,s){function k(n,t){for(var i=n.length;i--;)n[i]();h.status=t;h.passed=[];h.failed=[];c&&(c.onload=null,c.onerror=null,c=null)}function d(){return k(h.passed,2),0}function w(){return k(h.failed,3)}var c,p=r._addCacheSuffix(f),h=at(u,p).getOrThunk(function(){return{id:"mce-u"+l++,passed:[],failed:[],count:0}}),y,g,nt,b;(u[p]=h).count++;b=function(){var t=b;(function(){for(var r,t=n.styleSheets,i=t.length;i--;)if(r=t[i].ownerNode,r&&r.id===c.id)return d(),1})()||(Date.now()-g<v?ui.setTimeout(t):w())};e&&h.passed.push(e);s&&h.failed.push(s);1!==h.status&&(2!==h.status?3!==h.status?(h.status=1,se(y=t.fromTag("link",a.dom),{rel:"stylesheet",type:"text/css",id:h.id}),g=Date.now(),i.contentCssCors&&du(y,"crossOrigin","anonymous"),i.referrerPolicy&&du(y,"referrerpolicy",i.referrerPolicy),(c=y.dom).onload=b,c.onerror=w,nt=y,ii(pg(o),nt),du(y,"href",p)):w():d())}function c(n){return alt(function(t){s(n,vo(t,f(ylt.value(n))),vo(t,f(ylt.error(n))))})}function h(n){var t=r._addCacheSuffix(n);at(u,t).each(function(n){var i;0==--n.count&&(delete u[t],i=n.id,by(pg(o),"#"+i).each(ni))})}void 0===i&&(i={});var l=0,u={},o=t.fromDom(n),a=vh(o),v=i.maxLoadTime||5e3;return{load:s,loadAll:function(n,t,i){var r,u=ut(n,c);r=u;alt(function(n){var t=[],i=0;0===r.length?n([]):e(r,function(u,f){var e;u.get((e=f,function(u){t[e]=u;++i>=r.length&&n(t)}))})}).get(function(n){var r=nht(n,function(n){return n.isValue()});0<r.fail.length?i(r.fail.map(plt)):t(r.pass.map(plt))})},unload:h,unloadAll:function(n){e(n,function(n){h(n)})},_setReferrerPolicy:function(n){i.referrerPolicy=n}}}function ns(n,t){this.node=n;this.rootNode=t;this.current=this.current.bind(this);this.next=this.next.bind(this);this.prev=this.prev.bind(this);this.prev2=this.prev2.bind(this)}function le(n){var t;return function(i){return t=t||function(n,t){for(var r,u={},i=0,f=n.length;i<f;i++)r=n[i],u[String(r)]=t(r,i);return u}(n,lt),w(t,vt(i))}}function hn(n){return su(n)&&!tf(n)}function bh(n){return su(n)&&"br"===vt(n)}function kh(n){return nc(n)&&(n=n.parentNode),fli(n)&&n.hasAttribute("data-mce-caret")}function dh(n){return nc(n)&&ip(n.data)}function hr(n){return kh(n)||dh(n)}function nat(n){return n.firstChild!==n.lastChild||!st(n.firstChild)}function cn(n){var t=n.container();return!!o(t)&&(t.data.charAt(n.offset())===fi||n.isAtStart()&&dh(t.previousSibling))}function ln(n){var t=n.container();return!!o(t)&&(t.data.charAt(n.offset()-1)===fi||n.isAtEnd()&&dh(t.nextSibling))}function an(n){return n&&n.hasAttribute("data-mce-caret")?(ko(t=(i=n.getElementsByTagName("br"))[i.length-1])&&t.parentNode.removeChild(t),n.removeAttribute("data-mce-caret"),n.removeAttribute("data-mce-bogus"),n.removeAttribute("style"),n.removeAttribute("_moz_abspos"),n):null;var i,t}function tat(n){return kh(n.startContainer)}function nf(n){return!lli(n)&&(sli(n)?!hli(n.parentNode):vat(n)||oli(n)||cli(n)||gn(n))}function ky(n,t){return nf(n)&&function(n,t){for(n=n.parentNode;n&&n!==t;n=n.parentNode){if(gn(n))return!1;if(aat(n))return!0}return!0}(n,t)}function ts(n){return ali.test(n)}function dy(n,i){return nf(n)&&!1===(c=i,o(f=n)&&ts(f.data)&&!1===(e=f,s=t.fromDom(c),wy(t.fromDom(e),"pre,code",u(nt,s)).isSome()))||h(r=n)&&"A"===r.nodeName&&!r.hasAttribute("href")&&(r.hasAttribute("name")||r.hasAttribute("id"))||vli(n);var e,s,r,f,c}function pt(n,t){return function(n,t){var u=0,i,r;if(dy(n,n))return!1;if(i=n.firstChild,!i)return!0;r=new yt(i,n);do{if(t){if(pli(i)){i=r.next(!0);continue}if(yli(i)){i=r.next();continue}}if(st(i))u++,i=r.next();else{if(dy(i,n))return!1;i=r.next()}}while(i);return u<=1}(n.dom,t=void 0===t||t)}function iat(n,i){return g(n)&&(dy(n,i)||hn(t.fromDom(n)))}function rat(n){return"span"===n.nodeName.toLowerCase()&&"bookmark"===n.getAttribute("data-mce-type")}function uat(n,t){var i,r,u,f={};if(n){for(n=n.split(","),t=t||10,i=0;i<n.length;i+=2)r=String.fromCharCode(parseInt(n[i],t)),is[r]||(u="&"+n[i+1]+";",f[r]=u,f[u]=r);return f}}function fat(n,t){return n.replace(t?fp:ep,function(n){return is[n]||n})}function eat(n,t){return n.replace(t?fp:ep,function(n){return 1<n.length?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":is[n]||"&#"+n.charCodeAt(0)+";"})}function vn(n,t,i){return i=i||ttt,n.replace(t?fp:ep,function(n){return is[n]||i[n]||n})}function ti(n,t){return(n=r.trim(n))?n.split(t||" "):[]}function oat(n,t){var i=tc(n," ",tc(n.toUpperCase()," "));return itt(i,t)}function sat(n){return oat("td th li dt dd figcaption caption details summary",n.getTextBlockElements())}function yn(n,t){var i;return n&&(i={},ei(n="string"==typeof n?{"*":n}:n,function(n,r){i[r]=i[r.toUpperCase()]=("map"===t?tc:yat)(n,/[, ]/)})),i}function ae(n){function h(t,i,r){var u=n[t];return u?u=tc(u,/[, ]/,tc(u.toUpperCase(),/[, ]/)):(u=rs[t])||(u=oat(i,r),rs[t]=u),u}function t(n,t,i){function f(n,t){for(var r={},i=0,u=n.length;i<u;i++)r[n[i]]=t||{};return r}var e,o,r,u;for(t=t||"","string"==typeof(i=i||[])&&(i=ti(i)),r=ti(n),u=r.length;u--;)o={attributes:f(e=ti([a,t].join(" "))),attributesOrder:e,children:f(i,nai)},c[r[u]]=o}function i(n,t){for(var r,i,f,e=ti(n),o=e.length,u=ti(t);o--;)for(r=c[e[o]],i=0,f=u.length;i<f;i++)r.attributes[u[i]]={},r.attributesOrder.push(u[i])}function ot(n){return new RegExp("^"+n.replace(/([?+*])/g,".$1")+"$")}function y(n){var y,g,p,nt,i,t,f,l,s,r,w,h,o,e,b,a,k,c,tt=/[*?+]/,d;if(n)for(d=ti(n,","),u["@"]&&(a=u["@"].attributes,k=u["@"].attributesOrder),y=0,g=d.length;y<g;y++)if(i=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/.exec(d[y])){if(e=i[1],s=i[2],b=i[3],l=i[5],t={attributes:h={},attributesOrder:o=[]},"#"===e&&(t.paddEmpty=!0),"-"===e&&(t.removeEmpty=!0),"!"===i[4]&&(t.removeEmptyAttrs=!0),a&&(et(a,function(n,t){h[t]=n}),o.push.apply(o,k)),l)for(p=0,nt=(l=ti(l,"|")).length;p<nt;p++)(i=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/.exec(l[p]))&&(f={},w=i[1],r=i[2].replace(/[\\:]:/g,":"),e=i[3],c=i[4],"!"===w&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(r),f.required=!0),"-"!==w?(e&&("="===e&&(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:r,value:c}),f.defaultValue=c),":"===e&&(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:r,value:c}),f.forcedValue=c),"<"===e&&(f.validValues=tc(c,"?"))),tt.test(r)?(t.attributePatterns=t.attributePatterns||[],f.pattern=ot(r),t.attributePatterns.push(f)):(h[r]||o.push(r),h[r]=f)):(delete h[r],o.splice(tai(o,r),1)));a||"@"!==s||(a=h,k=o);b&&(t.outputName=s,u[b]=t);tt.test(s)?(t.pattern=ot(s),v.push(t)):u[s]=t}}function st(n){u={};v=[];y(n);ei(it,function(n,t){o[t]=n.children})}function ht(n){var t=/^(~)?(.+)$/;n&&(rs.text_block_elements=rs.block_elements=null,ei(ti(n,","),function(n){var r,e=t.exec(n),s="~"===e[1],f=s?"span":"div",i=e[2];o[i]=o[f];nt[i]=f;s||(w[i.toUpperCase()]={},w[i]={});u[i]||(r=u[f],delete(r=itt({},r)).removeEmptyAttrs,delete r.removeEmpty,u[i]=r);ei(o,function(n,t){n[f]&&(o[t]=n=itt({},o[t]),n[i]=n[f])})}))}function b(t){var i=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;rs[n.schema]=null;t&&ei(ti(t,","),function(n){var r,u,t=i.exec(n);t&&(u=t[1],r=u?o[t[2]]:o[t[2]]={"#comment":{}},r=o[t[2]],ei(ti(t[3],"|"),function(n){"-"===u?delete r[n]:r[n]={}}))})}function k(n){var i,t=u[n];if(t)return t;for(i=v.length;i--;)if((t=v[i]).pattern.test(n))return t}var s,a,l,e,r,d,g,c,u={},o={},v=[],nt={},tt={},it=(s=(n=n||{}).schema,c={},rs[s]||(a="id accesskey class dir lang style tabindex title role",l="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",e="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==s&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",l+=" article aside details dialog figure main header footer hgroup section nav",e+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==s&&(a+=" xml:lang",e=[e,g="acronym applet basefont big font strike tt"].join(" "),ei(ti(g),function(n){t(n,"",e)}),l=[l,d="center dir isindex noframes"].join(" "),r=[l,e].join(" "),ei(ti(d),function(n){t(n,"",r)})),r=r||[l,e].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),t("address dt dd div caption","",r),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",e),t("blockquote","cite",r),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",r),t("dl","","dt dd"),t("a","href target rel media hreflang type",e),t("q","cite",e),t("ins del","cite datetime",r),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",r),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),t("param","name value"),t("map","name",[r,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"===s?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",r),t("th","colspan rowspan headers scope abbr",r),t("form","accept-charset action autocomplete enctype method name novalidate target",r),t("fieldset","disabled form name",[r,"legend"].join(" ")),t("label","form for",e),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===s?r:e),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[r,"li"].join(" ")),t("noscript","",r),"html4"!==s&&(t("wbr"),t("ruby","",[e,"rt rp"].join(" ")),t("figcaption","",r),t("mark rt rp summary bdi","",e),t("canvas","width height",r),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[e,"option"].join(" ")),t("article section nav aside main header footer","",r),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[r,"figcaption"].join(" ")),t("time","datetime",e),t("dialog","open",r),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",e),t("progress","value max",e),t("meter","value min max low high optimum",e),t("details","open",[r,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==s&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!==s&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("img","loading"),i("iframe","sandbox seamless allowfullscreen loading")),ei(ti("a form meter progress dfn"),function(n){c[n]&&delete c[n].children[n]}),delete c.caption.children.table,delete c.script,rs[s]=c));!1===n.verify_html&&(n.valid_elements="*[*]");var ct=yn(n.valid_styles),lt=yn(n.invalid_styles,"map"),at=yn(n.valid_classes,"map"),vt=h("whitespace_elements","pre script noscript style textarea video audio iframe object code"),yt=h("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=h("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),pt=h("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),rt="td th iframe video audio object script code",wt=h("non_empty_elements",rt+" pre",p),bt=h("move_caret_before_on_enter_elements",rt+" table",p),ut=h("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),w=h("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ut),ft=h("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");ei((n.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(n){tt[n]=new RegExp("<\/"+n+"[^>]*>","gi")});n.valid_elements?st(n.valid_elements):(ei(it,function(n,t){u[t]={attributes:n.attributes,attributesOrder:n.attributesOrder};o[t]=n.children}),"html5"!==n.schema&&ei(ti("strong/b em/i"),function(n){var t=ti(n,"/");u[t[1]].outputName=t[0]}),ei(ft,function(t,i){u[i]&&(n.padd_empty_block_inline_children&&(u[i].paddInEmptyBlock=!0),u[i].removeEmpty=!0)}),ei(ti("ol ul blockquote a table tbody"),function(n){u[n]&&(u[n].removeEmpty=!0)}),ei(ti("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(n){u[n].paddEmpty=!0}),ei(ti("span"),function(n){u[n].removeEmptyAttrs=!0}));ht(n.custom_elements);b(n.valid_children);y(n.extended_valid_elements);b("+ol[ul|ol],+ul[ul|ol]");ei({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(n,t){u[t]&&(u[t].parentsRequired=ti(n))});n.invalid_elements&&ei(yat(n.invalid_elements),function(n){u[n]&&delete u[n]});k("span")||y("span[!data-mce-type|*]");var kt=f(ct),dt=f(lt),gt=f(at),ni=f(pt),ii=f(w),ri=f(ut),ui=f(ft),fi=f(p),oi=f(yt),si=f(wt),hi=f(bt),ci=f(vt),li=f(tt),ai=f(nt);return{children:o,elements:u,getValidStyles:kt,getValidClasses:gt,getBlockElements:ii,getInvalidStyles:dt,getShortEndedElements:fi,getTextBlockElements:ri,getTextInlineElements:ui,getBoolAttrs:ni,getElementRule:k,getSelfClosingElements:oi,getNonEmptyElements:si,getMoveCaretBeforeOnEnterElements:hi,getWhiteSpaceElements:ci,getSpecialElements:li,isValidChild:function(n,t){var i=o[n.toLowerCase()];return!(!i||!i[t.toLowerCase()])},isValid:function(n,t){var i,r,u=k(n);if(u){if(!t||u.attributes[t])return!0;if(i=u.attributePatterns)for(r=i.length;r--;)if(i[r].pattern.test(n))return!0}return!1},getCustomElements:ai,addValidElements:y,setValidElements:st,addCustomElements:ht,addValidChildren:b}}function hat(n,t,i,r){function u(n){return 1<(n=parseInt(n,10).toString(16)).length?n:"0"+n}return"#"+u(t)+u(i)+u(r)}function pn(n,t){var o,r,l=this,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,h=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},f=dn,e,i;for(n=n||{},t&&(o=t.getValidStyles(),r=t.getInvalidStyles()),e=("\\\" \\' \\; \\: ; : "+f).split(" "),i=0;i<e.length;i++)u[e[i]]=f+i,u[f+i]=e[i];return{toHex:function(n){return n.replace(s,hat)},parse:function(t){function v(n,t,u){var h=r[n+"-top"+t],e,o,s,f;if(h&&(e=r[n+"-right"+t],e&&(o=r[n+"-bottom"+t],o&&(s=r[n+"-left"+t],s)))){for(f=[h,e,o,s],i=f.length-1;i--&&f[i]===f[i+1];);-1<i&&u||(r[n+t]=-1===i?f[0]:f.join(" "),delete r[n+"-top"+t],delete r[n+"-right"+t],delete r[n+"-bottom"+t],delete r[n+"-left"+t])}}function b(n){var i,t=r[n];if(t){for(i=(t=t.split(" ")).length;i--;)if(t[i]!==t[0])return;return r[n]=t[0],1}}function nt(n){return d=!0,u[n]}function k(n,t){return d&&(n=n.replace(/\uFEFF[0-9]/g,function(n){return u[n]})),t?n:n.replace(/\\([\'\";:])/g,"$1")}function rt(n){return String.fromCharCode(parseInt(n.slice(1),16))}function tt(n){return n.replace(/\\[0-9a-f]+/gi,rt)}function ut(t,i,r,u,f,e){if(f=f||e)return"'"+(f=k(f)).replace(/\'/g,"\\'")+"'";if(i=k(i||r||u),!n.allow_script_urls){var o=i.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(o)||!n.allow_svg_data_urls&&/^data:image\/svg/i.test(o))return""}return"url('"+(i=it?it.call(ft,i,"style"):i).replace(/\'/g,"\\'")+"')"}var y,o,e,d,g,p,w,r={},it=n.url_converter,ft=n.url_converter_scope||l;if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,nt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(n){return n.replace(/[;:]/g,nt)});y=h.exec(t);)h.lastIndex=y.index+y[0].length,o=y[1].replace(c,"").toLowerCase(),e=y[2].replace(c,""),o&&e&&(o=tt(o),e=tt(e),-1===o.indexOf(f)&&-1===o.indexOf('"')&&(n.allow_script_urls||"behavior"!==o&&!/expression\s*\(|\/\*|\*\//.test(e))&&("font-weight"===o&&"700"===e?e="bold":"color"!==o&&"background-color"!==o||(e=e.toLowerCase()),e=(e=e.replace(s,hat)).replace(a,ut),r[o]=d?k(e,!0):e));v("border","",!0);v("border","-width");v("border","-color");v("border","-style");v("padding","");v("margin","");p="border-style";w="border-color";b(g="border-width")&&b(p)&&b(w)&&(r.border=r[g]+" "+r[p]+" "+r[w],delete r[g],delete r[p],delete r[w]);"medium none"===r.border&&delete r.border;"none"===r["border-image"]&&delete r["border-image"]}return r},serialize:function(n,t){function u(t){var f,u=o[t],r,e;if(u)for(r=0,e=u.length;r<e;r++)t=u[r],(f=n[t])&&(i+=(0<i.length?" ":"")+t+": "+f+";")}var i="";return t&&o?(u("*"),u(t)):et(n,function(n,u){var f;!n||r&&((f=r["*"])&&f[u]||(f=r[t])&&f[u])||(i+=(0<i.length?" ":"")+u+": "+n+";")}),i}}}function wn(n){return n instanceof Event||ft(n.initEvent)}function cat(n,t,i,r){var f,e,u=function(n){var t,i=null!=r?r:{};for(t in n)w(iai,t)||(i[t]=n[t]);return g(i.composedPath)&&(i.composedPath=function(){return n.composedPath()}),i}(t);return u.type=n,wu(u.target)&&(u.target=null!==(f=u.srcElement)&&void 0!==f?f:i),(wu((e=t).preventDefault)||wn(e))&&(u.preventDefault=function(){u.defaultPrevented=!0;u.isDefaultPrevented=lt;ft(t.preventDefault)?t.preventDefault():wn(t)&&(t.returnValue=!1)},u.stopPropagation=function(){u.cancelBubble=!0;u.isPropagationStopped=lt;ft(t.stopPropagation)?t.stopPropagation():wn(t)&&(t.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=lt;u.stopPropagation()},u.isDefaultPrevented!==lt&&u.isDefaultPrevented!==it&&(u.isDefaultPrevented=!0===u.defaultPrevented?lt:it,u.isPropagationStopped=!0===u.cancelBubble?lt:it,u.isImmediatePropagationStopped=it)),u}function bn(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r||!1):n.attachEvent&&n.attachEvent("on"+t,i)}function gy(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r||!1):n.detachEvent&&n.detachEvent("on"+t,i)}function gh(n,t){var f,i,r,e,u=cat(n.type,n,document,t);return g(e=n)&&rai.test(e.type)&&tr(n.pageX)&&!tr(n.clientX)&&(i=(f=u.target.ownerDocument||document).documentElement,r=f.body,u.pageX=n.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),u.pageY=n.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),tr(u.metaKey)&&(u.metaKey=!1),u}function rf(){this.domLoaded=!1;this.events={};this.count=1;this.expando="mce-data-"+(+new Date).toString(32);this.hasMouseEnterLeave="onmouseenter"in document.documentElement;this.hasFocusIn="onfocusin"in document.documentElement;this.count=1}function pe(n,t,i){var r="0x"+t-65536;return r!=r||i?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function ott(){function n(i,r){return t.push(i+" ")>tt.cacheLength&&delete n[t.shift()],n[i+" "]=r}var t=[];return n}function cu(n){return n[oi]=!0,n}function ivt(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||-2147483648)-(~n.sourceIndex||-2147483648);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return n?1:-1}function es(n){return cu(function(t){return t=+t,cu(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function stt(n){return n&&typeof n.getElementsByTagName!=cp&&n}function rvt(){}function vp(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function htt(n,t,i){var r=t.dir,u=i&&"parentNode"===r,f=uai++;return t.first?function(t,i,f){for(;t=t[r];)if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,e){var o,s,h=[ff,f];if(e){for(;t=t[r];)if((1===t.nodeType||u)&&n(t,i,e))return!0}else for(;t=t[r];)if(1===t.nodeType||u){if((o=(s=t[oi]||(t[oi]={}))[r])&&o[0]===ff&&o[1]===f)return h[2]=o[2];if((s[r]=h)[2]=n(t,i,e))return!0}}}function ctt(n){return 1<n.length?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yp(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function sa(n){return void 0!==n}function ltt(n){return"string"==typeof n}function uvt(n,t){var i,r=(t=t||hvt).createElement("div"),u=t.createDocumentFragment();for(r.innerHTML=n;i=r.firstChild;)u.appendChild(i);return u}function fvt(n,t){return n&&t&&-1!==(" "+n.className+" ").indexOf(" "+t+" ")}function evt(n,t,i){var u,r;return t=a(t)[0],n.each(function(){i&&u===this.parentNode||(u=this.parentNode,r=t.cloneNode(!1),this.parentNode.insertBefore(r,this));r.appendChild(this)}),n}function lr(n,t){return new a.fn.init(n,t)}function ovt(n){return null==n?"":(""+n).replace(rvi,"")}function kf(n,t){var f,u,r,i;if(n)if(void 0===(f=n.length)){for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],!1===t.call(i,u,i)))break}else for(r=0;r<f&&(i=n[r],!1!==t.call(i,r,i));r++);return n}function svt(n,t){var i=[];return kf(n,function(n,r){t(r,n)&&i.push(r)}),i}function cvt(n,t,i){var u=[],r=n[t];for("string"!=typeof i&&i instanceof a&&(i=i[0]);r&&9!==r.nodeType;){if(void 0!==i){if(r===i)break;if("string"==typeof i&&a(r).is(i))break}1===r.nodeType&&u.push(r);r=r[t]}return u}function wtt(n,t,i,r){var u=[];for(r instanceof a&&(r=r[0]);n;n=n[t])if(!i||n.nodeType===i){if(void 0!==r){if(n===r)break;if("string"==typeof r&&a(n).is(r))break}u.push(n)}return u}function lvt(n,t,i){for(n=n[t];n;n=n[t])if(n.nodeType===i)return n;return null}function avt(n,t){var i=t.attr("style"),r=n.serialize(n.parse(i),t[0].nodeName)||null;t.attr("data-mce-style",r)}function ec(n,t){var r,i,u=0;if(n)for(r=n.nodeType,n=n.previousSibling;n;n=n.previousSibling)i=n.nodeType,(!t||3!==i||i!==r&&n.nodeValue.length)&&(u++,r=i);return u}function iu(n){void 0===n&&(n={});this.states={};this.queue=[];this.scriptLoadedCallbacks={};this.queueLoadedCallbacks=[];this.loading=0;this.settings=n}function hi(n){var t=n;return{get:function(){return t},set:function(n){t=n}}}function vvt(){return at(la,dtt.get())}function oc(){function u(){return t.get().each(i)}var i,t,r=(i=y,t=hi(n.none()),{clear:function(){u();t.set(n.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(i){u();t.set(n.some(i))}});return c(c({},r),{on:function(n){return r.get().each(n)}})}function gtt(n,t){var i=null;return{cancel:function(){al(i)||(clearTimeout(i),i=null)},throttle:function(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];al(i)&&(i=setTimeout(function(){i=null;n.apply(null,u)},t))}}}function yvt(n,t){function r(){al(i)||(clearTimeout(i),i=null)}var i=null;return{cancel:r,throttle:function(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];r();i=setTimeout(function(){i=null;n.apply(null,f)},t)}}}function nit(n,t){var i=na(n,t);return void 0===i||""===i?[]:i.split(" ")}function pp(n){return void 0!==n.dom.classList}function wp(n,t){var i,r,u;pp(n)?n.dom.classList.add(t):(r=t,u=nit(i=n,"class").concat([r]),du(i,"class",u.join(" ")))}function pvt(n,t){return pp(n)&&n.dom.classList.contains(t)}function gi(n,i){return pht(r=void 0===n?document:n.dom)?[]:ut(r.querySelectorAll(i),t.fromDom);var r}function wvt(i,r){function u(t,i){return(r=t.dom)&&r.hasAttribute&&r.hasAttribute(i)?n.some(na(t,i)):n.none();var r}var f=i.selection.getRng(),e=t.fromDom(f.startContainer),o=t.fromDom(i.getBody()),s=r.fold(function(){return"."+uit()},function(n){return"["+aa()+'="'+n+'"]'});return fn(oy(e,f.startOffset).getOr(e),s,function(n){return nt(n,o)}).bind(function(n){return u(n,""+kp()).bind(function(t){return u(n,""+aa()).map(function(n){var r=hvi(i,t);return{uid:t,name:n,elements:r}})})})}function svi(t){function o(){return{listeners:[],previous:oc()}}function u(n,t){i(n,function(n){return t(n),n})}function i(n,t){var i=r.get(),u=t(at(i,n).getOrThunk(o));i[n]=u;r.set(i)}var r=hi({}),f=yvt(function(){var f=r.get();e(ig(lh(f)),function(r){i(r,function(i){var f=i.previous.get();return wvt(t,n.some(r)).fold(function(){var n;f.isSome()&&(u(n=r,function(t){e(t.listeners,function(t){return t(!1,n)})}),i.previous.clear())},function(n){var r,o,s,t=n.uid,h=n.name,c=n.elements;ay(f,t)||(o=t,s=c,u(r=h,function(n){e(n.listeners,function(n){return n(!0,r,{uid:o,nodes:ut(s,function(n){return n.dom})})})}),i.previous.set(t))}),{previous:i.previous,listeners:i.listeners}})})},30);return t.on("remove",function(){f.cancel()}),t.on("NodeChange",function(){f.throttle()}),{addListener:function(n,t){i(n,function(n){return{previous:n.previous,listeners:n.listeners.concat([t])}})}}}function bvt(n){var t=(new Date).getTime();return n+"_"+Math.floor(1e9*Math.random())+ ++cvi+String(t)}function kvt(n,i){var r,u,f=hct(n).dom,e=t.fromDom(f.createDocumentFragment());sy(e,(r=i,(u=(f||document).createElement("div")).innerHTML=r,nu(t.fromDom(u))));wg(n);ii(n,e)}function dvt(n,i){return t.fromDom(n.dom.cloneNode(i))}function sc(n){return dvt(n,!1)}function gvt(n){return dvt(n,!0)}function nyt(t,i,r){function u(t){for(var i;(i=f[t]())&&!o(i)&&!r(i););return n.from(i).filter(o)}void 0===r&&(r=it);var f=new yt(t,i);return{current:function(){return n.from(f.current()).filter(o)},next:function(){return u("next")},prev:function(){return u("prev")},prev2:function(){return u("prev2")}}}function tyt(t,i){var u=i||function(n){return t.isBlock(n)||st(n)||rt(n)},r=function(t,i,u,f){if(o(t)){var e=f(t,i,t.data);if(-1!==e)return n.some({container:t,offset:e})}return u().bind(function(n){return r(n.container,n.offset,u,f)})};return{backwards:function(n,t,i,f){var e=nyt(n,f,u);return r(n,t,function(){return e.prev().map(function(n){return{container:n,offset:n.length}})},i).getOrNull()},forwards:function(n,t,i,f){var e=nyt(n,f,u);return r(n,t,function(){return e.next().map(function(n){return{container:n,offset:0}})},i).getOrNull()}}}function os(n){return n?{left:lc(n.left),top:lc(n.top),bottom:lc(n.bottom),right:lc(n.right),width:lc(n.width),height:lc(n.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function iyt(n,t){return n=os(n),t||(n.left=n.left+n.width),n.right=n.left,n.width=0,n}function ryt(n,t,i){return 0<=n&&n<=Math.min(t.height,i.height)/2}function hc(n,t){var i=Math.min(t.height/2,n.height/2);return n.bottom-i<t.top||!(n.top>t.bottom)&&ryt(t.top-n.bottom,n,t)}function cc(n,t){return n.top>t.bottom||!(n.bottom<t.top)&&ryt(t.bottom-n.top,n,t)}function uyt(n,t,i){return t>=n.left&&t<=n.right&&i>=n.top&&i<=n.bottom}function bp(n){var t=n.startContainer,i=n.startOffset;return t.hasChildNodes()&&n.endOffset===i+1?t.childNodes[i]:null}function to(n,t){var i,r;return h(n)&&n.hasChildNodes()?(i=n.childNodes,i[(r=i.length-1,Math.min(Math.max(t,0),r))]):n}function fyt(n){return"string"==typeof n&&768<=n.charCodeAt(0)&&lvi.test(n)}function tit(n){return"createRange"in n?n.createRange():d.DOM.createRng()}function iit(n){return n&&/[\r\n\t ]/.test(n)}function eyt(n){return n.setStart&&n.setEnd}function rit(n){var t=n.startContainer,r=n.startOffset,i;if(iit(n.toString())&&yvi(t.parentNode)&&o(t))return i=t.data,iit(i[r-1])||iit(i[r+1])?1:void 0}function oyt(n){return 0===n.left&&0===n.right&&0===n.top&&0===n.bottom}function ss(n,t){var i=iyt(n,t);return i.width=1,i.right=i.left+1,i}function gp(n,t){o(t)&&0===t.data.length&&n.remove(t)}function eit(t,i,r){var u,f,e,s,o,h,c;tn(r)?(e=t,s=i,h=n.from((o=r).firstChild),c=n.from(o.lastChild),s.insertNode(o),h.each(function(n){return gp(e,n.previousSibling)}),c.each(function(n){return gp(e,n.nextSibling)})):(u=t,i.insertNode(f=r),gp(u,f.previousSibling),gp(u,f.nextSibling))}function ayt(n){return function(t){return n===t}}function vyt(n){var i,t,r,u;return(au(n)?"text()":n.nodeName.toLowerCase())+"["+(t=ait(iwt(i=n)),r=sht(t,ayt(i),i),u=uy(t=t.slice(0,r+1),function(n,i,r){return au(i)&&au(t[r-1])&&n++,n},0),sht(t=ch(t,dr([i.nodeName])),ayt(i),i)-u)+"]"}function yyt(n,t){var r,f,o,e=[],i=t.container(),u=t.offset();return au(i)?r=function(n,t){for(;(n=n.previousSibling)&&au(n);)t+=n.data.length;return t}(i,u):(u>=(f=i.childNodes).length?(r="after",u=f.length-1):r="before",i=f[u]),e.push(vyt(i)),o=ch(function(n,t){var i=[];for(t=t.parentNode;t!==n;t=t.parentNode)i.push(t);return i}(n,i),ng(ko)),(e=e.concat(fg(o,vyt))).reverse().join("/")+","+r}function pyt(n,t){if(!t)return null;var f=t.split(","),e=f[0].split("/"),u=1<f.length?f[1]:"before",r=uy(e,function(n,t){var u,f,e,i,r=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return r?("text()"===r[1]&&(r[1]="#text"),u=n,f=r[1],e=parseInt(r[2],10),i=ch(i=ait(u),function(n,t){return!au(n)||!au(i[t-1])}),(i=ch(i,dr([f])))[e]):null},n);return r?au(r)?function(n,t){for(var u,r=n,f=0;au(r);){if(u=r.data.length,f<=t&&t<=f+u){n=r;t-=f;break}if(!au(r.nextSibling)){n=r;t=u;break}f+=u;r=r.nextSibling}return au(n)&&t>n.data.length&&(t=n.data.length),i(n,t)}(r,parseInt(u,10)):(u="after"===u?twt(r)+1:twt(r),i(r.parentNode,u)):null}function wyt(n,t,i,r,u){var s,f=r[u?"startContainer":"endContainer"],e=r[u?"startOffset":"endOffset"],h=[],c=0,l=n.getRoot();for(o(f)?h.push(i?function(n,t,i){for(var u=n(t.data.slice(0,i)).length,r=t.previousSibling;r&&o(r);r=r.previousSibling)u+=n(r.data).length;return u}(t,f,e):e):(e>=(s=f.childNodes).length&&s.length&&(c=1,e=Math.max(0,s.length-1)),h.push(n.nodeIndex(s[e],i)+c));f&&f!==l;f=f.parentNode)h.push(n.nodeIndex(f,i));return h}function oit(n,t,i){var u=0;return r.each(n.select(t),function(n){if("all"!==n.getAttribute("data-mce-bogus"))return n!==i&&void u++}),u}function byt(n,t){var u,f=t?"start":"end",i=n[f+"Container"],r=n[f+"Offset"];h(i)&&"TR"===i.nodeName&&(i=(u=i.childNodes)[Math.min(t?r:r-1,u.length-1)])&&(r=t?0:i.childNodes.length,n["set"+(t?"Start":"End")](i,r))}function kyt(n){return byt(n,!0),byt(n,!1),n}function dyt(n,t){var i;return h(n)&&(n=to(n,t),uw(n))?n:hr(n)?(i=(n=o(n)&&kh(n)?n.parentNode:n).previousSibling,uw(i)?i:(i=n.nextSibling,uw(i)?i:void 0)):void 0}function gyt(n,t,i){var u=i.getNode(),r=u?u.nodeName:null,c=i.getRng(),f,l,a,v,s,h,e,o;return uw(u)||"IMG"===r?{name:r,index:oit(i.dom,r,u)}:(o=dyt((f=c).startContainer,f.startOffset)||dyt(f.endContainer,f.endOffset),o?{name:r=o.tagName,index:oit(i.dom,r,o)}:(h=(a=i).dom,(e={}).start=wyt(h,l=n,v=t,s=c,!0),a.isCollapsed()||(e.end=wyt(h,l,v,s,!1)),tat(s)&&(e.isFakeCaret=!0),e))}function npt(n,t,i){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return i?n.create("span",r,"&#xFEFF;"):n.create("span",r)}function tpt(n,t){var i=n.dom,r=n.getRng(),u=i.uniqueId(),s=n.isCollapsed(),o=n.getNode(),f=o.nodeName,e;return"IMG"===f?{name:f,index:oit(i,f,o)}:(e=kyt(r.cloneRange()),s||(e.collapse(!1),eit(i,e,npt(i,u+"_end",t))),(r=kyt(r)).collapse(!0),eit(i,r,npt(i,u+"_start",t)),n.moveToBookmark({id:u,keep:!0}),{id:u})}function ipt(n,t,i){var r=n.getParam(t,i);return-1===r.indexOf("=")?r:at(n.getParam(t,"","hash"),n.id).getOr(i)}function rpt(n){return n.getParam("content_security_policy","")}function si(n){if(n.getParam("force_p_newlines",!1))return"p";var t=n.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t}function pa(n){return n.getParam("forced_root_block_attrs",{})}function upt(n){return n.getParam("automatic_uploads",!0,"boolean")}function fpt(n){return n.getParam("icons","","string")}function ept(n){return n.getParam("referrer_policy","","string")}function opt(n){return n.getParam("language","en","string")}function spt(n){return n.getParam("indent_use_margin",!1)}function hpt(n){var t=n.getParam("font_css",[]);return br(t)?t:ut(t.split(","),lg)}function cpt(n){var t=n.getParam("object_resizing");return!1!==t&&!l.iOS&&(ht(t)?t:"table,img,figure.image,div,video,iframe")}function lpt(n){return n.getParam("event_root")}function wa(n){return n.getParam("theme")}function ba(n){return!1!==n.getParam("inline_boundaries")}function sit(n){return n.getParam("plugins","","string")}function apt(n){var t=n.parentNode;t&&t.removeChild(n)}function vpt(n){var t=ve(n);return{count:n.length-t.length,text:t}}function ypt(n){for(var t;-1!==(t=n.data.lastIndexOf(fi));)n.deleteData(t,1)}function ppt(n,t){return cs(n),t}function pvi(t,r){var u,f=r.container(),e=(-1===(u=dst(bu(f.childNodes),t))?n.none():n.some(u)).map(function(n){return n<r.offset()?i(f,r.offset()-1):r}).getOr(r);return cs(t),e}function wvi(n,t){return i.isTextPosition(t)?(u=t,uwt(r=n)&&u.container()===r?(o=vpt((f=r).data.substr(0,(e=u).offset())),h=vpt(f.data.substr(e.offset())),0<(o.text+h.text).length?(ypt(f),i(f,e.offset()-o.count)):e):ppt(r,u)):(s=n,((c=t).container()===s.parentNode?pvi:ppt)(s,c));var r,u,f,e,o,h,s,c}function wpt(n,t,i){var e,f,o,r=iyt(t.getBoundingClientRect(),i),s="BODY"===n.tagName?(e=n.ownerDocument.documentElement,f=n.scrollLeft||e.scrollLeft,n.scrollTop||e.scrollTop):(o=n.getBoundingClientRect(),f=n.scrollLeft-o.left,n.scrollTop-o.top),u;return r.left+=f,r.right+=f,r.top+=s,r.bottom+=s,r.width=1,u=t.offsetWidth-t.clientWidth,0<u&&(i&&(u*=-1),r.left+=u,r.right+=u),r}function bvi(n,i,r,u){function s(){!function(){for(var f,e,n,u=gi(t.fromDom(i),"*[contentEditable=false],video,audio,embed,object"),r=0;r<u.length;r++)e=u[r].dom,n=e.previousSibling,up(n)&&(1===(f=n.data).length?n.parentNode.removeChild(n):n.deleteData(f.length-1,1)),n=e.nextSibling,rp(n)&&(1===(f=n.data).length?n.parentNode.removeChild(n):n.deleteData(0,1))}();f&&(cs(f),f=null);o.on(function(n){a(n.caret).remove();o.clear()});e&&(ui.clearInterval(e),e=void 0)}var e,f,o=oc(),h=si(n),l=0<h.length?h:"p";return{show:function(n,t){var h,v,y;return(s(),tyi(t))?null:r(t)?(f=function(n,t,i){var f,r=t.ownerDocument.createElement(n),u;return r.setAttribute("data-mce-caret",i?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(((f=document.createElement("br")).setAttribute("data-mce-bogus","1"),f)),u=t.parentNode,i?u.insertBefore(r,t):t.nextSibling?u.insertBefore(r,t.nextSibling):u.appendChild(r),r}(l,t,n),v=wpt(i,t,n),a(f).css("top",v.top),y=a('<div class="mce-visual-caret" data-mce-bogus="all"><\/div>').css(c({},v)).appendTo(i)[0],o.set({caret:y,element:t,before:n}),n&&a(y).addClass("mce-visual-caret-before"),e=ui.setInterval(function(){u()?a("div.mce-visual-caret",i).toggleClass("mce-visual-caret-hidden"):a("div.mce-visual-caret",i).addClass("mce-visual-caret-hidden")},500),(h=t.ownerDocument.createRange()).setStart(f,0),h.setEnd(f,0),h):(f=function(n,t){var r=n.ownerDocument.createTextNode(fi),u=n.parentNode,i;if(t){if(i=n.previousSibling,nc(i)){if(hr(i))return i;if(up(i))return i.splitText(i.data.length-1)}u.insertBefore(r,n)}else{if(i=n.nextSibling,nc(i)){if(hr(i))return i;if(rp(i))return i.splitText(1),i}n.nextSibling?u.insertBefore(r,n.nextSibling):u.appendChild(r)}return r}(t,n),h=t.ownerDocument.createRange(),da(f.nextSibling)?(h.setStart(f,0),h.setEnd(f,0)):(h.setStart(f,1),h.setEnd(f,1)),h)},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.on(function(n){var t=wpt(i,n.element,n.before);a(n.caret).css(c({},t))})},destroy:function(){return ui.clearInterval(e)}}}function bpt(){return vit.isIE()||vit.isEdge()||vit.isFirefox()}function hs(n){return da(n)||yh(n)&&bpt()}function nw(n,t){for(var i;i=n(t);)if(!ewt(i))return i;return null}function ac(n,t,i,r,u){var f=new yt(n,r),e=yit(n)||ewt(n);if(t<0){if(e&&i(n=nw(f.prev.bind(f),!0)))return n;for(;n=nw(f.prev.bind(f),u);)if(i(n))return n}if(0<t){if(e&&i(n=nw(f.next.bind(f),!0)))return n;for(;n=nw(f.next.bind(f),u);)if(i(n))return n}return null}function ro(n,t){for(;n&&n!==t;){if(ryi(n))return n;n=n.parentNode}return null}function ef(n,t,i){return ro(n.container(),i)===ro(t.container(),i)}function hit(n,t){if(!t)return null;var i=t.container(),r=t.offset();return owt(i)?i.childNodes[r+n]:null}function kpt(n,t){var i=t.ownerDocument.createRange();return n?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)),i}function dpt(n,t,i){for(var f,e,r,u=n?"previousSibling":"nextSibling";i&&i!==t;){if(r=i[u],fwt(r)&&(r=r[u]),yit(r)||iyi(r)){if(e=i,ro(r,f=t)===ro(e,f))return r;break}if(uyi(r))break;i=i.parentNode}return null}function cit(n,t,i){var f,e=u(dpt,!0,t),s=u(dpt,!1,t),r=i.startContainer,h=i.startOffset,c;if(kh(r)){if(c=(r=owt(r)?r:r.parentNode).getAttribute("data-mce-caret"),"before"===c&&hs(f=r.nextSibling))return ga(f);if("after"===c&&hs(f=r.previousSibling))return nv(f)}if(!i.collapsed)return i;if(o(r)){if(fwt(r)){if(1===n){if(f=s(r))return ga(f);if(f=e(r))return nv(f)}if(-1===n){if(f=e(r))return nv(f);if(f=s(r))return ga(f)}return i}if(up(r)&&h>=r.data.length-1)return 1===n&&(f=s(r))?ga(f):i;if(rp(r)&&h<=1)return-1===n&&(f=e(r))?nv(f):i;if(h===r.data.length)return(f=s(r))?ga(f):i;if(0===h)return(f=e(r))?nv(f):i}return i}function gpt(t,i){return n.from(hit(t?0:-1,i)).filter(yit)}function ka(n,t,r){var u=cit(n,t,r);return-1===n?i.fromRangeStart(u):i.fromRangeEnd(u)}function tw(i){return n.from(i.getNode()).map(t.fromDom)}function lit(n,t){for(;t=n(t);)if(t.isVisible())return t;return t}function iw(n,t){var i=ef(n,t);return!(i||!st(n.getNode()))||i}function swt(n,t){return n.hasChildNodes()&&t<n.childNodes.length?n.childNodes[t]:null}function hwt(n,t){if(0<n){if(kc(t.previousSibling)&&!cf(t.previousSibling))return i.before(t);if(cf(t))return i(t,0)}if(n<0){if(kc(t.nextSibling)&&!cf(t.nextSibling))return i.after(t);if(cf(t))return i(t,t.data.length)}return n<0&&!ort(t)?i.after(t):i.before(t)}function vu(n){return{next:function(t){return srt(bt.Forwards,t,n)},prev:function(t){return srt(bt.Backwards,t,n)}}}function cwt(n){return i.isTextPosition(n)?0===n.offset():nf(n.getNode())}function lwt(n){if(i.isTextPosition(n)){var t=n.container();return n.offset()===t.data.length}return nf(n.getNode(!0))}function awt(n,t){return!i.isTextPosition(n)&&!i.isTextPosition(t)&&n.getNode()===t.getNode(!0)}function fw(t,r,u){return vr(t,r,u).bind(function(f){return ef(u,f,r)&&(e=u,o=f,t?!awt(e,o)&&(i.isTextPosition(s=e)||!st(s.getNode()))&&lwt(e)&&cwt(o):!awt(o,e)&&cwt(e)&&lwt(o))?vr(t,r,f):n.some(f);var e,o,s})}function vc(t,r){var s,h,f,c,e,u=t?r.firstChild:r.lastChild;return o(u)?n.some(i(u,t?0:u.data.length)):u?nf(u)?n.some(t?i.before(u):st(e=u)?i.before(e):i.after(e)):(h=r,f=u,c=(s=t)?i.before(f):i.after(f),vr(s,h,c)):n.none()}function sf(n){return h(n)&&n.id===vbt}function ls(n,t){for(;t&&t!==n;){if(t.id===vbt)return t;t=t.parentNode}return null}function vwt(n){return r.isArray(n.start)}function ywt(n,t){return h(t)&&n.isBlock(t)&&!t.innerHTML&&!l.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t}function pwt(n,t,i){return!1===t.hasChildNodes()&&ls(n,t)&&(u=i,r=(f=t).ownerDocument.createTextNode(fi),f.appendChild(r),u.setStart(r,0),u.setEnd(r,0),1);var f,u,r}function wwt(n,t,i,r){var e,u,o,s,f=i[t?"start":"end"],h=n.getRoot();if(f){for(o=f[0],u=h,e=f.length-1;1<=e;e--){if(s=u.childNodes,pwt(h,u,r))return 1;if(f[e]>s.length-1)return pwt(h,u,r)||function(n){return af(u).fold(it,function(t){return n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),!0})}(r);u=s[f[e]]}3===u.nodeType&&(o=Math.min(f[0],u.nodeValue.length));1===u.nodeType&&(o=Math.min(f[0],u.childNodes.length));t?r.setStart(u,o):r.setEnd(u,o)}return 1}function pit(n){return o(n)&&0<n.data.length}function bwt(t,u,f){var s,a,c,h,v,y,e=t.get(f.id+"_"+u),p=f.keep;if(e){if(s=e.parentNode,a="start"===u?p?e.hasChildNodes()?(s=e.firstChild,1):pit(e.nextSibling)?(s=e.nextSibling,0):pit(e.previousSibling)?(s=e.previousSibling,e.previousSibling.data.length):(s=e.parentNode,t.nodeIndex(e)+1):t.nodeIndex(e):p?e.hasChildNodes()?(s=e.firstChild,1):pit(e.previousSibling)?(s=e.previousSibling,e.previousSibling.data.length):(s=e.parentNode,t.nodeIndex(e)):t.nodeIndex(e),v=s,y=a,!p){for(h=e.previousSibling,c=e.nextSibling,r.each(r.grep(e.childNodes),function(n){o(n)&&(n.nodeValue=n.nodeValue.replace(/\uFEFF/g,""))});e=t.get(f.id+"_"+u);)t.remove(e,!0);h&&c&&h.nodeType===c.nodeType&&o(h)&&!l.opera&&(a=h.nodeValue.length,h.appendData(c.nodeValue),t.remove(c),v=h,y=a)}return n.some(i(v,y))}return n.none()}function fyi(t,i){!function(t,i){var s,v,u,y,p,h,c,f,r,l,a,e,o=t.dom;if(i){if(vwt(i))return a=i,e=(l=o).createRng(),wwt(l,!0,a,e)&&wwt(l,!1,a,e)?n.some(e):n.none();if(ht(i.start))return n.some((c=i,f=(h=o).createRng(),r=pyt(h.getRoot(),c.start),f.setStart(r.container(),r.offset()),r=pyt(h.getRoot(),c.end),f.setEnd(r.container(),r.offset()),f));if(w(i,"id"))return di(p=bwt(u=o,"start",y=i),bwt(u,"end",y).or(p),function(n,t){var i=u.createRng();return i.setStart(ywt(u,n.container()),n.offset()),i.setEnd(ywt(u,t.container()),t.offset()),i});if(w(i,"name"))return s=o,n.from(s.select((v=i).name)[v.index]).map(function(n){var t=s.createRng();return t.selectNode(n),t});if(w(i,"rng"))return n.some(i.rng)}return n.none()}(t,i).each(function(n){t.setRng(n)})}function ar(n){return h(n)&&"SPAN"===n.tagName&&"bookmark"===n.getAttribute("data-mce-type")}function yc(n){return""!==n&&-1!==" \f\n\r\t\v".indexOf(n)}function wit(n){return!yc(n)&&!uv(n)}function ew(n){return n.nodeType}function kwt(n,t,i){var c,s=i.startOffset,r=i.startContainer,f,e,u;if((r!==i.endContainer||!(c=r.childNodes[s])||!/^(IMG)$/.test(c.nodeName))&&h(r))for(f=r.childNodes,e=void 0,s<f.length?(r=f[s],e=new yt(r,n.getParent(r,n.isBlock))):(r=f[f.length-1],(e=new yt(r,n.getParent(r,n.isBlock))).next(!0)),u=e.current();u;u=e.next())if(o(u)&&!hrt(u))return i.setStart(u,0),t.setRng(i),0}function bit(n,t,i){if(n){var r=t?"nextSibling":"previousSibling";for(n=i?n:n[r];n;n=n[r])if(h(n)||!hrt(n))return n}}function kit(n,t){return ew(t)&&(t=t.nodeName),!!n.schema.getTextBlockElements()[t.toLowerCase()]}function pc(n,t,i){return n.schema.isValidChild(t,i)}function gf(n,t){return ft(n)?n=n(t):g(t)&&(n=n.replace(/%(\w+)/g,function(n,i){return t[i]||n})),n}function dit(n,t){return n=""+((n=n||"").nodeName||n),t=""+((t=t||"").nodeName||t),n.toLowerCase()===t.toLowerCase()}function git(n,t,i){return"color"!==i&&"backgroundColor"!==i||(t=n.toHex(t)),"fontWeight"===i&&700===t&&(t="bold"),""+("fontFamily"===i?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}function ow(n,t,i){return git(n,n.getStyle(t,i),i)}function dwt(n,t){var i;return n.getParent(t,function(t){return(i=n.getStyle(t,"text-decoration"))&&"none"!==i}),i}function sw(n,t,i){return n.getParents(t,i,n.getRoot())}function eyi(n,t){return vi(n.formatter.get(t),function(n){function t(n){return 1<n.length&&"%"===n.charAt(0)}return vi(["styles","attributes"],function(i){return at(n,i).exists(function(n){var r,i;return vi(br(n)?n:(r=ki,i=[],et(n,function(n,t){i.push(r(n,t))}),i),t)})})})}function hf(n){return hh(n,"block")}function ur(n){return hh(n,"selector")}function kt(n){return hh(n,"inline")}function nrt(n){return ur(n)&&!1!==n.expand&&!kt(n)}function gwt(n,t){for(var i=t;i;){if(h(i)&&n.getContentEditable(i))return"false"===n.getContentEditable(i)?i:t;i=i.parentNode}return t}function nbt(n,t,i,r){for(var f=t.data,u=i;n?0<=u:u<f.length;n?u--:u++)if(r(f.charAt(u)))return n?u+1:u;return-1}function oyi(n,t,i){return nbt(n,t,i,function(n){return uv(n)||yc(n)})}function syi(n,t,i){return nbt(n,t,i,wit)}function tbt(t,i,r,u,f,e){function s(i,r,u){var e=tyt(t),s=f?e.backwards:e.forwards;return n.from(s(i,r,function(n,t){return dc(n.parentNode)?-1:u(f,o=n,t)},h))}var o,h=t.getParent(r,t.isBlock)||i;return s(r,u,oyi).bind(function(t){return e?s(t.container,t.offset+(f?-1:0),syi):n.some(t)}).orThunk(function(){return o?n.some({container:o,offset:f?0:o.length}):n.none()})}function ibt(n,t,i,r,u){var s,f,h,e;for(o(r)&&lht(r.data)&&r[u]&&(r=r[u]),s=ybt(n,r),f=0;f<s.length;f++)for(h=0;h<t.length;h++)if(e=t[h],(!g(e.collapsed)||e.collapsed===i.collapsed)&&ur(e)&&n.is(s[f],e.selector))return s[f];return r}function rbt(n,t,i,r){var s,u=i,f=n.dom,h=f.getRoot(),e=t[0];if((u=hf(e)?e.wrapper?null:f.getParent(i,e.block,h):u)||(s=f.getParent(i,"LI,TD,TH"),u=f.getParent(o(i)?i.parentNode:i,function(t){return t!==h&&ayi(n,t)},s)),!(u=u&&hf(e)&&e.wrapper&&ybt(f,u,"ul,ol").reverse()[0]||u))for(u=i;u[r]&&!f.isBlock(u[r])&&!dit(u=u[r],"br"););return u||i}function hw(n,t,i,r,u){var s,f=i,h=u?"previousSibling":"nextSibling",c=n.getRoot(),e,l;if(o(i)&&!pbt(i)&&(u?0<r:r<i.data.length))return i;for(;;){if(!t[0].block_expand&&n.isBlock(f))return f;for(e=f[h];e;e=e[h])if(l=o(e)&&!wbt(n,c,e,h),!dc(e)&&(!st(s=e)||!s.getAttribute("data-mce-bogus")||s.nextSibling)&&!pbt(e,l))return f;if(f===c||f.parentNode===c){i=f;break}f=f.parentNode}return i}function ubt(n){return dc(n.parentNode)||dc(n)}function wc(n,t,i,r){void 0===r&&(r=!1);var f=t.startContainer,c=t.startOffset,u=t.endContainer,s=t.endOffset,e=n.dom,l=i[0];return h(f)&&f.hasChildNodes()&&(f=to(f,c),o(f)&&(c=0)),h(u)&&u.hasChildNodes()&&(u=to(u,t.collapsed?s:s-1),o(u)&&(s=u.nodeValue.length)),f=gwt(e,f),u=gwt(e,u),ubt(f)&&(f=dc(f)?f:f.parentNode,f=t.collapsed?f.previousSibling||f:f.nextSibling||f,o(f)&&(c=t.collapsed?f.length:0)),ubt(u)&&(u=dc(u)?u:u.parentNode,u=t.collapsed?u.nextSibling||u:u.previousSibling||u,o(u)&&(s=t.collapsed?0:u.length)),t.collapsed&&(tbt(e,n.getBody(),f,c,!0,r).each(function(n){var t=n.container,i=n.offset;f=t;c=i}),tbt(e,n.getBody(),u,s,!1,r).each(function(n){var t=n.container,i=n.offset;u=t;s=i})),(kt(l)||l.block_expand)&&(kt(l)&&o(f)&&0!==c||(f=hw(e,i,f,c,!0)),kt(l)&&o(u)&&s!==u.nodeValue.length||(u=hw(e,i,u,s,!1))),nrt(l)&&(f=ibt(e,i,t,f,"previousSibling"),u=ibt(e,i,t,u,"nextSibling")),(hf(l)||ur(l))&&(f=rbt(n,i,f,"previousSibling"),u=rbt(n,i,u,"nextSibling"),hf(l)&&(e.isBlock(f)||(f=hw(e,i,f,c,!0)),e.isBlock(u)||(u=hw(e,i,u,s,!1)))),h(f)&&(c=e.nodeIndex(f),f=f.parentNode),h(u)&&(s=e.nodeIndex(u)+1,u=u.parentNode),{startContainer:f,startOffset:c,endContainer:u,endOffset:s}}function tv(n,t,i){function c(n){var t=n[0],i;return o(t)&&t===r&&y>=t.data.length&&n.splice(0,1),i=n[n.length-1],0===p&&0<n.length&&i===u&&o(i)&&n.splice(n.length-1,1),n}function a(n,t,i){for(var r=[];n&&n!==i;n=n[t])r.push(n);return r}function v(t,i){return n.getParent(t,function(n){return n.parentNode===i},i)}function h(n,t,r){var e=r?"nextSibling":"previousSibling",u=n,o,f;for(u.parentNode;u&&u!==t;u=o)o=u.parentNode,f=a(u===n?u:u[e],e),f.length&&(r||f.reverse(),i(c(f)))}var y=t.startOffset,r=to(t.startContainer,y),p=t.endOffset,u=to(t.endContainer,p-1),f,e,s,l;if(r===u)return i(c([r]));if(f=n.findCommonAncestor(r,u),n.isChildOf(r,u))return h(r,f,!0);if(n.isChildOf(u,r))return h(u,f);e=v(r,f)||r;s=v(u,f)||u;h(r,e,!0);l=a(e===r?e:e.nextSibling,"nextSibling",s===u?s.nextSibling:s);l.length&&i(c(l));h(u,s)}function trt(n){var i=[],t;if(n)for(t=0;t<n.rangeCount;t++)i.push(n.getRangeAt(t));return i}function fbt(n,i){var r=gi(i,"td[data-mce-selected],th[data-mce-selected]");return 0<r.length?r:p(sh(n,function(n){var i=bp(n);return i?[t.fromDom(i)]:[]}),np)}function bc(n){return fbt(trt(n.selection.getSel()),t.fromDom(n.getBody()))}function iv(n,t){return wy(n,"table",t)}function irt(i,r){return di((e=r.startContainer,h=r.startOffset,o(e)?0===h?n.some(t.fromDom(e)):n.none():n.from(e.childNodes[h]).map(t.fromDom)),(f=r.endContainer,s=r.endOffset,o(f)?s===f.data.length?n.some(t.fromDom(f)):n.none():n.from(f.childNodes[s-1]).map(t.fromDom)),function(n,t){var r=gt(bbt(i),u(nt,n)),f=gt(crt(i),u(nt,t));return r.isSome()&&f.isSome()}).getOr(!1);var f,s,e,h}function rrt(n,t,i,u){var f=i,e=new yt(i,f),s=yl(n.schema.getMoveCaretBeforeOnEnterElements(),function(n,t){return!dt(["td","th","table"],t.toLowerCase())});do{if(o(i)&&0!==r.trim(i.nodeValue).length)return u?t.setStart(i,0):t.setEnd(i,i.nodeValue.length),0;if(s[i.nodeName])return u?t.setStartBefore(i):"BR"===i.nodeName?t.setEndBefore(i):t.setEndAfter(i),0}while(i=u?e.next():e.prev());"BODY"===f.nodeName&&(u?t.setStart(f,0):t.setEnd(f,f.childNodes.length))}function cw(n){var t=n.selection.getSel();return t&&0<t.rangeCount}function urt(n,t){var i=bc(n);0<i.length?e(i,function(i){var u=i.dom,r=n.dom.createRng();r.setStartBefore(u);r.setEndAfter(u);t(r,!0)}):t(n.selection.getRng(),!1)}function frt(n,t,i){var r=tpt(n,t);i(r);n.moveToBookmark(r)}function ert(n){return vyi.get(n)}function ebt(n,i,r,u){var o=i.uid,s=void 0===o?bvt("mce-annotation"):o,v=function(n,t){var u={},r;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(u[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(u[i[r]]=n[i[r]]);return u}(i,["uid"]),f=t.fromTag("span",n);wp(f,uit());du(f,""+kp(),s);du(f,""+aa(),r);var h,c=u(s,v),l=c.attributes,a=c.classes,y=void 0===a?[]:a;return se(f,void 0===l?{}:l),h=f,e(y,function(n){wp(h,n)}),f}function hyi(n,i,r,u,f){function o(){s.clear()}function h(n){e(n,a)}var c=[],l=ebt(n.getDoc(),f,r,u),s=oc(),a=function(t){var e,a,r,i,u,f;switch(r=n,u="span",f=vt(i=t),eu(i).fold(function(){return"skipping"},function(n){return"br"===f||gr(e=i)&&ert(e)===fi?"valid":su(t=i)&&pvt(t,uit())?"existing":sf(i.dom)?"caret":pc(r,u,f)&&pc(r,vt(n),u)?"valid":"invalid-child";var t,e})){case"invalid-child":o();h(nu(t));o();break;case"valid":ou(e=t,a=s.get().getOrThunk(function(){var n=sc(l);return c.push(n),s.set(n),n}));ii(a,e)}};return tv(n.dom,i,function(n){o();h(ut(n,t.fromDom))}),c}function obt(i){var r,f,o,u=(r={},{register:function(n,t){r[n]={name:n,settings:t}},lookup:function(n){return at(r,n).map(function(n){return n.settings})}}),s;return o=u,(f=i).on("init",function(){f.serializer.addNodeFilter("span",function(t){e(t,function(t){n.from(t.attr(aa())).bind(o.lookup).each(function(n){!1===n.persistent&&t.unwrap()})})})}),s=svi(i),{register:function(n,t){u.register(n,t)},annotate:function(n,t){u.lookup(n).each(function(r){var u,f,e,o;f=n;e=r;o=t;(u=i).undoManager.transact(function(){var s,i,n,r,t=u.selection,h=t.getRng(),c=0<bc(u).length;h.collapsed&&!c&&(n=wc(s=u,i=h,[{inline:"span"}]),i.setStart(n.startContainer,n.startOffset),i.setEnd(n.endContainer,n.endOffset),s.selection.setRng(i));t.getRng().collapsed&&!c?(kvt(r=ebt(u.getDoc(),o,f,e.decorate),ir),t.getRng().insertNode(r.dom),t.select(r.dom)):frt(t,!1,function(){urt(u,function(n){hyi(u,n,f,e.decorate,o)})})})})},annotationChanged:function(n,t){s.addListener(n,t)},remove:function(t){wvt(i,n.some(t)).each(function(n){e(n.elements,bct)})},getAll:function(n){var u,f,r;return fht((u=n,f=gi(t.fromDom(i.getBody()),"["+aa()+'="'+u+'"]'),r={},e(f,function(n){var t=na(n,kp()),i=at(r,t).getOr([]);r[t]=i.concat([n])}),r),function(n){return ut(n,function(n){return n.dom})})}}}function rv(n){return{getBookmark:u(lyi,n),moveToBookmark:u(fyi,n)}}function sbt(n){return vat(n)||!!gn(t=n)&&!0!==fu(bu(t.getElementsByTagName("*")),function(n,t){return n||aat(t)},!1);var t}function gc(n,t){for(;t&&t!==n;){if(gu(t)||rt(t))return t;t=t.parentNode}return null}function lrt(n,t,i){if(!i.collapsed){if(l.browser.isIE()&&i.startOffset===i.endOffset-1&&i.startContainer===i.endContainer){var r=i.startContainer.childNodes[i.startOffset];if(h(r))return vi(r.getClientRects(),function(i){return uyt(i,n,t)})}return vi(i.getClientRects(),function(i){return uyt(i,n,t)})}}function kbt(n,t,i){return n.fire(t,i)}function dbt(n,t,i,r){return n.fire("FormatApply",{format:t,node:i,vars:r})}function art(n,t,i,r){return n.fire("FormatRemove",{format:t,node:i,vars:r})}function gbt(n,i){function ht(n){return n&&("IMG"===n.nodeName||i.dom.is(n,"figure.image"))}function vt(n){return tu(n)||u.hasClass(n,"mce-preview-object")}function ei(n){var t=n.target;!function(n,t){if("longpress"!==n.type&&0!==n.type.indexOf("touch"))return ht(n.target)&&!lrt(n.clientX,n.clientY,t);var i=n.touches[0];return ht(n.target)&&!lrt(i.clientX,i.clientY,t)}(n,i.selection.getRng())||n.isDefaultPrevented()||i.selection.select(t)}function yt(n){return u.is(n,"figure.image")?[n.querySelector("img")]:u.hasClass(n,"mce-preview-object")&&g(n.firstElementChild)?[n,n.firstElementChild]:[n]}function pt(n){var r=cpt(i);return!!r&&"false"!==n.getAttribute("data-mce-resize")&&n!==i.getBody()&&(u.hasClass(n,"mce-preview-object")?ah(t.fromDom(n.firstElementChild),r):ah(t.fromDom(n),r))}function rt(n,t,r){g(r)&&e(yt(n),function(n){n.style[t]||!i.schema.isValid(n.nodeName.toLowerCase(),t)?u.setStyle(n,t,r):u.setAttrib(n,t,""+r)})}function wt(n,t,i){rt(n,"width",t);rt(n,"height",i)}function ut(n){var t,r,b,k,d,g,e=n.screenX-gt,l=n.screenY-ni;h=e*v[2]+y;c=l*v[3]+p;h=h<5?5:h;c=c<5?5:c;((ht(f)||vt(f))&&!1!==i.getParam("resize_img_proportional",!0,"boolean")?!s.modifierPressed(n):s.modifierPressed(n))&&(fi(e)>fi(l)?(c=ot(h*tt),h=ot(c/tt)):(h=ot(c/tt),c=ot(h*tt)));wt(o,h,c);t=v.startPos.x+e;r=v.startPos.y+l;u.setStyles(nt,{left:t=0<t?t:0,top:r=0<r?r:0,display:"block"});nt.innerHTML=h+" &times; "+c;v[2]<0&&o.clientWidth<=h&&u.setStyle(o,"left",void 0+(y-h));v[3]<0&&o.clientHeight<=c&&u.setStyle(o,"top",void 0+(p-c));(e=a.scrollWidth-ti)+(l=a.scrollHeight-ii)!=0&&u.setStyles(nt,{left:t-e,top:r-l});w||(b=f,k=y,d=p,g="corner-"+v.name,i.fire("ObjectResizeStart",{target:b,width:k,height:d,origin:g}),w=!0)}function bt(t){function f(n,t){if(n)do if(n===t)return 1;while(n=n.parentNode)}var r;w||i.removed||(ri(u.select("img[data-mce-selected],hr[data-mce-selected]"),function(n){n.removeAttribute(b)}),r="mousedown"===t.type?t.target:n.getNode(),f(r=u.$(r).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],a)&&(dt(),f(n.getStart(!0),r)&&f(n.getEnd(!0),r))?lt(r):it())}function kt(n){return rkt(gc(i.getBody(),n))}function dt(){try{i.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(n){}}var f,o,nt,v,ft,gt,ni,y,p,tt,w,h,c,ti,ii,b="data-mce-selected",u=i.dom,ri=r.each,k=i.getDoc(),d=document,fi=Math.abs,ot=Math.round,a=i.getBody(),ct={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},st=function(){var n,t,r,e,s=w;w=!1;s&&(rt(f,"width",h),rt(f,"height",c));u.unbind(k,"mousemove",ut);u.unbind(k,"mouseup",st);d!==k&&(u.unbind(d,"mousemove",ut),u.unbind(d,"mouseup",st));u.remove(o);u.remove(nt);u.remove(ft);lt(f);s&&(n=f,t=h,r=c,e="corner-"+v.name,i.fire("ObjectResized",{target:n,width:t,height:r,origin:e}),u.setAttrib(f,"style",u.getAttrib(f,"style")));i.nodeChanged()},lt=function(n){var rt,et;at();var g=u.getPos(n,a),r=g.x,e=g.y,t=n.getBoundingClientRect(),s=t.width||t.right-t.left,w=t.height||t.bottom-t.top;f!==n&&(it(),f=n,h=c=0);rt=i.fire("ObjectSelected",{target:n});et=u.getAttrib(f,b,"1");pt(n)&&!rt.isDefaultPrevented()?ri(ct,function(n,t){var i=u.get("mceResizeHandle"+t);i&&u.remove(i);i=u.add(a,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"});11===l.ie&&(i.contentEditable=!1);u.bind(i,"mousedown",function(i){var h,g,c;i.stopImmediatePropagation();i.preventDefault();h=i;c=yt(f)[0];gt=h.screenX;ni=h.screenY;y=c.clientWidth;p=c.clientHeight;tt=p/y;(v=n).name=t;v.startPos={x:s*n[0]+r,y:w*n[1]+e};ti=a.scrollWidth;ii=a.scrollHeight;ft=u.add(a,"div",{"class":"mce-resize-backdrop","data-mce-bogus":"all"});u.setStyles(ft,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"});o=vt(g=f)?u.create("img",{src:l.transparentSrc}):g.cloneNode(!0);u.addClass(o,"mce-clonedresizable");u.setAttrib(o,"data-mce-bogus","all");o.contentEditable="false";u.setStyles(o,{left:r,top:e,margin:0});wt(o,s,w);o.removeAttribute(b);a.appendChild(o);u.bind(k,"mousemove",ut);u.bind(k,"mouseup",st);d!==k&&(u.bind(d,"mousemove",ut),u.bind(d,"mouseup",st));nt=u.add(a,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},y+" &times; "+p)});n.elm=i;u.setStyles(i,{left:s*n[0]+r-i.offsetWidth/2,top:w*n[1]+e-i.offsetHeight/2})}):it();u.getAttrib(f,b)||f.setAttribute(b,et)},it=function(){at();f&&f.removeAttribute(b);et(ct,function(n,t){var i=u.get("mceResizeHandle"+t);i&&(u.unbind(i),u.remove(i))})},at=function(){et(ct,function(n){n.elm&&(u.unbind(n.elm),delete n.elm)})};return i.on("init",function(){var t,n;dt();(l.browser.isIE()||l.browser.isEdge())&&(i.on("mousedown click",function(n){var t=n.target,r=t.nodeName;w||!/^(TABLE|IMG|HR)$/.test(r)||kt(t)||(2!==n.button&&i.selection.select(t,"TABLE"===r),"mousedown"===n.type&&i.nodeChanged())}),u.bind(a,"mscontrolselect",t=function(n){function t(n){ui.setEditorTimeout(i,function(){return i.selection.select(n)})}if(kt(n.target)||tu(n.target))return n.preventDefault(),void t(n.target);/^(TABLE|IMG|HR)$/.test(n.target.nodeName)&&(n.preventDefault(),"IMG"===n.target.tagName&&t(n.target))}),i.on("remove",function(){return u.unbind(a,"mscontrolselect",t)}));n=ui.throttle(function(n){i.composing||bt(n)});i.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n);i.on("keyup compositionend",function(t){f&&"TABLE"===f.nodeName&&n(t)});i.on("hide blur",it);i.on("contextmenu longpress",ei,!0)}),i.on("remove",at),{isResizable:pt,showResizeRect:lt,hideResizeRect:it,updateResizeRect:bt,destroy:function(){f=o=ft=null}}}function yyi(n){return gu(n)||rt(n)}function vrt(n,t,i){var u,o,e,s,h,f=i;if(f.caretPositionFromPoint)(o=f.caretPositionFromPoint(n,t))&&((u=i.createRange()).setStart(o.offsetNode,o.offset),u.collapse(!0));else if(f.caretRangeFromPoint)u=f.caretRangeFromPoint(n,t);else if(f.body.createTextRange){u=f.body.createTextRange();try{u.moveToPoint(n,t);u.collapse(!0)}catch(o){u=function(n,t,i){var f,e=i.elementFromPoint(n,t),u=i.body.createTextRange();if(e&&"HTML"!==e.tagName||(e=i.body),u.moveToElementText(e),0<(f=(f=r.toArray(u.getClientRects())).sort(function(n,i){return(n=Math.abs(Math.max(n.top-t,n.bottom-t)))-Math.abs(Math.max(i.top-t,i.bottom-t))})).length){t=(f[0].bottom+f[0].top)/2;try{return u.moveToPoint(n,t),u.collapse(!0),u}catch(n){}}return null}(n,t,i)}return e=u,s=i.body,h=e&&e.parentElement?e.parentElement():null,rt(function(n,t,i){for(;n&&n!==t;){if(i(n))return n;n=n.parentNode}return null}(h,s,yyi))?null:e}return u}function yrt(n,t){return n&&t&&n.startContainer===t.startContainer&&n.startOffset===t.startOffset&&n.endContainer===t.endContainer&&n.endOffset===t.endOffset}function nkt(n,t,i){return null!==function(n,t,i){for(;n&&n!==t;){if(i(n))return n;n=n.parentNode}return null}(n,t,i)}function prt(n){return n&&"TABLE"===n.nodeName}function tkt(n,t,i){for(var r=new yt(t,n.getParent(t.parentNode,n.isBlock)||n.getRoot());t=r[i?"prev":"next"]();)if(st(t))return 1}function wrt(t,r,u,f,e){var h,s,c=t.getRoot(),p=t.schema.getNonEmptyElements(),l=t.getParent(e.parentNode,t.isBlock)||c,a,v,y;if(f&&st(e)&&r&&t.isEmpty(l))return n.some(i(e.parentNode,t.nodeIndex(e)));for(y=new yt(e,l);s=y[f?"prev":"next"]();){if("false"===t.getContentEditableParent(s)||(v=c,hr(a=s)&&!1===nkt(a,v,sf)))return n.none();if(o(s)&&0<s.nodeValue.length)return!1===nkt(s,c,function(n){return"A"===n.nodeName})?n.some(i(s,f?s.nodeValue.length:0)):n.none();if(t.isBlock(s)||p[s.nodeName.toLowerCase()])return n.none();h=s}return u&&h?n.some(i(h,0)):n.none()}function ikt(t,r,u,f){var w,v=t.getRoot(),l=!1,e=f[(u?"start":"end")+"Container"],c=f[(u?"start":"end")+"Offset"],y=h(e)&&c===e.childNodes.length,b=t.schema.getNonEmptyElements(),a=u,s,p;if(hr(e))return n.none();if(h(e)&&c>e.childNodes.length-1&&(a=!1),nn(e)&&(e=v,c=0),e===v){if(a&&(s=e.childNodes[0<c?c-1:0])&&(hr(s)||b[s.nodeName]||prt(s)))return n.none();if(e.hasChildNodes()){if((c=Math.min(!a&&0<c?c-1:c,e.childNodes.length-1),e=e.childNodes[c],c=o(e)&&y?e.data.length:0,!r&&e===v.lastChild&&prt(e))||function(n,t){for(;t&&t!==n;){if(rt(t))return 1;t=t.parentNode}}(v,e)||hr(e))return n.none();if(e.hasChildNodes()&&!1===prt(e)){s=e;p=new yt(e,v);do{if(rt(s)||hr(s)){l=!1;break}if(o(s)&&0<s.nodeValue.length){c=a?0:s.nodeValue.length;e=s;l=!0;break}if(b[s.nodeName.toLowerCase()]&&(!(w=s)||!/^(TD|TH|CAPTION)$/.test(w.nodeName))){c=t.nodeIndex(s);e=s.parentNode;a||c++;l=!0;break}}while(s=a?p.next():p.prev())}}}return r&&(o(e)&&0===c&&wrt(t,y,r,!0,e).each(function(n){e=n.container();c=n.offset();l=!0}),h(e)&&(!(s=(s=e.childNodes[c])||e.childNodes[c-1])||!st(s)||s.previousSibling&&"A"===s.previousSibling.nodeName||tkt(t,s,!1)||tkt(t,s,!0)||wrt(t,y,r,!0,s).each(function(n){e=n.container();c=n.offset();l=!0}))),a&&!r&&o(e)&&c===e.nodeValue.length&&wrt(t,y,r,!1,e).each(function(n){e=n.container();c=n.offset();l=!0}),l?n.some(i(e,c)):n.none()}function vw(t,r){var f=r.collapsed,u=r.cloneRange(),e=i.fromRangeStart(r);return ikt(t,f,!0,u).each(function(n){f&&i.isAbove(e,n)||u.setStart(n.container(),n.offset())}),f||ikt(t,f,!1,u).each(function(n){u.setEnd(n.container(),n.offset())}),f&&u.collapse(!0),yrt(r,u)?n.none():n.some(u)}function yw(n,t){return n.splitText(t)}function pw(n){var t=n.startContainer,i=n.startOffset,r=n.endContainer,u=n.endOffset;return t===r&&o(t)?0<i&&i<t.nodeValue.length&&(t=(r=yw(t,i)).previousSibling,i<u?(t=r=yw(r,u-=i).previousSibling,u=r.nodeValue.length,i=0):u=0):(o(t)&&0<i&&i<t.nodeValue.length&&(t=yw(t,i),i=0),o(r)&&0<u&&u<r.nodeValue.length&&(u=(r=yw(r,u).previousSibling).nodeValue.length)),{startContainer:t,startOffset:i,endContainer:r,endOffset:u}}function fv(n){return{walk:function(t,i){return tv(n,t,i)},split:pw,normalize:function(t){return vw(n,t).fold(it,function(n){return t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),!0})}}}function ekt(n){var t=ukt(n),i;return t<=0||null===t?(i=bf(n,ww),parseFloat(i)||0):t}function okt(n,t){return fu(t,function(t,i){var r=bf(n,i),u=void 0===r?0:parseInt(r,10);return isNaN(u)?t:t+u},0)}function brt(n){return"textarea"===vt(n)}function skt(n,t){var i=function(n){var u=n.dom.ownerDocument,t=u.body,i=u.defaultView,r=u.documentElement;if(t===n.dom)return ph(t.offsetLeft,t.offsetTop);var f=hy(null==i?void 0:i.pageYOffset,r.scrollTop),e=hy(null==i?void 0:i.pageXOffset,r.scrollLeft),o=hy(r.clientTop,t.clientTop),s=hy(r.clientLeft,t.clientLeft);return dg(n).translate(e-s,f-o)}(n),r=fkt.get(n);return{element:n,bottom:i.top+r,height:r,pos:i,cleanup:t}}function hkt(n,t,i,r){fpi(n,function(){return upi(n,t,i,r)},i)}function ckt(n,t,i,r,u){var f={elm:r.element.dom,alignToTop:u};n.fire("ScrollIntoView",f).isDefaultPrevented()||(i(t,bg(t).top,r,u),n.fire("AfterScrollIntoView",f))}function lkt(n,i,r,u){var f=t.fromDom(n.getDoc());ckt(n,f,r,skt(t.fromDom(i),y),u)}function krt(n,t,i,r){var f,u=n.pos;i?kct(u.left,u.top,r):(f=u.top-t+n.height,kct(u.left,f,r))}function akt(n,t,i,r,u){var e=i+t,f=r.pos.top,o=r.bottom,s=i<=o-f;f<t?krt(r,i,!1!==u,n):e<f?krt(r,i,s?!1!==u:!0===u,n):e<o&&!s&&krt(r,i,!0===u,n)}function vkt(n,t,i,r){akt(n,t,n.dom.defaultView.innerHeight,i,r)}function ykt(n,i,r,u){akt(n,i,n.dom.defaultView.innerHeight,r,u);var f,h,c,e,l,o,s,a=(f=r.element,e=bg(t.fromDom(document)),c=(h=rpi).owner(f),l=fdt(h,c),o=dg(f),s=tht(l,function(n,t){var i=dg(t);return{left:n.left+i.left,top:n.top+i.top}},{left:0,top:0}),ph(s.left+o.left+e.left,s.top+o.top+e.top)),v=nlt(window);a.top<v.y?dct(r.element,!1!==u):a.top>v.bottom&&dct(r.element,!0===u)}function pyi(n,t,i){return hkt(n,vkt,t,i)}function wyi(n,t,i){return lkt(n,t,vkt,i)}function byi(n,t,i){return hkt(n,ykt,t,i)}function kyi(n,t,i){return lkt(n,t,ykt,i)}function ev(n,t,i){(n.inline?pyi:byi)(n,t,i)}function pkt(n){var t=go(n).dom;return n.dom===t.activeElement}function drt(i){return void 0===i&&(i=t.fromDom(document)),n.from(i.dom.activeElement).map(t.fromDom)}function wkt(n,t){var i=gr(t)?ert(t).length:nu(t).length+1;return i<n?i:n<0?0:n}function dyi(n){return edt.range(n.start,wkt(n.soffset,n.start),n.finish,wkt(n.foffset,n.finish))}function bkt(n,t){return!cy(t.dom)&&(oe(n,t)||nt(n,t))}function grt(n){return function(t){return bkt(n,t.start)&&bkt(n,t.finish)}}function kkt(n){return!0===n.inline||opi.isIE()}function dkt(n){return edt.range(t.fromDom(n.startContainer),n.startOffset,t.fromDom(n.endContainer),n.endOffset)}function gyi(t){var i=document.createRange();try{return i.setStart(t.start.dom,t.soffset),i.setEnd(t.finish.dom,t.foffset),n.some(i)}catch(t){return n.none()}}function bw(i){var r,u,f=kkt(i)?(r=t.fromDom(i.getBody()),((u=cct(r).dom.getSelection())&&0!==u.rangeCount?n.from(u.getRangeAt(0)):n.none()).map(dkt).filter(grt(r))):n.none();i.bookmark=f.isSome()?f:i.bookmark}function nut(i){return(i.bookmark||n.none()).bind(function(r){return u=t.fromDom(i.getBody()),n.from(r).filter(grt(u)).map(dyi);var u}).bind(gyi)}function npi(n){var t=gtt(function(){bw(n)},0);n.on("init",function(){function r(){f.throttle()}var u,f,i,e,o,s;n.inline&&(u=n,f=t,d.DOM.bind(document,"mouseup",r),u.on("remove",function(){d.DOM.unbind(document,"mouseup",r)}));i=n;e=t;kr().browser.isIE()?(s=i).on("focusout",function(){bw(s)}):(o=e,i.on("mouseup touchend",function(){o.throttle()}));i.on("keyup NodeChange",function(n){"nodechange"===n.type&&n.selectionChange||bw(i)})});n.on("remove",function(){t.cancel()})}function kw(n,t){var i=n.getParam("custom_ui_selector","","string");return null!==uut.getParent(t,function(t){return odt.isEditorUIElement(t)||!!i&&n.dom.is(t,i)})}function tpi(i,r){var u=r.editor;npi(u);u.on("focusin",function(){var n=i.focusedEditor;n!==u&&(n&&n.fire("blur",{focusedEditor:u}),i.setActive(u),(i.focusedEditor=u).fire("focus",{blurredEditor:n}),u.focus(!0))});u.on("focusout",function(){ui.setEditorTimeout(u,function(){var n=i.focusedEditor;kw(u,function(n){try{return drt(go(t.fromDom(n.getElement()))).fold(function(){return document.body},function(n){return n.dom})}catch(n){return document.body}}(u))||n!==u||(u.fire("blur",{focusedEditor:null}),i.focusedEditor=null)})});ov||(ov=function(r){var u=i.activeEditor;u&&!function(i){var r,u;return bci()&&g(i.target)&&(r=t.fromDom(i.target),su(r)&&g(r.dom.shadowRoot)&&i.composed&&i.composedPath&&(u=i.composedPath(),u))?or(u):n.from(i.target)}(r).each(function(n){n.ownerDocument===document&&(n===document.body||kw(u,n)||i.focusedEditor!==u||(u.fire("blur",{focusedEditor:null}),i.focusedEditor=null))})},uut.bind(document,"focusin",ov))}function ipi(n,t){n.focusedEditor===t.editor&&(n.focusedEditor=null);n.activeEditor||(uut.unbind(document,"focusin",ov),ov=null)}function gkt(i,r){var u,f;u=t.fromDom(i.getBody());((f=r).collapsed?n.from(to(f.startContainer,f.startOffset)).map(t.fromDom):n.none()).bind(function(t){return uli(t)?n.some(t):!1===oe(u,t)?n.some(u):n.none()}).bind(function(n){return wi(n.dom)}).fold(function(){i.selection.normalize()},function(n){return i.selection.setRng(n.toRange())})}function tut(n){if(n.setActive)try{n.setActive()}catch(t){n.focus()}else n.focus()}function as(n){return n.inline?(u=n.getBody())&&(pkt(i=t.fromDom(u))||drt(go(r=i)).filter(function(n){return r.dom.contains(n.dom)}).isSome()):n.iframeElement&&pkt(t.fromDom(n.iframeElement));var i,r,u}function ndt(i,r,u,f,e){var o=u?r.startContainer:r.endContainer,s=u?r.startOffset:r.endOffset;return n.from(o).map(t.fromDom).map(function(n){return f&&r.collapsed?n:oy(n,e(n,s)).getOr(n)}).bind(function(t){return su(t)?n.some(t):eu(t).filter(su)}).map(function(n){return n.dom}).getOr(i)}function tdt(n,t,i){return ndt(n,t,!0,i,function(n,t){return Math.min(yct(n),t)})}function idt(n,t,i){return ndt(n,t,!1,i,function(n,t){return 0<t?t-1:t})}function rdt(n,t){for(var i=n;n&&o(n)&&0===n.length;)n=t?n.nextSibling:n.previousSibling;return n||i}function iut(n,t){return ut(t,function(t){var i=n.fire("GetSelectionRange",{range:t});return i.range!==t?i.range:t})}function dw(n,t,i){var f=i?"lastChild":"firstChild",e=i?"prev":"next",u,r;if(n[f])return n[f];if(n!==t){if(u=n[e],u)return u;for(r=n.parent;r&&r!==t;r=r.parent)if(u=r[e])return u}}function udt(n){var t="a"===n.name&&!n.attr("href")&&n.attr("id");return n.attr("name")||n.attr("id")&&!n.firstChild||n.attr("data-mce-bookmark")||t}function ci(n,t){this.name=n;1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function eut(n,t){return n.replace(t.re,function(n){return at(t.uris,n).getOr(n)})}function fr(n,t){n=hpi(n);this.settings=t||{};var u,f,e,o,r=this.settings.base_uri,i=this;/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)?i.source=n:(u=0===n.indexOf("//"),0!==n.indexOf("/")||u||(n=(r&&r.protocol||"http")+"://mce_host"+n),/^[\w\-]*:?\/\//.test(n)||(f=this.settings.base_uri?this.settings.base_uri.path:new fr(document.location.href).directory,n=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+i.toAbsPath(f,n):(e=/([^#?]*)([#?]?.*)/.exec(n),(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(f,e[1])+e[2])),n=n.replace(/@@/g,"(mce_at)"),o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n),sdt(cpi,function(n,t){var r=(r=o[t])&&r.replace(/\(mce_at\)/g,"@@");i[n]=r}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),i.port||"mce_host"!==i.host||(i.port=r.port),i.host&&"mce_host"!==i.host||(i.host=r.host),i.source=""),u&&(i.protocol=""))}function out(n,t,i){for(var r,e,u=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,h=n.getShortEndedElements(),o=1,f=i;0!==o;)for(u.lastIndex=f;;){if(r=u.exec(t),null===r)return f;if("!"===r[1]){f=wo(r[2],"--")?tb(t,!1,r.index+3):tb(t,!0,r.index+1);break}if(s.lastIndex=u.lastIndex,e=s.exec(t),!al(e)&&e.index===u.lastIndex){"/"===r[1]?--o:w(h,r[2])||(o+=1);f=u.lastIndex+e[0].length;break}}return f}function nb(n,t){function o(u,o){var ut,gt;void 0===o&&(o="html");for(var p,y,bt,g,b,st,ft,ht,kt,rt,nt,et,ot,ni,ct,lt,at,vt,it,k=u.html,w=0,d=[],ti=0,yt=ye.decode,ii=r.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ri="html"===o?0:1,ui=function(n){for(var r,t=d.length;t--&&d[t].name!==n;);if(0<=t){for(r=d.length-1;t<=r;r--)(n=d[r]).valid&&i(n.name);d.length=t}},pt=function(n,t){return c(eut(n,u),t)},fi=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),n.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),s(eut(t,u)))},dt=function(n,t){var i=n||"",r=!wo(i,"--"),u=tb(k,r,t);return n=k.substr(t,u-t),fi(r?i+n:n),u+1},tt=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),ei=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,oi=t.getShortEndedElements(),si=n.self_closing_elements||t.getSelfClosingElements(),hi=t.getBoolAttrs(),wt=n.validate,ci=n.remove_internals,li=n.fix_self_closing,ai=t.getSpecialElements(),vi=k+">";p=tt.exec(vi);){if(ut=p[0],w<p.index&&pt(yt(k.substr(w,p.index-w))),y=p[7])ui(y=":"===(y=y.toLowerCase()).charAt(0)?y.substr(1):y);else if(y=p[8]){if(p.index+ut.length>k.length){pt(yt(k.substr(p.index)));w=p.index+ut.length;continue}if(kt=(y=":"===(y=y.toLowerCase()).charAt(0)?y.substr(1):y)in oi,li&&si[y]&&0<d.length&&d[d.length-1].name===y&&ui(y),gt=function(n,t){var i=n.exec(t),r,u;return i?(r=i[1],u=i[2],"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?u:null):null}(ei,p[9]),null!==gt){if("all"===gt){w=out(t,k,tt.lastIndex);tt.lastIndex=w;continue}nt=!1}if(!wt||(rt=t.getElementRule(y))){if(nt=!0,wt&&(ni=rt.attributes,ct=rt.attributePatterns),(ot=p[9])?((ht=-1!==ot.indexOf("data-mce-type"))&&ci&&(nt=!1),(g=[]).map={},ot.replace(ei,function(t,i,r,o,s){return function(t,i,r,o,s){var l,h,c;if(r=eut((i=i.toLowerCase())in hi?i:yt(r||o||s||""),u),wt&&!ht&&0==(0===(l=i).indexOf("data-")||0===l.indexOf("aria-"))){if(h=ni[i],!h&&ct){for(c=ct.length;c--&&!(h=ct[c]).pattern.test(i););-1===c&&(h=null)}if(!h)return;if(h.validValues&&!(r in h.validValues))return}("name"===i||"id"===i)&&t in hdt&&(r in f||r in e)||ii[i]&&!uo.isDomSafe(r,t,n)||ht&&(i in ii||0===i.indexOf("on"))||(g.map[i]=r,g.push({name:i,value:r}))}(y,i,r,o,s),""})):(g=[]).map={},wt&&!ht){if(lt=rt.attributesRequired,at=rt.attributesDefault,vt=rt.attributesForced,rt.removeEmptyAttrs&&!g.length&&(nt=!1),vt)for(b=vt.length;b--;)ft=(et=vt[b]).name,"{$uid}"===(it=et.value)&&(it="mce_"+ti++),g.map[ft]=it,g.push({name:ft,value:it});if(at)for(b=at.length;b--;)(ft=(et=at[b]).name)in g.map||("{$uid}"===(it=et.value)&&(it="mce_"+ti++),g.map[ft]=it,g.push({name:ft,value:it}));if(lt){for(b=lt.length;b--&&!(lt[b]in g.map););-1===b&&(nt=!1)}if(et=g.map["data-mce-bogus"]){if("all"===et){w=out(t,k,tt.lastIndex);tt.lastIndex=w;continue}nt=!1}}nt&&l(y,g,kt)}else nt=!1;if(bt=ai[y]){bt.lastIndex=w=p.index+ut.length;w=(p=bt.exec(k))?(nt&&(st=k.substr(w,p.index-w)),p.index+p[0].length):(st=k.substr(w),k.length);nt&&(0<st.length&&pt(st,!0),i(y));tt.lastIndex=w;continue}kt||(ot&&ot.indexOf("/")===ot.length-1?nt&&i(y):d.push({name:y,valid:nt}))}else if(y=p[1])fi(y);else if(y=p[2]){if(!(1==ri||n.preserve_cdata||0<d.length&&t.isValidChild(d[d.length-1].name,"#cdata"))){w=dt("",p.index+2);tt.lastIndex=w;continue}h(y)}else if(y=p[3])v(y);else{if((y=p[4])||"<!"===ut){w=dt(y,p.index+ut.length);tt.lastIndex=w;continue}if(y=p[5]){if(1!=ri){w=dt("?",p.index+2);tt.lastIndex=w;continue}a(y,p[6])}}w=p.index+ut.length}for(w<k.length&&pt(yt(k.substr(w))),b=d.length-1;0<=b;b--)(y=d[b]).valid&&i(y.name)}var u,f,e;void 0===t&&(t=ae());f=null!==(u=(n=n||{}).document)&&void 0!==u?u:document;e=f.createElement("form");!1!==n.fix_self_closing&&(n.fix_self_closing=!0);var s=n.comment||y,h=n.cdata||y,c=n.text||y,l=n.start||y,i=n.end||y,a=n.pi||y,v=n.doctype||y;return{parse:function(n,t){void 0===t&&(t="html");o(function(n){for(var e,o,s,i,h=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],f={},u=bvt("img"),t=0,c=0;i=h.exec(n);)e=i[0],o=u+"_"+c++,f[o]=e,t<i.index&&r.push(n.substr(t,i.index-t)),r.push(o),t=i.index+e.length;return s=new RegExp(u+"_[0-9]+","g"),0===t?{prefix:u,uris:f,html:n,re:s}:(t<n.length&&r.push(n.substr(t)),{prefix:u,uris:f,html:r.join(""),re:s})}(n),t)}}}function cdt(n,t){for(var e,o,s,u,f=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,h=n.schema,i=(e=n.getTempAttrs(),o=t,s=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi"),o.replace(s,"")),l=h.getShortEndedElements();u=f.exec(i);){var r=f.lastIndex,c=u[0].length,a=l[u[1]]?r:nb.findEndTag(h,i,r),i=i.substring(0,r-c)+i.substring(a);f.lastIndex=r-c}return ve(i)}function ldt(n){return{compare:function(t,i){function r(t){var i={};return ypi(n.getAttribs(t),function(r){var u=r.nodeName.toLowerCase();0!==u.indexOf("_")&&"style"!==u&&0!==u.indexOf("data-")&&(i[u]=n.getAttrib(t,u))}),i}function u(n,t){var r;for(var i in n)if(w(n,i)){if(void 0===(r=t[i]))return;if(n[i]!==r)return;delete t[i]}for(i in t)if(w(t,i))return;return 1}return t.nodeName===i.nodeName&&!(!u(r(t),r(i))||!u(n.parseStyle(n.getAttrib(t,"style")),n.parseStyle(n.getAttrib(i,"style")))||ar(t)||ar(i))}}}function adt(n){var t=[],i=(n=n||{}).indent,f=vdt(n.indent_before||""),u=vdt(n.indent_after||""),r=ye.getEncodeFunc(n.entity_encoding||"raw",n.entities),e="html"===n.element_format;return{start:function(n,o,s){var h,a,l,c;if(i&&f[n]&&0<t.length&&0<(c=t[t.length-1]).length&&"\n"!==c&&t.push("\n"),t.push("<",n),o)for(h=0,a=o.length;h<a;h++)l=o[h],t.push(" ",l.name,'="',r(l.value,!0),'"');t[t.length]=!s||e?">":" />";s&&i&&u[n]&&0<t.length&&0<(c=t[t.length-1]).length&&"\n"!==c&&t.push("\n")},end:function(n){var r;t.push("<\/",n,">");i&&u[n]&&0<t.length&&0<(r=t[t.length-1]).length&&"\n"!==r&&t.push("\n")},text:function(n,i){0<n.length&&(t[t.length]=i?n:r(n))},cdata:function(n){t.push("<![CDATA[",n,"]\]>")},comment:function(n){t.push("<!--",n,"-->")},pi:function(n,u){u?t.push("<?",n," ",r(u),"?>"):t.push("<?",n,"?>");i&&t.push("\n")},doctype:function(n){t.push("<!DOCTYPE",n,">",i?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}}function nl(n,t){void 0===t&&(t=ae());var i=adt(n);return(n=n||{}).validate=!("validate"in n)||n.validate,{serialize:function(r){var e=n.validate,f={3:function(n){i.text(n.value,n.raw)},8:function(n){i.comment(n.value)},7:function(n){i.pi(n.name,n.value)},10:function(n){i.doctype(n.value)},4:function(n){i.cdata(n.value)},11:function(n){if(n=n.firstChild)for(;u(n),n=n.next;);}},u;return i.reset(),u=function(n){var v=f[n.type],o,l,h,c,s,a;if(v)v(n);else{var p=n.name,y=n.shortEnded,r=n.attributes;if(e&&r&&1<r.length&&(o=[],o.map={},l=t.getElementRule(n.name),l)){for(s=0,a=l.attributesOrder.length;s<a;s++)(h=l.attributesOrder[s])in r.map&&(c=r.map[h],o.map[h]=c,o.push({name:h,value:c}));for(s=0,a=r.length;s<a;s++)(h=r[s].name)in o.map||(c=r.map[h],o.map[h]=c,o.push({name:h,value:c}));r=o}if(i.start(n.name,r,y),!y){if(n=n.firstChild)for(;u(n),n=n.next;);i.end(p)}}},1!==r.type||n.inner?f[11](r):u(r),i.getContent()}}}function sut(n,t){return lh(n.parseStyle(n.getAttrib(t,"style")))}function pdt(t,i,r){return n.from(r.container()).filter(o).exists(function(n){var u=t?0:-1;return i(n.data.charAt(r.offset()+u))})}function ppi(n){var t=n.container();return o(t)&&(0===t.data.length||ip(t.data)&&rv.isBookmarkNode(t.parentNode))}function fo(t,i){return function(r){return n.from(hit(t?0:-1,r)).filter(i).isSome()}}function wdt(n){return dci(n)&&"block"===bf(t.fromDom(n),"display")}function bdt(n){return rt(n)&&!(h(t=n)&&"all"===t.getAttribute("data-mce-bogus"));var t}function vs(n){wg(n);ii(n,t.fromHtml('<br data-mce-bogus="1">'))}function wpi(n){yg(n).each(function(t){bo(t).each(function(i){tf(n)&&bh(t)&&tf(i)&&ni(t)})})}function kdt(n,i){return f=it,oe(u=i,r=n)?function(n,i){for(var u,f,o=ft(i)?i:it,r=n.dom,e=[];null!==r.parentNode&&void 0!==r.parentNode;){if(u=r.parentNode,f=t.fromDom(u),e.push(f),!0===o(f))break;r=u}return e}(r,function(n){return f(n)||nt(n,u)}).slice(0,-1):[];var r,u,f}function ne(n,t){return[n].concat(kdt(n,t))}function hut(n,t,i){return abt(n,t,i,ppi)}function ddt(n,i){return gt(ne(t.fromDom(i.container()),n),tf)}function gdt(n,i,r){return hut(n,i.dom,r).forall(function(n){return ddt(i,r).fold(function(){return!1===ef(n,r,i.dom)},function(u){return!1===ef(n,r,i.dom)&&oe(u,t.fromDom(n.container()))})})}function ngt(n,t,i){return ddt(t,i).fold(function(){return hut(n,t.dom,i).forall(function(n){return!1===ef(n,i,t.dom)})},function(t){return hut(n,t.dom,i).isNone()})}function bpi(n){return tw(n).exists(bh)}function ib(n,i,r){var u=or(p(ne(t.fromDom(r.container()),i),tf)).getOr(i);return vr(n,u.dom,r).filter(bpi)}function cut(n,t){return tw(t).exists(bh)||ib(!0,n,t).isSome()}function lut(i,r){return n.from(r.getNode(!0)).map(t.fromDom).exists(bh)||ib(!1,i,r).isSome()}function tgt(n){return i.isTextPosition(n)&&!n.isAtStart()&&!n.isAtEnd()}function igt(n,i){return or(p(ne(t.fromDom(i.container()),n),tf)).getOr(n)}function rgt(n,t){return tgt(t)?lft(t):lft(t)||lf(igt(n,t).dom,t).exists(lft)}function ugt(n,t){return tgt(t)?cft(t):cft(t)||yu(igt(n,t).dom,t).exists(cft)}function aut(n){return tw(n).bind(function(n){return py(n,su)}).exists(function(n){return dt(["pre","pre-wrap"],bf(n,"white-space"))})}function rb(n,t){return!aut(t)&&(aft(n,t)||kwi(n,t)||lut(n,t)||rgt(n,t))}function ub(n,t){return!aut(t)&&(vnt(n,t)||dwi(n,t)||cut(n,t)||ugt(n,t))}function fgt(n,t){return rb(n,t)||ub(n,(r=(u=t).container(),f=u.offset(),o(r)&&f<r.data.length?i(r,f+1):u));var u,r,f}function egt(n,t){return uv(n.charAt(t))}function kpi(n){var t=n.container();return o(t)&&yi(t.data,ir)}function dpi(t,r){return n.some(r).filter(kpi).bind(function(r){var c,e,u,l,o,a,f,s,v,h=r.container(),p=t,y=(o=h).data,w=i(o,0);return(!egt(y,0)||fgt(p,w)?(s=(a=h).data,(v=ut(f=s.split(""),function(n,t){return uv(n)&&0<t&&t<f.length-1&&wit(f[t-1])&&wit(f[t+1])?" ":n}).join(""))!==s&&(a.data=v,1)):(o.data=" "+y.slice(1),1))||(c=t,u=(e=h).data,l=i(e,u.length-1),egt(u,u.length-1)&&!fgt(c,l)&&(e.data=u.slice(0,-1)+" ",1))?n.some(r):n.none()})}function ogt(n){var r=t.fromDom(n.getBody());n.selection.isCollapsed()&&dpi(r,i.fromRangeStart(n.selection.getRng())).each(function(t){n.selection.setRng(t.toRange())})}function sgt(n,r,u){var e,f,o,s,h,c,l,a;0!==u&&(f=ua(e=t.fromDom(n),tf).getOr(e),o=n.data.slice(r,r+u),s=r+u>=n.data.length&&ub(f,i(n,n.data.length)),h=0===r&&rb(f,i(n,0)),n.replaceData(r,u,(l=h,a=s,fu(c=o,function(n,t){return yc(t)||uv(t)?n.previousCharIsSpace||""===n.str&&l||n.str.length===c.length-1&&a?{previousCharIsSpace:!1,str:n.str+ir}:{previousCharIsSpace:!0,str:n.str+" "}:{previousCharIsSpace:!1,str:n.str+t}},{previousCharIsSpace:!1,str:""}).str)))}function fb(n,t){var i=n.data.slice(t);sgt(n,t,i.length-uci(i).length)}function vut(n,t){var i=n.data.slice(0,t),r=i.length-dht(i).length;sgt(n,t-r,r)}function yut(n,i,r,u){void 0===u&&(u=!0);var o=dht(n.data).length,f=u?n:i,e=u?i:n;return u?f.appendData(e.data):f.insertData(0,e.data),ni(t.fromDom(e)),r&&fb(f,o),f}function gpi(n,t){return u=n,f=(r=t).container(),e=r.offset(),!1===i.isTextPosition(r)&&f===u.parentNode&&e>i.before(u).offset()?i(t.container(),t.offset()-1):t;var r,u,f,e}function hgt(t){return nf(t.previousSibling)?n.some((r=t.previousSibling,o(r)?i(r,r.data.length):i.after(r))):t.previousSibling?af(t.previousSibling):n.none();var r}function cgt(t){return nf(t.nextSibling)?n.some((r=t.nextSibling,o(r)?i(r,0):i.before(r))):t.nextSibling?wi(t.nextSibling):n.none();var r}function nwi(t,r){return hgt(r).orThunk(function(){return cgt(r)}).orThunk(function(){return u=t,e=i.before((f=r).previousSibling||f.parentNode),lf(u,e).fold(function(){return yu(u,i.after(f))},n.some);var u,f,e})}function twi(t,r){return cgt(r).orThunk(function(){return hgt(r)}).orThunk(function(){return yu(u=t,i.after(f=r)).fold(function(){return lf(u,i.before(f))},n.some);var u,f})}function lgt(n,t,i){i.fold(function(){n.focus()},function(i){n.selection.setRng(i.toRange(),t)})}function iwi(n,t){return t&&w(n.schema.getBlockElements(),vt(t))}function rwi(r){if(pt(r)){var u=t.fromHtml('<br data-mce-bogus="1">');return wg(r),ii(r,u),n.some(i.before(u.dom))}return n.none()}function ys(t,r,f,e){void 0===e&&(e=!0);var p,b,o,s,h,k,c,l,d,a,v,g,nt,y,tt=(g=r,nt=t.getBody(),y=f.dom,(g?twi:nwi)(nt,y).map(u(gpi,y))),it=ua(f,u(iwi,t),(p=t.getBody(),function(n){return n.dom===p})),rt=(s=tt,b=o=f,h=w(t.schema.getTextInlineElements(),vt(b)),a=bo(o).filter(gr),v=kl(o).filter(gr),ni(o),c=v,l=s,d=function(n,t,r){var u=n.dom,f=t.dom,e=u.data.length;return yut(u,f,h),r.container()===f?i(u,e):r},((k=a).isSome()&&c.isSome()&&l.isSome()?n.some(d(k.getOrDie(),c.getOrDie(),l.getOrDie())):n.none()).orThunk(function(){return h&&(a.each(function(n){return vut(n.dom,n.dom.length)}),v.each(function(n){return fb(n.dom,0)})),s}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):it.bind(rwi).fold(function(){e&&lgt(t,r,rt)},function(i){e&&lgt(t,r,n.some(i))})}function put(n){return gi(n,"td,th")}function wut(n,t){return{start:n,end:t}}function eb(n,i){return fn(t.fromDom(n),"td,th",i)}function agt(n){return!nt(n.start,n.end)}function vgt(t,i){return iv(t.start,i).bind(function(r){return iv(t.end,i).bind(function(t){return nt(r,t)?n.some(r):n.none()})})}function but(n){return function(t){return vgt(t,n).map(function(n){return{rng:t,table:n,cells:put(n)}})}}function ygt(t,i,r,u){var f;if(r.collapsed||!t.forall(agt))return n.none();if(i.isSameTable)return f=t.bind(but(u)),n.some({start:f,end:f});var e,o,s=eb(r.startContainer,u),h=eb(r.endContainer,u),c=s.bind((o=u,function(n){return iv(n,o).bind(function(t){return yo(put(t)).map(function(t){return wut(n,t)})})})).bind(but(u)),l=h.bind((e=u,function(n){return iv(n,e).bind(function(t){return or(put(t)).map(function(t){return wut(t,n)})})})).bind(but(u));return n.some({start:c,end:l})}function pgt(n,t){return iy(n,function(n){return nt(n,t)})}function kut(n){return di(pgt(n.cells,n.rng.start),pgt(n.cells,n.rng.end),function(t,i){return n.cells.slice(t,i+1)})}function wgt(n,t){var r=t.startTable,u=t.endTable,i=n.cloneRange();return r.each(function(n){return i.setStartAfter(n.dom)}),u.each(function(n){return i.setEndBefore(n.dom)}),i}function uwi(i,r){function ut(n){return iv(t.fromDom(n),tt)}var y,p,w,f,b,k,d,g,tt,e,o,h,l,a,it,rt,u=(y=i,function(n){return nt(y,n)}),s=di(eb((p=r).startContainer,w=u),eb(p.endContainer,w),wut),v=(tt=u,e=ut((g=r).startContainer),o=ut(g.endContainer),h=e.isSome(),l=o.isSome(),a=di(e,o,nt).getOr(!1),{startTable:e,endTable:o,isStartInTable:h,isEndInTable:l,isSameTable:a,isMultiTable:!a&&h&&l});return it=r,rt=u,s.exists(function(n){return!agt(t=n)&&vgt(t,rt).exists(function(n){var t=n.dom.rows;return 1===t.length&&1===t[0].cells.length})&&irt(n.start,it);var t})?s.map(function(n){return sv.singleCellTable(r,n.start)}):v.isMultiTable?ygt(s,k=v,d=r,u).bind(function(t){var f=t.start,e=t.end,i=f.bind(kut).getOr([]),r=e.bind(kut).getOr([]),u;return 0<i.length&&0<r.length?(u=wgt(d,k),n.some(sv.multiTable(i,r,u))):n.none()}):ygt(s,f=v,b=r,u).bind(function(n){var t=n.start,i=n.end;return t.or(i)}).bind(function(t){var r=f.isSameTable,i=kut(t).getOr([]),u;return r&&t.cells.length===i.length?n.some(sv.fullTable(t.table)):0<i.length?r?n.some(sv.partialTable(i,n.none())):(u=wgt(b,f),n.some(sv.partialTable(i,n.some(c(c({},f),{rng:u}))))):n.none()})}function bgt(n){return e(n,function(n){he(n,"contenteditable");vs(n)}),0}function dut(n,t,i,r){var u=i.cloneRange();r?(u.setStart(i.startContainer,i.startOffset),u.setEndAfter(t.dom.lastChild)):(u.setStartBefore(t.dom.firstChild),u.setEnd(i.endContainer,i.endOffset));vft(n,u,t,!1)}function kgt(n){var r=bc(n),i=t.fromDom(n.selection.getNode());yy(i.dom)&&pt(i)?n.selection.setCursorLocation(i.dom,0):n.selection.collapse(!0);1<r.length&&vi(r,function(n){return nt(n,i)})&&du(i,"data-mce-selected","1")}function dgt(i,r,u){var f=i.selection.getRng();return bgt(u.bind(function(u){var h,c,l,o=u.rng,e=u.isStartInTable,a=(h=e?o.endContainer:o.startContainer,n.from(i.dom.getParent(h,i.dom.isBlock)).map(t.fromDom)),s;return o.deleteContents(),c=i,l=e,a.filter(pt).each(function(n){l?ni(n):(vs(n),c.selection.setCursorLocation(n.dom,0))}),s=e?r[0]:r[r.length-1],dut(i,s,f,e),pt(s)?n.none():n.some(e?r.slice(1):r.slice(0,-1))}).getOr(r)),kgt(i),!0}function fwi(n,t,i,r){var u=n.selection.getRng(),f=t[0],e=i[i.length-1],o,s;return dut(n,f,u,!0),dut(n,e,u,!1),o=pt(f)?t:t.slice(1),s=pt(e)?i:i.slice(0,-1),bgt(o.concat(s)),r.deleteContents(),kgt(n),!0}function ewi(n,t){return ys(n,!1,t),!0}function ggt(n,t){return gt(ne(t,n),np)}function nnt(n,t){return(n?lnt:ant)(t)}function owi(r,u,f){var e=t.fromDom(r.getBody());return yft(e,f).fold(function(){return n=r,c=u,s=e,l=f,a=i.fromRangeStart(n.selection.getRng()),ggt(s,l).bind(function(i){return pt(i)?sb(n,i):(r=s,u=i,f=a,fw(c,n.getBody(),f).bind(function(n){return ggt(r,t.fromDom(n.getNode())).map(function(n){return!1===nt(n,u)})}));var r,u,f}).getOr(!1)||(o=u,h=i.fromRangeStart((v=r).selection.getRng()),nnt(o,h)||vr(o,v.getBody(),h).exists(function(n){return nnt(o,n)}));var n,c,s,l,a,v,o,h},function(f){return y=u,p=e,s=f,w=i.fromRangeStart((c=r).selection.getRng()),(pt(s)?sb(c,s):(a=p,o=s,h=w,fw(v=y,(l=c).getBody(),h).bind(function(n){return e=v,i=h,r=n,wi((f=o).dom).bind(function(n){return af(f.dom).map(function(t){return e?i.isEqual(n)&&r.isEqual(t):i.isEqual(t)&&r.isEqual(n)})}).getOr(!0)?sb(l,o):(u=o,yft(a,t.fromDom(n.getNode())).map(function(n){return!1===nt(n,u)}));var u,f,e,i,r}).or(n.some(!0)))).getOr(!1);var l,a,v,o,h,c,y,p,s,w})}function ob(i,r){var f,s,e,h,c,o,l,a,v=t.fromDom(i.selection.getStart(!0)),y=bc(i);return i.selection.isCollapsed()&&0===y.length?owi(i,r,v):(s=v,e=y,h=t.fromDom((f=i).getBody()),c=f.selection.getRng(),0!==e.length?dgt(f,e,n.none()):(o=f,a=c,yft(l=h,s).fold(function(){return n=o,uwi(l,a).map(function(t){return t.fold(u(vft,n),u(ewi,n),u(dgt,n),u(fwi,n))});var n},function(n){return sb(o,n)}).getOr(!1)))}function gut(n){return n.collapsed?n:(t=n,r=i.fromRangeStart(t),f=i.fromRangeEnd(t),u=t.commonAncestorContainer,vr(!1,u,f).map(function(n){return!ef(r,f,u)&&ef(r,n,u)?(e=r.container(),o=r.offset(),s=n.container(),h=n.offset(),(i=document.createRange()).setStart(e,o),i.setEnd(s,h),i):t;var e,o,s,h,i}).getOr(t));var t,r,f,u}function swi(n,t){var e,f,o,u,s,i=t.firstChild,r=t.lastChild;return i&&"meta"===i.name&&(i=i.next),f=r=r&&"mce_marker"===r.attr("id")?r.prev:r,o=(e=n).getNonEmptyElements(),f&&(f.isEmpty(o)||(u=f,e.getBlockElements()[u.name]&&u.firstChild&&u.firstChild===u.lastChild&&("br"===(s=u.firstChild).name||s.value===ir)))&&(r=r.prev),i&&i===r&&("ul"===i.name||"ol"===i.name)}function hwi(n){return 0<n.length&&(!(r=n[n.length-1]).firstChild||(t=r)&&t.firstChild&&t.firstChild===t.lastChild&&((i=t.firstChild).data===ir||st(i)))?n.slice(0,-1):n;var t,i,r}function nft(n,t){var i=n.getParent(t,n.isBlock);return i&&"LI"===i.nodeName?i:null}function tnt(n,t){var u=i.after(n),r=vu(t).prev(u);return r?r.toRange():null}function cwi(n,t,u,f){function nt(n){var r=i.fromRangeStart(u),f=vu(t.getRoot()),e=1===n?f.prev(r):f.next(r);return!e||nft(t,e.getNode())!==l}var tt,a,o,s,it,rt,ut,ft,e,h,et,v,ot,y,w,b,c,k,st,ht,ct,lt,at,vt=(tt=t,it=n.serialize(f),o=(a=tt.createFragment(it)).firstChild,s=a.lastChild,o&&"META"===o.nodeName&&o.parentNode.removeChild(o),s&&"mce_marker"===s.id&&s.parentNode.removeChild(s),a),l=nft(t,u.startContainer),d=hwi(p(vt.firstChild.childNodes,function(n){return"LI"===n.nodeName})),g=t.getRoot();return nt(1)?(st=g,at=(k=l).parentNode,r.each(d,function(n){at.insertBefore(n,k)}),ht=st,ct=i.before(k),(lt=vu(ht).next(ct))?lt.toRange():null):nt(2)?(rt=l,ft=g,t.insertAfter((ut=d).reverse(),rt),tnt(ut[0],ft)):(h=d,et=g,v=e=l,y=(ot=u).cloneRange(),w=ot.cloneRange(),y.setStartBefore(v),w.setEndAfter(v),b=[y.cloneContents(),w.cloneContents()],(c=e.parentNode).insertBefore(b[0],e),r.each(h,function(n){c.insertBefore(n,e)}),c.insertBefore(b[1],e),c.removeChild(e),tnt(h[h.length-1],et))}function lwi(u,f,e){var ht,et,y,ct,a=u.selection,c=u.dom,v,vt,yt,w,rt,ut,d,ft,pt,ot,wt,bt,kt,dt,nt,gt,ni,ti,st,b,ii,s,h,k;/^ | $/.test(f)&&(ht=c,et=a.getRng(),y=f,y=rb(ct=t.fromDom(ht.getRoot()),i.fromRangeStart(et))?y.replace(/^ /,"&nbsp;"):y.replace(/^&nbsp;/," "),f=y=ub(ct,i.fromRangeEnd(et))?y.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):y.replace(/&nbsp;(<br( \/)?>)?$/," "));var lt=u.parser,ri=e.merge,it=nl({validate:u.getParam("validate")},u.schema),at='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;<\/span>',tt=u.fire("BeforeSetContent",{content:f,format:"html",selection:!0,paste:e.paste});if(tt.isDefaultPrevented())u.fire("SetContent",{content:tt.content,format:"html",selection:!0,paste:e.paste});else{if(-1===(f=tt.content).indexOf("{$caret}")&&(f+="{$caret}"),f=f.replace(/\{\$caret\}/,at),yt=(v=a.getRng()).startContainer||(v.parentElement?v.parentElement():null),w=u.getBody(),yt===w&&a.isCollapsed()&&c.isBlock(w.firstChild)&&(vt=w.firstChild)&&!u.schema.getShortEndedElements()[vt.nodeName]&&c.isEmpty(w.firstChild)&&((v=c.createRng()).setStart(w.firstChild,0),v.setEnd(w.firstChild,0),a.setRng(v)),a.isCollapsed()||function(n){var e=n.dom,i=gut(n.selection.getRng()),r,u,f;n.selection.setRng(i);u=e.getParent(i.startContainer,pft);f=i;null!==(r=u)&&r===e.getParent(f.endContainer,pft)&&irt(t.fromDom(r),f)?vft(n,i,t.fromDom(u)):n.getDoc().execCommand("Delete",!1,null)}(u),st={context:(h=a.getNode()).nodeName.toLowerCase(),data:e.data,insert:!0},b=lt.parse(f,st),!0===e.paste&&swi(u.schema,b)&&nft(c,h))return v=cwi(it,c,a.getRng(),b),a.setRng(v),void u.fire("SetContent",tt);if(function(){for(var n=b;n=n.walk();)1===n.type&&n.attr("data-mce-fragment","1")}(),"mce_marker"===(s=b.lastChild).attr("id"))for(ii=s,s=s.prev;s;s=s.walk(!0))if(3===s.type||!c.isBlock(s.name)){u.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(ii,s,"br"===s.name);break}if(u._selectionOverrides.showBlockCaretContainer(h),st.invalid){for(u.selection.setContent(at),h=a.getNode(),k=u.getBody(),9===h.nodeType?h=s=k:s=h;s!==k;)s=(h=s).parentNode;f=h===k?k.innerHTML:c.getOuterHTML(h);f=it.serialize(lt.parse(f.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return it.serialize(b)})));h===k?c.setHTML(k,f):c.setOuterHTML(h,f)}else rt=u,ut=f=it.serialize(b),"all"===(d=h).getAttribute("data-mce-bogus")?d.parentNode.insertBefore(rt.dom.createFragment(ut),d):(ft=d.firstChild,pt=d.lastChild,!ft||ft===pt&&"BR"===ft.nodeName?rt.dom.setHTML(d,ut):rt.selection.setContent(ut));wt=ri;dt=(ot=u).schema.getTextInlineElements();nt=ot.dom;wt&&(bt=ot.getBody(),kt=ldt(nt),r.each(nt.select("*[data-mce-fragment]"),function(n){if(g(dt[n.nodeName.toLowerCase()])&&vl(sut(nt,n),function(n){return!ydt.has(n)}))for(var t=n.parentNode;g(t)&&t!==bt&&!function(n,t,i){function r(r){var u=n.getStyle(t,r),f=n.getStyle(i,r);return fy(u)&&fy(f)&&u!==f}var f=sut(n,t),u=sut(n,i);return vi(f,function(n){function t(t){return vi(t,function(t){return t===n})}if(t(u)||!t(cnt))return r(n);var i=p(u,function(n){return vi(cnt,function(t){return wo(n,t)})});return vi(i,r)})}(nt,n,t);t=t.parentNode)if(kt.compare(t,n)){nt.remove(n,!0);break}})),function(n,t){var a,r=n.dom,h=n.selection,c,e,f,s,u;if(t){if(h.scrollIntoView(t),c=gc(n.getBody(),t),"false"===r.getContentEditable(c))return r.remove(t),h.select(c);f=r.createRng();s=t.previousSibling;o(s)?(f.setStart(s,s.nodeValue.length),l.ie||(e=t.nextSibling,o(e)&&(s.appendData(e.data),e.parentNode.removeChild(e)))):(f.setStartBefore(t),f.setEndBefore(t));u=r.getParent(t,r.isBlock);r.remove(t);u&&r.isEmpty(u)&&(n.$(u).empty(),f.setStart(u,0),f.setEnd(u,0),pft(u)||u.getAttribute("data-mce-fragment")||!(a=function(t){var r=i.fromRangeStart(t);if(r=vu(n.getBody()).next(r))return r.toRange()}(f))?r.add(u,r.create("br",{"data-mce-bogus":"1"})):(f=a,r.remove(u)));h.setRng(f)}}(u,c.get("mce_marker"));gt=u.getBody();r.each(gt.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")});ni=c;ti=a.getStart();n.from(ni.getParent(ti,"td,th")).map(t.fromDom).each(wpi);u.fire("SetContent",tt);u.addVisual()}}function tft(n){return n instanceof ru}function ift(n,t,i){var r;n.dom.setHTML(n.getBody(),t);!0!==i&&as(r=n)&&wi(r.getBody()).each(function(n){var t=n.getNode(),i=yh(t)?wi(t).getOr(n):n;r.selection.setRng(i.toRange())})}function awi(i,u,o){var s,l=(s=u,c(c({format:"html"},o),{set:!0,content:tft(s)?"":s})),h=o.no_events?l:i.fire("BeforeSetContent",l);return tft(u)||(u=h.content),n.from(i.getBody()).fold(f(u),function(n){return tft(u)?function(n,i,u,f){var h,c,o,l,s;return h=n.parser.getNodeFilters(),c=n.parser.getAttributeFilters(),o=u,l=function(n,t){var u,f,i={},r={},s=[];for(u in o.firstChild&&wft(o.firstChild,function(u){e(n,function(n){n.name===u.name&&(i[n.name]?i[n.name].nodes.push(u):i[n.name]={filter:n,nodes:[u]})});e(t,function(n){"string"==typeof u.attr(n.name)&&(r[n.name]?r[n.name].nodes.push(u):r[n.name]={filter:n,nodes:[u]})})}),i)w(i,u)&&s.push(i[u]);for(f in r)w(r,f)&&s.push(r[f]);return s}(h,c),e(l,function(n){e(n.filter.callbacks,function(t){t(n.nodes,n.filter.name,{})})}),s=nl({validate:n.validate},n.schema).serialize(u),f.content=tp(t.fromDom(i))?s:r.trim(s),ift(n,f.content,f.no_selection),f.no_events||n.fire("SetContent",f),u}(i,n,u,h):(o=i,c=n,s=h,0===(f=u).length||/^\s+$/.test(f)?(l='<br data-mce-bogus="1">',"TABLE"===c.nodeName?f="<tr><td>"+l+"<\/td><\/tr>":/^(UL|OL)$/.test(c.nodeName)&&(f="<li>"+l+"<\/li>"),f=(a=si(o))&&o.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(f=l,o.dom.createHTML(a,pa(o),f)):f||'<br data-mce-bogus="1">',ift(o,f,s.no_selection),o.fire("SetContent",s)):("raw"!==s.format&&(f=nl({validate:o.validate},o.schema).serialize(o.parser.parse(f,{isRootContent:!0,insert:!0}))),s.content=tp(t.fromDom(c))?f:r.trim(f),ift(o,s.content,s.no_selection),s.no_events||o.fire("SetContent",s)),s.content);var o,c,f,s,l,a})}function int(n){return ft(n)?n:it}function rft(i,r,u){var e=r(i),f=int(u);return e.orThunk(function(){return f(i)?n.none():function(r){for(var u=i.dom,e=int(f);u.parentNode;){var u=u.parentNode,o=t.fromDom(u),s=r(o);if(s.isSome())return s;if(e(o))break}return n.none()}(r)})}function rnt(n,t,i){var f=n.formatter.get(i),r,u;if(f)for(r=0;r<f.length;r++)if(u=f[r],ur(u)&&!1===u.inherit&&n.dom.is(t,u.selector))return 1}function uft(n,t,i,r,u){var f=n.dom.getRoot();return t!==f&&(t=n.dom.getParent(t,function(t){return!!rnt(n,t,i)||t.parentNode===f||!!vf(n,t,i,r,!0)}),!!vf(n,t,i,r,u))}function fft(n,t,i){return!!bft(t,i.inline)||!!bft(t,i.block)||(i.selector?1===t.nodeType&&n.is(t,i.selector):void 0)}function unt(n,t,i,r,u,f){var e=i[r],o,s;if(ft(i.onmatch))return i.onmatch(t,i,r);if(e)if(tr(e.length)){for(o in e)if(w(e,o)){var h="attributes"===r?n.getAttrib(t,o):ow(n,t,o),c=gf(e[o],f),l=wu(h)||lht(h);if(!l||!wu(c)){if(u&&l&&!i.exact)return;if((!u||i.exact)&&!bft(h,git(n,c,o)))return}}}else for(s=0;s<e.length;s++)if("attributes"===r?n.getAttrib(t,e[s]):ow(n,t,e[s]))return 1;return 1}function eft(n,t,i,r,u){if(r)return uft(n,r,t,i,u);if(r=n.selection.getNode(),uft(n,r,t,i,u))return!0;var f=n.selection.getStart();return!(f===r||!uft(n,f,t,i,u))}function fnt(n){return 0<function(n){for(var t=[];n;){if(3===n.nodeType&&n.nodeValue!==rl||1<n.childNodes.length)return[];1===n.nodeType&&t.push(n);n=n.firstChild}return t}(n).length}function ent(n){if(n){var t=new yt(n,n);for(n=t.current();n;n=t.next())if(o(n))return n}return null}function oft(n){var i=t.fromTag("span");return se(i,{id:pnt,"data-mce-bogus":"1","data-mce-type":"format-caret"}),n&&ii(i,t.fromText(rl)),i}function sft(n,i,r){void 0===r&&(r=!0);var u,e,l,h,a,c,f,o,s=n.dom,v=n.selection;fnt(i)?ys(n,!1,t.fromDom(i),r):(u=v.getRng(),e=s.getParent(i,s.isBlock),l=u.startContainer,h=u.startOffset,a=u.endContainer,c=u.endOffset,(o=ent(i))&&o.nodeValue.charAt(0)===rl&&o.deleteData(0,1),f=o,s.remove(i,!0),l===f&&0<h&&u.setStart(f,h-1),a===f&&0<c&&u.setEnd(f,c-1),e&&s.isEmpty(e)&&vs(t.fromDom(e)),v.setRng(u))}function hft(n,t,i){void 0===i&&(i=!0);var r=n.dom,u=n.selection;if(t)sft(n,t,i);else if(!(t=ls(n.getBody(),u.getStart())))for(;t=r.get(pnt);)sft(n,t,!1)}function ont(n,t){return n.appendChild(t),t}function snt(n,t){var i=tht(n,function(n,t){return ont(n,t.cloneNode(!1))},t);return ont(i,i.ownerDocument.createTextNode(rl))}function vwi(t,i,r,u,f,e){var s,h,c=t.formatter,l=t.dom,a=p(lh(c.get()),function(n){return n!==u&&!yi(n,"removeformat")}),o;return 0<p((s=t,h=r,fu(a,function(n,t){var i=eyi(s,t);return s.formatter.matchNode(h,t,{},i)?n.concat([t]):n},[])),function(n){function i(n){return yl(n,function(n,t){return vi(e,function(n){return n===t})})}return f=u,e=["inline","block","selector","attributes","styles","classes"],!vi((r=t).formatter.get(n),function(n){var t=i(n);return vi(r.formatter.get(f),function(n){var r,u=i(n),f=t,e=u;return yst(r=void 0===r?gd:r).eq(f,e)})});var r,f,e}).length?(o=r.cloneNode(!1),l.add(i,o),c.remove(u,f,o,e),l.remove(o),n.some(o)):n.none()}function ywi(n,i,r,f){var w,h,nt,tt,c,b,it,rt,l,s,a,ut,k,ft,d,et=n.dom,v=n.selection,ot=[],y=v.getRng(),g=y.startContainer,st=y.startOffset,o=g;for(3===g.nodeType&&(st!==g.nodeValue.length&&(w=!0),o=o.parentNode);o;){if(vf(n,o,i,r,f)){h=o;break}o.nextSibling&&(w=!0);ot.push(o);o=o.parentNode}h&&(w?(nt=v.getBookmark(),y.collapse(!0),tt=pw(wc(n,y,n.formatter.get(i),!0)),n.formatter.remove(i,r,tt,f),v.moveToBookmark(nt)):(c=ls(n.getBody(),h),l=b=oft(!1).dom,(ut=(a=n.dom).getParent(s=null!==c?c:h,u(kit,n)))&&a.isEmpty(ut)?s.parentNode.replaceChild(l,s):(k=t.fromDom(s),ft=gi(k,"br"),d=p(function(){for(var i=[],n=k.dom;n;)i.push(t.fromDom(n)),n=n.lastChild;return i}().slice(-1),bh),ft.length===d.length&&e(d,ni),a.isEmpty(s)?s.parentNode.replaceChild(l,s):a.insertAfter(l,s)),it=vwi(n,b,h,i,r,f),rt=snt(ot.concat(it.toArray()),b),sft(n,c,!1),v.setCursorLocation(rt,1),et.isEmpty(h)&&et.remove(h)))}function pwi(n,t){var i=n.schema.getTextInlineElements();return w(i,vt(t))&&!sf(t.dom)&&!ko(t.dom)}function kft(n){return h(n)&&!ar(n)&&!sf(n)&&!ko(n)}function knt(n,t){for(var i=n;i;i=i[t]){if(o(i)&&fy(i.data))return n;if(h(i)&&!ar(i))return i}return n}function dnt(n,t,i){var e=ldt(n),f,u;if(t&&i&&(t=knt(t,"previousSibling"),i=knt(i,"nextSibling"),e.compare(t,i))){for(u=t.nextSibling;u&&u!==i;)f=u,u=u.nextSibling,t.appendChild(f);return n.remove(i),r.each(r.grep(i.childNodes),function(n){t.appendChild(n)}),t}return i}function gnt(n,t,i,r){var u;r&&!1!==t.merge_siblings&&(u=dnt(n,bit(r),r),dnt(n,u,bit(u,!0)))}function nti(n,t){return function(i){return!(!i||!ow(n,i,t))}}function tti(n,t,i){return function(r){var u,f;n.setStyle(r,t,i);""===r.getAttribute("style")&&r.removeAttribute("style");u=n;"SPAN"===(f=r).nodeName&&0===u.getAttribs(f).length&&u.remove(f,!0)}}function iti(n,t,i){return n.isChildOf(t,i)&&t!==i&&!n.isBlock(i)}function rti(n,t,i){var f,r=t[i?"startContainer":"endContainer"],u=t[i?"startOffset":"endOffset"];return h(r)&&(f=r.childNodes.length-1,!i&&u&&u--,r=r.childNodes[f<u?f:u]),o(r)&&i&&u>=r.nodeValue.length&&(r=new yt(r,n.getBody()).next()||r),o(r)&&!i&&0===u&&new yt(r,n.getBody()).prev()||r}function uti(n,t){var i=t?"firstChild":"lastChild",r;return/^(TR|TH|TD)$/.test(n.nodeName)&&n[i]?(r=n[i],"TR"===n.nodeName&&r[i]||r):n}function dft(n,t,i,r){var u=n.create(i,r);return t.parentNode.insertBefore(u,t),u.appendChild(t),u}function fti(n,i,r,u,f){var o=t.fromDom(i),e=t.fromDom(n.create(u,f));return sy(e,(r?act:lct)(o)),r?(ou(o,e),wct(e,o)):(dl(o,e),ii(e,o)),e.dom}function cb(n,t,i,r){var u=bit(t,i,r);return wu(u)||"BR"===u.nodeName||n.isBlock(u)}function eti(n,t,i,r,u){var rt,l,o=n.dom,ut=o,w=r,v,s,a,y,d,g,c,b,f,nt,tt,k,it;if(!(kt(l=t)&&fl(w,l.inline)||hf(l)&&fl(w,l.block)||ur(l)&&h(w)&&ut.is(w,l.selector)||t.links&&"A"===r.nodeName))return hv.keep();if(f=r,kt(t)&&"all"===t.remove&&br(t.preserve_attributes)&&(nt=p(o.getAttribs(f),function(n){return dt(t.preserve_attributes,n.name.toLowerCase())}),o.removeAllAttribs(f),e(nt,function(n){return o.setAttrib(f,n.name,n.value)}),0<nt.length))return hv.rename("span");if("all"!==t.remove)for(set(t.styles,function(n,r){n=git(o,gf(n,i),r+"");oh(r)&&(r=n,u=null);!t.remove_similar&&u&&!fl(ow(o,u,r),n)||o.setStyle(f,r,"");rt=!0}),rt&&""===o.getAttrib(f,"style")&&(f.removeAttribute("style"),f.removeAttribute("data-mce-style")),set(t.attributes,function(n,r){var s;if(n=gf(n,i),oh(r)&&(r=n,u=null),t.remove_similar||!u||fl(o.getAttrib(u,r),n))if("class"===r&&(n=o.getAttrib(f,r))&&(s="",e(n.split(/\s+/),function(n){/mce\-\w+/.test(n)&&(s+=(s?" ":"")+n)}),s))o.setAttrib(f,r,s);else{if(cbi.test(r)&&f.removeAttribute("data-mce-"+r),"style"===r&&dr(["li"])(f)&&"none"===o.getStyle(f,"list-style-type"))return f.removeAttribute(r),void o.setStyle(f,"list-style-type","none");"class"===r&&f.removeAttribute("className");f.removeAttribute(r)}}),set(t.classes,function(n){n=gf(n,i);u&&!o.hasClass(u,n)||o.removeClass(f,n)}),tt=o.getAttribs(f),k=0;k<tt.length;k++)if(it=tt[k].nodeName,0!==it.indexOf("_")&&0!==it.indexOf("data-"))return hv.keep();return"none"!==t.remove?(v=n,a=t,g=(s=f).parentNode,c=v.dom,b=si(v),hf(a)&&(b?g===c.getRoot()&&(a.list_block&&fl(s,a.list_block)||e(bu(s.childNodes),function(n){pc(v,b,n.nodeName.toLowerCase())?y?y.appendChild(n):(y=dft(c,n,b),c.setAttribs(y,v.settings.forced_root_block_attrs)):y=null})):c.isBlock(s)&&!c.isBlock(g)&&(cb(c,s,!1)||cb(c,s.firstChild,!0,!0)||s.insertBefore(c.create("br"),s.firstChild),cb(c,s,!0)||cb(c,s.lastChild,!1,!0)||s.appendChild(c.create("br")))),ur(d=a)&&kt(d)&&ay(at(d,"mixed"),!0)&&!fl(a.inline,s)||c.remove(s,!0),hv.removed()):hv.keep()}function ul(n,t,i,r,u){return eti(n,t,i,r,u).fold(it,function(t){return n.dom.rename(r,t),!0},lt)}function oti(t,i,r,u,s){function v(n){var o,h,c,a,u,v=(h=i,c=r,a=s,e(sw((o=t).dom,n.parentNode).reverse(),function(n){var t;u||"_start"===n.id||"_end"===n.id||(t=vf(o,n,h,c,a))&&!1!==t.split&&(u=n)}),u);return function(n,t,i,r,u,e,o,s){var c,y,a=n.dom,p,l,h,v;if(i){for(p=i.parentNode,l=r.parentNode;l&&l!==p;l=l.parentNode){for(h=a.clone(l,!1),v=0;v<t.length&&null!==(h=function(n,t,i){return eti(n,t,s,i,i).fold(f(i),function(t){return n.dom.createFragment().appendChild(i),n.dom.rename(i,t)},f(null))}(n,t[v],h));v++);h&&(c&&h.appendChild(c),y=y||h,c=h)}!e||o.mixed&&a.isBlock(i)||(r=a.split(i,r));c&&(u.parentNode.insertBefore(c,u),y.appendChild(u),kt(o)&&gnt(a,o,0,c))}return r}(t,l,v,n,n,!0,y,r)}function nt(n){return vi(l,function(i){return ul(t,i,r,n,n)})}function w(n){var r,i=c.get(n?"_start":"_end"),t=i[n?"firstChild":"lastChild"];return ar(r=t)&&h(r)&&("_start"===r.id||"_end"===r.id)&&(t=t[n?"firstChild":"lastChild"]),o(t)&&0===t.data.length&&(t=n?i.previousSibling||i.nextSibling:i.nextSibling||i.previousSibling),c.remove(i,!0),t}function k(i){var f=wc(t,i,l,i.collapsed),o;if(y.split){if(f=pw(f),(r=rti(t,f,!0))!==(u=rti(t,f))){if(r=uti(r,!0),u=uti(u,!1),iti(c,r,u))return o=n.from(r.firstChild).getOr(r),v(fti(c,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void w(!0);if(iti(c,u,r))return o=n.from(u.lastChild).getOr(u),v(fti(c,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void w(!1);var r=dft(c,r,"span",{id:"_start","data-mce-type":"bookmark"}),u=dft(c,u,"span",{id:"_end","data-mce-type":"bookmark"}),s=c.createRng();s.setStartAfter(r);s.setEndBefore(u);tv(c,s,function(n){e(n,function(n){ar(n)||ar(n.parentNode)||v(n)})});v(r);v(u);r=w(!0);u=w()}else r=u=v(r);f.startContainer=r.parentNode||r;f.startOffset=c.nodeIndex(r);f.endContainer=u.parentNode||u;f.endOffset=c.nodeIndex(u)+1}tv(c,f,function(n){e(n,tt)})}var d,l=t.formatter.get(i),y=l[0],b=!0,c=t.dom,a=t.selection,tt=function(n){var o=!0,u=!1,s,f,i,r;if(h(n)&&c.getContentEditable(n)&&(o=b,b="true"===c.getContentEditable(n),u=!0),i=bu(n.childNodes),b&&!u&&(s=nt(n)||vi(l,function(t){return fft(c,n,t)}),f=n.parentNode,!s&&g(f)&&nrt(y)&&nt(f)),y.deep&&i.length){for(r=0;r<i.length;r++)tt(i[r]);u&&(b=o)}e(["underline","line-through","overline"],function(i){h(n)&&t.dom.getStyle(n,"text-decoration")===i&&n.parentNode&&dwt(c,n.parentNode)===i&&ul(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:i}},null,n)})},p;if(u)return ew(u)?((d=c.createRng()).setStartBefore(u),d.setEndAfter(u),k(d)):k(u),void art(t,i,u,r);if("false"!==c.getContentEditable(a.getNode()))a.isCollapsed()&&kt(y)&&!bc(t).length?ywi(t,i,r,s):(frt(a,!0,function(){urt(t,k)}),kt(y)&&eft(t,i,r,a.getStart())&&kwt(c,a,a.getRng()),t.nodeChanged()),art(t,i,u,r);else{for(u=a.getNode(),p=0;p<l.length&&(!l[p].ceFalseOverride||!ul(t,l[p],r,u,u));p++);art(t,i,u,r)}}function tbi(n){return h(n)&&!ar(n)&&!sf(n)&&!ko(n)}function sti(n){return w(n,"vars")}function hti(n,t,i,r,u){return iht(t,function(t){var f=n.formatter.matchNode(t,i,null!=u?u:{},r);return!tr(f)},function(t){return rnt(n,t,i)||!r&&g(n.formatter.matchNode(t,i,u,!0))})}function cti(n,t){var i=null!=t?t:fii(n);return p(sw(n.dom,i),function(n){return h(n)&&!ko(n)})}function ibi(t,i,r,u,f,o){var y,s,w,k,d,b,l,a,v;return null===i.get()&&(s=t,(y=i).set({}),s.on("NodeChange",function(n){eii(s,n.element,y.get())}),s.on("FormatApply FormatRemove",function(t){var i=n.from(t.node).map(function(n){return ew(n)?n:n.startContainer}).bind(function(t){return h(t)?n.some(t):n.from(t.parentElement)}).getOrThunk(function(){return fii(s)});eii(s,i,y.get())})),w=t,d=r,b=u,l=f,a=o,v=(k=i).get(),e(d.split(","),function(n){function r(){var t=cti(w);return hti(w,t,n,l,a).isSome()}var t,i=at(v,n).getOrThunk(function(){var t={withSimilar:{state:hi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:hi(!1),similar:!1,callbacks:[]},withVars:[]};return v[n]=t});tr(a)?((t=l?i.withSimilar:i.withoutSimilar).callbacks.push(b),1===t.callbacks.length&&t.state.set(r())):i.withVars.push({state:hi(r()),similar:l,vars:a,callback:b})}),k.set(v),{unbind:function(){var f,o=r,n=u,t=(f=i).get();e(o.split(","),function(i){return at(t,i).each(function(r){t[i]={withSimilar:c(c({},r.withSimilar),{callbacks:p(r.withSimilar.callbacks,function(t){return t!==n})}),withoutSimilar:c(c({},r.withoutSimilar),{callbacks:p(r.withoutSimilar.callbacks,function(t){return t!==n})}),withVars:p(r.withVars,function(t){return t.callback!==n})}})});f.set(t)}}}function gft(n,i){var r=(i||document).createDocumentFragment();return e(n,function(n){r.appendChild(n.dom)}),t.fromDom(r)}function net(n,t,i){return{element:n,width:t,rows:i}}function lti(n,t){return{element:n,cells:t}}function ati(n,t){var i=parseInt(na(n,t),10);return isNaN(i)?1:i}function vti(n){return fu(n,function(n,t){return t.cells.length>n?t.cells.length:n},0)}function yti(t,i){for(var e,u,f=t.rows,r=0;r<f.length;r++)for(e=f[r].cells,u=0;u<e.length;u++)if(nt(e[u],i))return n.some({x:u,y:r});return n.none()}function pti(n,t,i,r,u){for(var e,h,o=[],s=n.rows,f=i;f<=u;f++)e=s[f].cells,h=t<r?e.slice(t,r+1):e.slice(r,t+1),o.push(lti(s[f].element,h));return o}function rbi(n){var t=net(sc(n),0,[]);return e(gi(n,"tr"),function(n,i){e(gi(n,"td,th"),function(r,u){!function(n,t,i,r,u){for(var e,s=ati(u,"rowspan"),h=ati(u,"colspan"),o=n.rows,f=i;f<i+s;f++)for(o[f]||(o[f]=lti(gvt(r),[])),e=t;e<t+h;e++)o[f].cells[e]=f===i&&e===t?u:sc(u)}(t,function(n,t,i){for(;r=t,((u=n.rows)[i]?u[i].cells:[])[r];)t++;var r,u;return t}(t,u,i),i,n,r)})}),net(t.element,vti(t.rows),t.rows)}function ubi(n,i){var r,u,e,o=t.fromDom(i.commonAncestorContainer),s=ne(o,n),c=p(s,function(n){return hn(n)||rli(n)}),h=(e=i,gt(u=s,function(n){return"li"===vt(n)&&irt(n,e)}).fold(f([]),function(){return gt(u,function(n){return"ul"===vt(n)||"ol"===vt(n)}).map(function(n){var i=t.fromTag(vt(n));return yci(i,yl(flt(n),function(n,t){return wo(t,"list-style")})),[t.fromTag("li"),i]}).getOr([])}));return ut(c.concat(h.length?h:fa(r=o)?eu(r).filter(kn).fold(f([]),function(n){return[r,n]}):kn(r)?[r]:[]),sc)}function wti(){return gft([])}function fbi(n,i){return wy(i[0],"table",u(nt,n)).bind(function(n){var r,u,f=i[0],e=i[i.length-1],o=rbi(n);return u=e,yti(r=o,f).bind(function(n){return yti(r,u).map(function(t){return i=r,f=n.x,u=n.y,e=t.x,s=u<(o=t.y)?pti(i,f,u,e,o):pti(i,f,o,e,u),net(i.element,vti(s),s);var i,f,u,e,o,s})}).map(function(n){return gft([(u=ut((r=n).rows,function(n){var i=ut(n.cells,function(n){var t=gvt(n);return he(t,"colspan"),he(t,"rowspan"),t}),t=sc(n.element);return sy(t,i),t}),i=sc(r.element),sy(f=t.fromTag("tbody"),u),ii(i,f),i)]);var r,u,i,f})}).getOrThunk(wti)}function ebi(n,i){var e,r,o,u,s,h,f,c=fbt(i,n);return 0<c.length?fbi(n,c):(e=n,0<(r=i).length&&r[0].collapsed?wti():(o=e,u=r[0],s=t.fromDom(u.cloneContents()),f=fu(h=ubi(o,u),function(n,t){return ii(t,n),t},s),0<h.length?gft([f]):f))}function lb(n,t){return 0<=t&&t<n.length&&yc(n.charAt(t))}function bti(n,t){var i=ve(n.innerText);return t?i.replace(/^[ \f\n\r\t\v]+/,""):i}function kti(n){return h(n)?n.outerHTML:o(n)?ye.encodeRaw(n.data,!1):kci(n)?"<!--"+n.data+"-->":""}function obi(n,t){var i=0;e(n,function(n){var u,f,s,r,h,e,c,o;0===n[0]?i++:1===n[0]?(r=t,h=n[1],e=i,o=function(n){var t,i=document.createElement("div"),r=document.createDocumentFragment();for(n&&(i.innerHTML=n);t=i.firstChild;)r.appendChild(t);return r}(h),r.hasChildNodes()&&e<r.childNodes.length?(c=r.childNodes[e]).parentNode.insertBefore(o,c):r.appendChild(o),i++):2===n[0]&&(f=i,(u=t).hasChildNodes()&&f<u.childNodes.length&&(s=u.childNodes[f]).parentNode.removeChild(s))})}function tet(n){var t,i=sh((t=n.getBody(),p(ut(bu(t.childNodes),kti),function(n){return 0<n.length})),function(t){var i=cdt(n.serializer,t);return 0<i.length?[i]:[]}),r=i.join("");return-1!==r.indexOf("<\/iframe>")?{type:"fragmented",fragments:i,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:r,bookmark:null,beforeBookmark:null}}function iet(n,t,i){function p(n,t,i,r){for(var u=n;u-t<r&&u<i&&f[u]===e[u-t];)++u;return{start:n,end:u,diag:t}}var a,h,v,f,e,c,u,r,o,y,l,s=i?t.beforeBookmark:t.bookmark;"fragmented"===t.type?(a=t.fragments,h=n.getBody(),v=ut(bu(h.childNodes),kti),obi((e=a,c=(f=v).length+e.length+2,u=new Array(c),r=new Array(c),o=function(n,t,i,r,u){var s=y(n,t,i,r),h,c,l;if(null===s||s.start===t&&s.diag===t-r||s.end===n&&s.diag===n-i)for(h=n,c=i;h<t||c<r;)h<t&&c<r&&f[h]===e[c]?(u.push([0,f[h]]),++h,++c):r-i<t-n?(u.push([2,f[h]]),++h):(u.push([1,e[c]]),++c);else{for(o(n,s.start,i,s.start-s.diag,u),l=s.start;l<s.end;++l)u.push([0,f[l]]);o(s.end,t,s.end-s.diag,r,u)}},y=function(n,t,i,o){var w=t-n,b=o-i;if(0==w||0==b)return null;var c,h,s,a,v,l=w-b,k=b+w,y=(k%2==0?k:1+k)/2;for(u[1+y]=n,r[1+y]=t+1,c=0;c<=y;++c){for(h=-c;h<=c;h+=2){for(s=h+y,u[s]=h===-c||h!==c&&u[s-1]<u[s+1]?u[s+1]:u[s-1]+1,v=(a=u[s])-n+i-h;a<t&&v<o&&f[a]===e[v];)u[s]=++a,++v;if(l%2!=0&&l-c<=h&&h<=l+c&&r[s-l]<=u[s])return p(r[s-l],h+n-i,t,o)}for(h=l-c;h<=l+c;h+=2){for(s=h+y-l,r[s]=h===l-c||h!==l+c&&r[s+1]<=r[s-1]?r[s+1]-1:r[s-1],v=(a=r[s]-1)-n+i-h;n<=a&&i<=v&&f[a]===e[v];)r[s]=a--,v--;if(l%2==0&&-c<=h&&h<=c&&r[s]<=u[s+l])return p(r[s],h+n-i,t,o)}}},l=[],o(0,f.length,0,e.length,l),l),h)):n.setContent(t.content,{format:"raw",no_selection:!g(s)||!vwt(s)||!s.isFakeCaret});n.selection.moveToBookmark(s)}function ret(n){return"fragmented"===n.type?n.fragments.join(""):n.content}function dti(n){var i=t.fromTag("body",lbi());return kvt(i,ret(n)),e(gi(i,"*[data-mce-bogus]"),bct),i.dom.innerHTML}function ab(n,t){return!(!n||!t)&&(r=t,ret(n)===ret(r)||(i=t,dti(n)===dti(i)));var i,r}function uet(n){return 0===n.get()}function vb(n,t,i){uet(i)&&(n.typing=t)}function gti(n,t){n.typing&&(vb(n,!1,t),n.add())}function nii(i){return{undoManager:{beforeChange:function(n,t){var r=i,u=t;uet(n)&&u.set(rwt(r.selection))},add:function(n,t,u,f,e,o){return function(n,t,i,u,f,e,o){var a=tet(n),s,l,h,c;if((e=r.extend(e=e||{},a),!1===uet(u)||n.removed)||(s=t.data[i.get()],n.fire("BeforeAddUndo",{level:e,lastLevel:s,originalEvent:o}).isDefaultPrevented())||s&&ab(s,e))return null;if(t.data[i.get()]&&f.get().each(function(n){t.data[i.get()].beforeBookmark=n}),l=n.getParam("custom_undo_redo_levels",0,"number"),l&&t.data.length>l){for(h=0;h<t.data.length-1;h++)t.data[h]=t.data[h+1];t.data.length--;i.set(t.data.length)}return e.bookmark=rwt(n.selection),i.get()<t.data.length-1&&(t.data.length=i.get()+1),t.data.push(e),i.set(t.data.length-1),c={level:e,lastLevel:s,originalEvent:o},0<i.get()?(n.setDirty(!0),n.fire("AddUndo",c),n.fire("change",c)):n.fire("AddUndo",c),e}(i,n,t,u,f,e,o)},undo:function(n,t,r){return e=i,s=t,f=r,(u=n).typing&&(u.add(),u.typing=!1,vb(u,!1,s)),0<f.get()&&(f.set(f.get()-1),iet(e,o=u.data[f.get()],!0),e.setDirty(!0),e.fire("Undo",{level:o})),o;var e,u,s,f,o},redo:function(n,t){return r=i,f=t,(u=n).get()<f.length-1&&(u.set(u.get()+1),iet(r,e=f[u.get()],!1),r.setDirty(!0),r.fire("Redo",{level:e})),e;var r,u,f,e},clear:function(n,t){var r,u=i,f=t;(r=n).data=[];f.set(0);r.typing=!1;u.fire("ClearUndos")},reset:function(n){var t;(t=n).clear();t.add()},hasUndo:function(n,t){return u=i,r=n,0<t.get()||r.typing&&r.data[0]&&!ab(tet(u),r.data[0]);var u,r},hasRedo:function(n,t){return i=n,t.get()<i.data.length-1&&!i.typing;var i},transact:function(n,t,i){return u=i,gti(r=n,t),r.beforeChange(),r.ignore(u),r.add();var r,u},ignore:function(n,t){try{n.set(n.get()+1);t()}finally{n.set(n.get()-1)}},extra:function(n,t,r,u){var f,o,s=i,e=t,h=u;(f=n).transact(r)&&(o=f.data[e.get()].bookmark,iet(s,f.data[e.get()-1],!0),f.transact(h)&&(f.data[e.get()-1].beforeBookmark=o))}},formatter:{match:function(n,t,r,u){return eft(i,n,t,r,u)},matchAll:function(n,t){return u=n,o=t,f=[],e={},s=(r=i).selection.getStart(),r.dom.getParent(s,function(n){for(var t,i=0;i<u.length;i++)t=u[i],!e[t]&&vf(r,n,t,o)&&(e[t]=!0,f.push(t))},r.dom.getRoot()),f;var r,u,o,f,e,s},matchNode:function(n,t,r,u){return vf(i,n,t,r,u)},canApply:function(n){return function(t){var f=t.formatter.get(n),o=t.dom,e,i,r,u;if(f)for(e=sw(o,t.selection.getStart()),i=f.length-1;0<=i;i--){if(r=f[i],!ur(r)||g(r.defaultBlock))return!0;for(u=e.length-1;0<=u;u--)if(o.is(e[u],r.selector))return!0}return!1}(i)},closest:function(r){function e(n){return nt(n,t.fromDom(u.getBody()))}return u=i,f=r,n.from(u.selection.getStart(!0)).bind(function(i){return rft(t.fromDom(i),function(t){return uht(f,function(i){return vf(u,t.dom,r=i)?n.some(r):n.none();var r})},e)}).getOrNull();var u,f},apply:function(n,t,r){return het(i,n,t,r)},remove:function(n,t,r,u){return oti(i,n,t,r,u)},toggle:function(n,t,r){var u,f=n,e=t,o=r,s=(u=i).formatter.get(f);(!eft(u,f,e,o)||"toggle"in s[0]&&!s[0].toggle?het:oti)(u,f,e,o)},formatChanged:function(n,t,r,u,f){return ibi(i,n,t,r,u,f)}},editor:{getContent:function(u,e){return o=i,s=u,h=e,n.from(o.getBody()).fold(f("tree"===s.format?new ru("body",11):""),function(n){return f=o,u=n,y=h,l=c(c({},v=s),{format:y,get:!0,getInner:!0}),i=v.no_events?l:f.fire("BeforeGetContent",l),a="raw"===i.format?r.trim(vpi(f.serializer,u.innerHTML)):"text"===i.format?f.dom.isEmpty(u)?"":ve(u.innerText||u.textContent):"tree"===i.format?f.serializer.serialize(u,i):(w=(p=f).serializer.serialize(u,i),e=si(p),b=new RegExp("^(<"+e+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+e+">[\r\n]*|<br \\/>[\r\n]*)$"),w.replace(b,"")),i.content=dt(["text","tree"],i.format)||tp(t.fromDom(u))?a:r.trim(a),(i.no_events?i:f.fire("GetContent",i)).content;var f,v,u,y,p,w,e,b,l,i,a});var o,s,h},setContent:function(n,t){return awi(i,n,t)},insertContent:function(n,t){return lwi(i,n,t)},addVisual:function(n){var t,u=n,r=(t=i).dom,f=g(u)?u:t.getBody();tr(t.hasVisual)&&(t.hasVisual=t.getParam("visual",!0,"boolean"));e(r.select("table,a",f),function(n){var i,u,e,f;switch(n.nodeName){case"TABLE":i=t.getParam("visual_table_class","mce-item-table","string");u=r.getAttrib(n,"border");u&&"0"!==u||!t.hasVisual?r.removeClass(n,i):r.addClass(n,i);break;case"A":r.getAttrib(n,"href")||(e=r.getAttrib(n,"name")||n.id,f=t.getParam("visual_anchor_class","mce-item-anchor","string"),e&&t.hasVisual?r.addClass(n,f):r.removeClass(n,f))}});t.fire("VisualAid",{element:u,hasVisual:t.hasVisual})}},selection:{getContent:function(r,u){return function(i,r,u){var v,k=(v=r,c(c({},u=void 0===u?{}:u),{format:v,get:!0,selection:!0})),f=i.fire("BeforeGetContent",k),o,s,y,h,p,w,b,e,a;return f.isDefaultPrevented()?(i.fire("GetContent",f),f.content):"text"===f.format?(e=i,n.from(e.selection.getRng()).map(function(t){var s=n.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),h=e.getBody(),c=s.map(function(n){return n.nodeName}).getOr("div").toLowerCase(),a=l.browser.isIE()&&"pre"!==c,f=e.dom.add(h,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),i=bti(f,a),o=ve(f.textContent),r,u;return(e.dom.remove(f),lb(o,0)||lb(o,o.length-1))?(r=bti(s.getOr(h),a),u=r.indexOf(i),-1===u?i:(lb(r,u-1)?" ":"")+i+(lb(r,u+i.length)?" ":"")):i}).getOr("")):(f.getInner=!0,a=(s=f,y=(o=i).selection.getRng(),h=o.dom.create("body"),p=o.selection.getSel(),w=iut(o,trt(p)),(b=s.contextual?ebi(t.fromDom(o.getBody()),w).dom:y.cloneContents())&&h.appendChild(b),o.selection.serializer.serialize(h,s)),"tree"===f.format?a:(f.content=i.selection.isCollapsed()?"":a,i.fire("GetContent",f),f.content))}(i,r,u)}},raw:{getModel:function(){return n.none()}}}}function te(n){return w(n.plugins,"rtc")}function sbi(t){var i=t;return at(t.plugins,"rtc").bind(function(t){return n.from(t.setup)}).fold(function(){return i.rtcInstance=nii(t),n.none()},function(t){var r,u;return i.rtcInstance=(r=f(null),u=f(""),{undoManager:{beforeChange:y,add:r,undo:r,redo:r,clear:y,reset:y,hasUndo:it,hasRedo:it,transact:r,ignore:y,extra:y},formatter:{match:it,matchAll:f([]),matchNode:f(void 0),canApply:it,closest:u,apply:y,remove:y,toggle:y,formatChanged:f({unbind:y})},editor:{getContent:u,setContent:u,insertContent:y,addVisual:y},selection:{getContent:u},raw:{getModel:f(n.none())}}),n.some(function(){return t().then(function(t){function e(n){return eh(n)?n:{}}return i.rtcInstance=(r=t.undoManager,u=t.formatter,f=t.editor,o=t.selection,s=t.raw,{undoManager:{beforeChange:r.beforeChange,add:r.add,undo:r.undo,redo:r.redo,clear:r.clear,reset:r.reset,hasUndo:r.hasUndo,hasRedo:r.hasRedo,transact:function(n,t,i){return r.transact(i)},ignore:function(n,t){return r.ignore(t)},extra:function(n,t,i,u){return r.extra(i,u)}},formatter:{match:function(n,t,i,r){return u.match(n,e(t),r)},matchAll:u.matchAll,matchNode:u.matchNode,canApply:function(n){return u.canApply(n)},closest:function(n){return u.closest(n)},apply:function(n,t){return u.apply(n,e(t))},remove:function(n,t){return u.remove(n,e(t))},toggle:function(n,t){return u.toggle(n,e(t))},formatChanged:function(n,t,i,r,f){return u.formatChanged(t,i,r,f)}},editor:{getContent:function(n){return f.getContent(n)},setContent:function(n,t){return f.setContent(n,t)},insertContent:function(n){return f.insertContent(n)},addVisual:f.addVisual},selection:{getContent:function(n,t){return o.getContent(t)}},raw:{getModel:function(){return n.some(s.getRawModel())}}}),t.rtc.isRemote;var r,u,f,o,s})})})}function fet(n){return n.rtcInstance||nii(n)}function ct(n){var t=n.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.");}function tii(t){return 0===t.dom.length?(ni(t),n.none()):n.some(t)}function iii(n,t,r,u){n.bind(function(n){return(u?vut:fb)(n.dom,u?n.dom.length:0),t.filter(gr).map(function(t){var o=r,f=u,e=n.dom,i=t.dom,s=(f?e:i).length;f?(yut(e,i,!1,!f),o.setStart(i,s)):(yut(i,e,!1,!f),o.setEnd(i,s))})}).orThunk(function(){var n=u;return t.filter(function(n){return rv.isBookmarkNode(n.dom)}).bind(n?kl:bo).or(t).filter(gr).map(function(n){var t,r=u;eu(t=n).each(function(n){var u=t.dom;r&&rb(n,i(u,0))?fb(u,0):!r&&ub(n,i(u,u.length))&&vut(u,u.length)})})})}function hbi(i,r,u){var h,s=(h=r,c(c({format:"html"},u=void 0===u?{}:u),{set:!0,selection:!0,content:h})),f=s,o,e;if(!s.no_events){if(o=i.fire("BeforeSetContent",s),o.isDefaultPrevented())return void i.fire("SetContent",o);f=o}f.content=function(n,t){if("raw"===t.format)return t.content;var r=n.selection.getRng(),i=n.dom.getParent(r.commonAncestorContainer,n.dom.isBlock),u=i?{context:i.nodeName.toLowerCase()}:{},f=n.parser.parse(t.content,c(c({isRootContent:!0,forced_root_block:!1},u),t));return nl({validate:n.validate},n.schema).serialize(f)}(i,f);e=i.selection.getRng();!function(i,r){var u=n.from(r.firstChild).map(t.fromDom),f=n.from(r.lastChild).map(t.fromDom),e,o;i.deleteContents();i.insertNode(r);e=u.bind(bo).filter(gr).bind(tii);o=f.bind(kl).filter(gr).bind(tii);iii(e,u,i,!0);iii(o,f,i,!1);i.collapse(!1)}(e,e.createContextualFragment(f.content));i.selection.setRng(e);ev(i,e);f.no_events||i.fire("SetContent",f)}function rii(n,t,i){var r;n&&w(n,t)&&(0===(r=p(n[t],function(n){return n!==i})).length?delete n[t]:n[t]=r)}function oii(n){return n.select}function sii(n){return n&&n.ownerDocument&&oe(t.fromDom(n.ownerDocument),t.fromDom(n))}function hii(t,u,f,o){function nt(n,t){return hbi(o,n,t)}function tt(){var n=v(),u=null==n?void 0:n.anchorNode,f=null==n?void 0:n.focusNode,i,r;return!n||!u||!f||cy(u)||cy(f)?!0:(i=t.createRng(),i.setStart(u,n.anchorOffset),i.collapse(!0),r=t.createRng(),r.setStart(f,n.focusOffset),r.collapse(!0),i.compareBoundaryPoints(i.START_TO_START,r)<=0)}function it(n){var t=s();t.collapse(!!n);a(t)}function v(){return u.getSelection?u.getSelection():u.document.selection}function ft(n,t){return gt(t,function(t){return b.is(t,n)})}function et(n){return b.getParents(n,null,b.getRoot())}var y,p,b,k,h,c,rt=function(n,t){return h||(h={},c={},k.on("NodeChange",function(n){var i=n.element,t=et(i),u={};r.each(h,function(n,i){ft(i,t).each(function(r){c[i]||(e(n,function(n){n(!0,{node:r,selector:i,parents:t})}),c[i]=n);u[i]=n})});r.each(c,function(n,f){u[f]||(delete c[f],r.each(n,function(n){n(!1,{node:i,selector:f,parents:t})}))})})),h[n]||(h[n]=[]),h[n].push(t),ft(n,et(k.selection.getStart())).each(function(){c[n]=h[n]}),{unbind:function(){rii(h,n,t);rii(c,n,t)}}},s=function(){function s(n,t,i){try{return t.compareBoundaryPoints(n,i)}catch(n){return-1}}var i,n,f,r=u.document,e;if(void 0!==o.bookmark&&!1===as(o)&&(e=nut(o),e.isSome()))return e.map(function(n){return iut(o,[n])[0]}).getOr(r.createRange());try{(i=v())&&!cy(i.anchorNode)&&(n=0<i.rangeCount?i.getRangeAt(0):(i.createRange?i:r).createRange(),n=iut(o,[n])[0])}catch(s){}return(n=n||(r.createRange?r.createRange():r.body.createTextRange())).setStart&&9===n.startContainer.nodeType&&n.collapsed&&(f=t.getRoot(),n.setStart(f,0),n.setEnd(f,0)),y&&p&&(0===s(n.START_TO_START,n,y)&&0===s(n.END_TO_END,n,y)?n=p:p=y=null),n},a=function(n,t){var r,u,f,i;if((u=n)&&(oii(u)||sii(u.startContainer)&&sii(u.endContainer)))if(f=oii(n)?n:null,f){p=null;try{f.select()}catch(n){}}else{if(i=v(),n=o.fire("SetSelectionRange",{range:n,forward:t}).range,i){p=n;try{i.removeAllRanges();i.addRange(n)}catch(n){}!1===t&&i.extend&&(i.collapse(n.endContainer,n.endOffset),i.extend(n.startContainer,n.startOffset));y=0<i.rangeCount?i.getRangeAt(0):null}n.collapsed||n.startContainer!==n.endContainer||!i.setBaseAndExtent||l.ie||n.endOffset-n.startOffset<2&&n.startContainer.hasChildNodes()&&(r=n.startContainer.childNodes[n.startOffset])&&"IMG"===r.tagName&&(i.setBaseAndExtent(n.startContainer,n.startOffset,n.endContainer,n.endOffset),i.anchorNode===n.startContainer&&i.focusNode===n.endContainer||i.setBaseAndExtent(r,0,r,1));o.fire("AfterSetSelectionRange",{range:n,forward:t})}},w={bookmarkManager:null,controlSelection:null,dom:b=t,win:u,serializer:f,editor:k=o,collapse:it,setCursorLocation:function(n,i){var r=t.createRng();g(n)&&g(i)?(r.setStart(n,i),r.setEnd(n,i),a(r),it(!1)):(rrt(t,r,o.getBody(),!0),a(r))},getContent:function(n){return i=(t=void 0===(t=n)?{}:t).format||"html",r=t,ct(o).selection.getContent(i,r);var t,i,r},setContent:nt,getBookmark:function(n,t){return d.getBookmark(n,t)},moveToBookmark:function(n){return d.moveToBookmark(n)},select:function(i,r){var u=t,f=r;return n.from(i).map(function(n){var i=u.nodeIndex(n),t=u.createRng();return t.setStart(n.parentNode,i),t.setEnd(n.parentNode,i+1),f&&(rrt(u,t,n,!0),rrt(u,t,n,!1)),t}).each(a),i},isCollapsed:function(){var n=s(),t=v();return!(!n||n.item)&&(n.compareEndPoints?0===n.compareEndPoints("StartToEnd",n):!t||n.collapsed)},isForward:tt,setNode:function(n){return nt(t.getOuterHTML(n)),n},getNode:function(){return function(n,t){if(!t)return n;var i=t.startContainer,r=t.endContainer,f=t.startOffset,e=t.endOffset,u=t.commonAncestorContainer;return!t.collapsed&&(i===r&&e-f<2&&i.hasChildNodes()&&(u=i.childNodes[f]),3===i.nodeType&&3===r.nodeType&&(i=i.length===f?rdt(i.nextSibling,!0):i.parentNode,r=0===e?rdt(r.previousSibling,!1):r.parentNode,i&&i===r))?i:u&&3===u.nodeType?u.parentNode:u}(o.getBody(),s())},getSel:v,setRng:a,getRng:s,getStart:function(n){return tdt(o.getBody(),s(),n)},getEnd:function(n){return idt(o.getBody(),s(),n)},getSelectedBlocks:function(n,i){return function(n,t,i,r){var f=[],u=n.getRoot(),e,o;if(i=n.getParent(i||tdt(u,t,t.collapsed),n.isBlock),r=n.getParent(r||idt(u,t,t.collapsed),n.isBlock),i&&i!==u&&f.push(i),i&&r&&i!==r)for(o=new yt(i,u);(e=o.next())&&e!==r;)n.isBlock(e)&&f.push(e);return r&&i!==r&&r!==u&&f.push(r),f}(t,s(),n,i)},normalize:function(){var n=s(),i;return 1<trt(v()).length||!cw(o)?n:(i=vw(t,n),i.each(function(n){a(n,tt())}),i.getOr(n))},selectorChanged:function(n,t){return rt(n,t),w},selectorChangedWithUnbind:rt,getScrollContainer:function(){for(var i,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){i=n;break}n=n.parentNode}return i},scrollIntoView:function(n,t){g(n)?(o.inline?wyi:kyi)(o,n,t):ev(o,s(),t)},placeCaretAt:function(n,t){return a(vrt(n,t,o.getDoc()))},getBoundingClientRect:function(){var n=s();return n.collapsed?i.fromRangeStart(n).getClientRects()[0]:n.getBoundingClientRect()},destroy:function(){u=y=p=null;ut.destroy()}},d=rv(w),ut=gbt(w,o);return w.bookmarkManager=d,w.controlSelection=ut,w}function abi(n,t){var i,f,u,o,s=pn();t.convert_fonts_to_spans&&(f=n,u=s,o=r.explode(t.font_size_legacy_values),f.addNodeFilter("font",function(n){e(n,function(n){var i,t=u.parse(n.attr("style")),r=n.attr("color"),f=n.attr("face"),s=n.attr("size");r&&(t.color=r);f&&(t["font-family"]=f);s&&(t["font-size"]=o[parseInt(n.attr("size"),10)-1]);n.name="span";n.attr("style",u.serialize(t));i=n;e(["color","face","size"],function(n){i.attr(n,null)})})}));i=s;n.addNodeFilter("strike",function(n){e(n,function(n){var t=i.parse(n.attr("style"));t["text-decoration"]="line-through";n.name="span";n.attr("style",i.serialize(t))})})}function cet(n){var t,i=decodeURIComponent(n).split(","),r=/data:([^;]+)/.exec(i[0]);return{type:t=r?r[1]:t,data:i[1]}}function cii(t,i){var f,u,r;try{f=atob(i)}catch(t){return n.none()}for(u=new Uint8Array(f.length),r=0;r<u.length;r++)u[r]=f.charCodeAt(r);return n.some(new Blob([u],{type:t}))}function lii(n){return 0===n.indexOf("blob:")?(t=n,new ri(function(n,i){function u(){i("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")}try{var r=new XMLHttpRequest;r.open("GET",t,!0);r.responseType="blob";r.onload=function(){200===r.status?n(r.response):u()};r.onerror=u;r.send()}catch(n){u()}})):0===n.indexOf("data:")?(i=n,new ri(function(n){var t=cet(i);cii(t.type,t.data).fold(function(){return n(new Blob([]))},n)})):null;var t,i}function aet(n){return(n||"blobid")+gbi++}function vbi(n,t){var i={};return{findAll:function(r,u){u=u||lt;var f=ut(p(r?bu(r.getElementsByTagName("img")):[],function(t){var i=t.src;return l.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&i&&i!==l.transparentSrc&&(0===i.indexOf("blob:")?!n.isUploaded(i)&&u(t):0===i.indexOf("data:")&&u(t))}),function(n){if(void 0!==i[n.src])return new ri(function(t){i[n.src].then(function(i){return"string"==typeof i?i:void t({image:n,blobInfo:i.blobInfo})})});var r=new ri(function(i,r){var e,f,o,h,c,l,a,s,u;e=t;o=i;h=r;0!==(f=n).src.indexOf("blob:")?(l=(c=cet(f.src)).data,a=c.type,s=l,(u=e.getByData(s,a))?o({image:f,blobInfo:u}):lii(f.src).then(function(n){u=e.create(aet(),n,s);e.add(u);o({image:f,blobInfo:u})},function(n){h(n)})):(u=e.getByUri(f.src))?o({image:f,blobInfo:u}):lii(f.src).then(function(n){var t=n;new ri(function(n){var i=new FileReader;i.onloadend=function(){n(i.result)};i.readAsDataURL(t)}).then(function(t){s=cet(t).data;u=e.create(aet(),n,s);e.add(u);o({image:f,blobInfo:u})})},function(n){h(n)})}).then(function(n){return delete i[n.image.src],n}).catch(function(t){return delete i[n.src],t});return i[n.src]=r});return ri.all(f)}}}function vet(n,t,i,r){(n.padd_empty_with_br||t.insert)&&i[r.name]?r.empty().append(new ru("br",1)).shortEnded=!0:r.empty().append(new ru("#text",3)).value=ir}function cv(n,t,i,r){return r.isEmpty(t,i,function(t){return(i=n.getElementRule(t.name))&&i.paddEmpty;var i})}function ybi(t,i){function h(t){var r,i,u=t.attr("src");(r=t).attr("src")===l.transparentSrc||g(r.attr("data-mce-placeholder"))||g(t.attr("data-mce-bogus"))||((i=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(u))?n.some({type:i[1],data:decodeURIComponent(i[2])}):n.none()).filter(function(){return function(n,t){if(t.images_dataimg_filter){var i=new Image;return i.src=n.attr("src"),et(n.attributes.map,function(n,t){i.setAttribute(t,n)}),t.images_dataimg_filter(i)}return!0}(t,s)}).bind(function(t){var r=t.type,i=t.data;return n.from(f.getByData(i,r)).orThunk(function(){return cii(r,i).map(function(n){var t=f.create(aet(),n,i);return f.add(t),t})})}).each(function(n){t.attr("src",n.blobUri())})}var o,s,f,u=t.schema;i.remove_trailing_brs&&t.addNodeFilter("br",function(n,t,f){var c,o,e,h,s,v,a,y,p=n.length,l=r.extend({},u.getBlockElements()),w=u.getNonEmptyElements(),b=u.getWhiteSpaceElements();for(l.body=1,c=0;c<p;c++)if(e=(o=n[c]).parent,l[o.parent.name]&&o===e.lastChild){for(s=o.prev;s;){if("span"!==(v=s.name)||"bookmark"!==s.attr("data-mce-type")){"br"===v&&(o=null);break}s=s.prev}o&&(o.remove(),cv(u,w,b,e)&&(a=u.getElementRule(e.name))&&(a.removeEmpty?e.remove():a.paddEmpty&&vet(i,f,l,e)))}else{for(h=o;e&&e.firstChild===h&&e.lastChild===h&&!l[(h=e).name];)e=e.parent;h===e&&!0!==i.padd_empty_with_br&&((y=new ru("#text",3)).value=ir,o.replace(y))}});t.addAttributeFilter("href",function(n){var f,t,e=n.length,u;if(!i.allow_unsafe_link_target)for(;e--;)u=n[e],"a"===u.name&&"_blank"===u.attr("target")&&u.attr("rel",(t=void 0,t=(f=u.attr("rel"))?r.trim(f):"",/\b(noopener)\b/g.test(t)?t:t.split(" ").filter(function(n){return 0<n.length}).concat(["noopener"]).sort().join(" ")))});i.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(n){for(var i,r,u,t,f=n.length;f--;)if("a"===(t=n[f]).name&&t.firstChild&&!t.attr("href"))for(u=t.parent,i=t.lastChild;r=i.prev,u.insert(i,t),i=r;);});i.fix_list_elements&&t.addNodeFilter("ul,ol",function(n){for(var i,t,r,u=n.length;u--;)"ul"!==(r=(t=n[u]).parent).name&&"ol"!==r.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((i=new ru("li",1)).attr("style","list-style-type: none"),t.wrap(i)))});i.validate&&u.getValidClasses()&&t.addAttributeFilter("class",function(n){for(var f=u.getValidClasses(),e=n.length;e--;){for(var o=n[e],c=o.attr("class").split(" "),t="",s=0;s<c.length;s++){var h=c[s],r=!1,i=f["*"];i&&i[h]&&(r=!0);i=f[o.name];(r=!(r||!i||!i[h])||r)&&(t&&(t+=" "),t+=h)}t.length||(t=null);o.attr("class",t)}});o=t;(f=(s=i).blob_cache)&&o.addAttributeFilter("src",function(n){return e(n,h)})}function yet(n,t){function e(n){var o=n.name,s,t,e;for((o in r)&&((t=u[o])?t.push(n):u[o]=[n]),s=i.length;s--;)e=i[s].name,e in n.attributes.map&&((t=f[e])?t.push(n):f[e]=[n]);return n}var o;void 0===t&&(t=ae());var r={},i=[],u={},f={};return(n=n||{}).validate=!("validate"in n)||n.validate,n.root_name=n.root_name||"body",o={schema:t,addAttributeFilter:function(n,t){nri(tri(n),function(n){for(var r=0;r<i.length;r++)if(i[r].name===n)return void i[r].callbacks.push(t);i.push({name:n,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(n,t){nri(tri(n),function(n){var i=r[n];i||(r[n]=i=[]);i.push(t)})},getNodeFilters:function(){var n,t=[];for(n in r)w(r,n)&&t.push({name:n,callbacks:r[n]});return t},filterNode:e,parse:function(o,s){function ut(n){for(var u,r,e,f=t.getBlockElements(),i=n.prev;i&&3===i.type;){if(u=i.value.replace(st,""),0<u.length)return i.value=u,0;if(r=i.next,r){if(3===r.type&&r.value.length){i=i.prev;continue}if(!f[r.name]&&"script"!==r.name&&"style"!==r.name){i=i.prev;continue}}e=i.prev;i.remove();i=e}}function y(n,t){var f,i=new ru(n,t);return n in r&&((f=u[n])?f.push(i):u[n]=[i]),i}var a,v,tt,c,ht,l,d,h,rt=[];s=s||{};u={};f={};var p=nki(gii("script,style,head,html,body,title,meta,param"),t.getBlockElements()),vt=sat(t),ct=t.getNonEmptyElements(),lt=t.children,it=n.validate,ft=("forced_root_block"in s?s:n).forced_root_block,et=!1===ft?"":!0===ft?"p":ft,b=t.getWhiteSpaceElements(),ot=/^[ \t\r\n]+/,st=/[ \t\r\n]+$/,yt=/[ \t\r\n]+/g,at=/^[ \t\r\n]+$/,k=w(b,s.context)||w(b,n.root_name),pt=nb({validate:it,document:n.document,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_script_urls:n.allow_script_urls,allow_conditional_comments:n.allow_conditional_comments,preserve_cdata:n.preserve_cdata,self_closing_elements:function(n){var t,i={};for(t in n)"li"!==t&&"p"!==t&&(i[t]=n[t]);return i}(t.getSelfClosingElements()),cdata:function(n){h.append(y("#cdata",4)).value=n},text:function(n,t){var r,i;k||(n=n.replace(yt," "),(i=h.lastChild)&&(w(p,i.name)||"br"===i.name)&&(n=n.replace(ot,"")));0!==n.length&&((r=y("#text",3)).raw=!!t,h.append(r).value=n)},comment:function(n){h.append(y("#comment",8)).value=n},pi:function(n,t){h.append(y(n,7)).value=t;ut(h)},doctype:function(n){h.append(y("#doctype",10)).value=n;ut(h)},start:function(n,r,u){var a=it?t.getElementRule(n):{},e,s,c,o;if(a){for(e=y(a.outputName||n,1),e.attributes=r,e.shortEnded=u,h.append(e),s=lt[h.name],s&&lt[e.name]&&!s[e.name]&&rt.push(e),c=i.length;c--;)o=i[c].name,o in r.map&&((l=f[o])?l.push(e):f[o]=[e]);p[n]&&ut(e);u||(h=e);!k&&b[n]&&(k=!0)}},end:function(i){var r,u,f,c,e=it?t.getElementRule(i):{},o,l;if(e){if(p[i]&&!k){if((r=h.firstChild)&&3===r.type)if(0<(u=r.value.replace(ot,"")).length)r.value=u,r=r.next;else for(f=r.next,r.remove(),r=f;r&&3===r.type;)u=r.value,f=r.next,0!==u.length&&!at.test(u)||(r.remove(),r=f),r=f;if((r=h.lastChild)&&3===r.type)if(0<(u=r.value.replace(st,"")).length)r.value=u,r=r.prev;else for(f=r.prev,r.remove(),r=f;r&&3===r.type;)u=r.value,f=r.prev,0!==u.length&&!at.test(u)||(r.remove(),r=f),r=f}k&&b[i]&&(k=!1);o=cv(t,ct,b,h);l=h.parent;e.paddInEmptyBlock&&o&&function(){for(var n=h;g(n);){if(n.name in vt)return cv(t,ct,b,n);n=n.parent}}()?vet(n,s,p,h):e.removeEmpty&&o?p[h.name]?h.empty().remove():h.unwrap():e.paddEmpty&&(dii(c=h,"#text")&&c.firstChild.value===ir||o)&&vet(n,s,p,h);h=l}}},t),nt=h=new ru(s.context||n.root_name,11);if(pt.parse(o,s.format),it&&rt.length&&(s.context?s.invalid=!0:function(n){for(var r,f,u,c,o,s,b,k=gii("tr,td,th,tbody,thead,tfoot,table"),y=t.getNonEmptyElements(),p=t.getWhiteSpaceElements(),w=t.getTextBlockElements(),d=t.getSpecialElements(),a=function(n,i){var r,u,f;if(void 0===i&&(i=n.parent),d[n.name])n.empty().remove();else{for(r=0,u=n.children();r<u.length;r++)f=u[r],t.isValidChild(i.name,f.name)||a(f,i);n.unwrap()}},v=0;v<n.length;v++){var l,i=n[v],u=void 0,h=void 0;if(i.parent&&!i.fixed)if(w[i.name]&&"li"===i.parent.name){for(r=i.next;r&&w[r.name];)r.name="li",r.fixed=!0,i.parent.insert(r,i.parent),r=r.next;i.unwrap()}else{for(f=[i],u=i.parent;u&&!t.isValidChild(u.name,i.name)&&!k[u.name];u=u.parent)f.push(u);if(u&&1<f.length)if(t.isValidChild(u.name,i.name)){for(f.reverse(),c=l=e(f[0].clone()),o=0;o<f.length-1;o++){for(t.isValidChild(c.name,f[o].name)?(h=e(f[o].clone()),c.append(h)):h=c,s=f[o].firstChild;s&&s!==f[o+1];)b=s.next,h.append(s),s=b;c=h}cv(t,y,p,l)?u.insert(i,f[0],!0):(u.insert(l,f[0],!0),u.insert(i,l));u=f[0];(cv(t,y,p,u)||dii(u,"br"))&&u.empty().remove()}else a(i);else i.parent&&("li"!==i.name?t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)?i.wrap(e(new ru("div",1))):a(i):!(r=i.prev)||"ul"!==r.name&&"ol"!==r.name?!(r=i.next)||"ul"!==r.name&&"ol"!==r.name?i.wrap(e(new ru("ul",1))):r.insert(i,r.firstChild,!0):r.append(i))}}}(rt)),et&&("body"===nt.name||s.isRootContent)&&function(){function u(n){n&&((i=n.firstChild)&&3===i.type&&(i.value=i.value.replace(ot,"")),(i=n.lastChild)&&3===i.type&&(i.value=i.value.replace(st,"")))}var i=nt.firstChild,r=null,f;if(t.isValidChild(nt.name,et.toLowerCase())){for(;i;)f=i.next,3===i.type||1===i.type&&"p"!==i.name&&!p[i.name]&&!i.attr("data-mce-type")?(r||((r=y(et,1)).attr(n.forced_root_block_attrs),nt.insert(r,i)),r.append(i)):(u(r),r=null),i=f;u(r)}}(),!s.invalid){for(d in u)if(w(u,d)){for(l=r[d],c=(a=u[d]).length;c--;)a[c].parent||a.splice(c,1);for(v=0,tt=l.length;v<tt;v++)l[v](a,d,s)}for(v=0,tt=i.length;v<tt;v++)if((l=i[v]).name in f){for(c=(a=f[l.name]).length;c--;)a[c].parent||a.splice(c,1);for(c=0,ht=l.callbacks.length;c<ht;c++)l.callbacks[c](a,l.name,s)}}return nt}},ybi(o,n),n.inline_styles&&abi(o,n),o}function pbi(n,t,i){-1===r.inArray(t,i)&&(n.addAttributeFilter(i,function(n,t){for(var i=n.length;i--;)n[i].attr(t,null)}),t.push(i))}function wbi(i,o){var y=["data-mce-selected"],p=o&&o.dom?o.dom:d.DOM,l=o&&o.schema?o.schema:ae(i);i.entity_encoding=i.entity_encoding||"named";i.remove_trailing_brs=!("remove_trailing_brs"in i)||i.remove_trailing_brs;var s,h=yet(i,l),a=i,v=p;return(s=h).addAttributeFilter("data-mce-tabindex",function(n,t){for(var i,r=n.length;r--;)i=n[r],i.attr("tabindex",i.attr("data-mce-tabindex")),i.attr(t,null)}),s.addAttributeFilter("src,href,style",function(n,t){for(var r,i,u="data-mce-"+t,f=a.url_converter,o=a.url_converter_scope,e=n.length;e--;)r=n[e],i=r.attr(u),void 0!==i?(r.attr(t,0<i.length?i:null),r.attr(u,null)):(i=r.attr(t),"style"===t?i=v.serializeStyle(v.parseStyle(i),r.name):f&&(i=f.call(o,i,t,r.name)),r.attr(t,0<i.length?i:null))}),s.addAttributeFilter("class",function(n){for(var r,t,i=n.length;i--;)t=n[i],t.attr("class")&&(r=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<r.length?r:null))}),s.addAttributeFilter("data-mce-type",function(t,i,r){for(var u,f=t.length;f--;)u=t[f],"bookmark"!==u.attr("data-mce-type")||r.cleanup||(n.from(u.firstChild).exists(function(n){return!ip(n.value)})?u.unwrap():u.remove())}),s.addNodeFilter("noscript",function(n){for(var t,i=n.length;i--;)t=n[i].firstChild,t&&(t.value=ye.decode(t.value))}),s.addNodeFilter("script,style",function(n,t){for(var e,i,r,u=function(n){return n.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},f=n.length;f--;)i=n[f],r=i.firstChild?i.firstChild.value:"","script"===t?((e=i.attr("type"))&&i.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===a.element_format&&0<r.length&&(i.firstChild.value="// <![CDATA[\n"+u(r)+"\n// ]\]>")):"xhtml"===a.element_format&&0<r.length&&(i.firstChild.value="<!--\n"+u(r)+"\n-->")}),s.addNodeFilter("#comment",function(n){for(var t,i=n.length;i--;)t=n[i],a.preserve_cdata&&0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=v.decode(t.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),s.addNodeFilter("xml:namespace,input",function(n,t){for(var i,r=n.length;r--;)i=n[r],7===i.type?i.remove():1===i.type&&("input"!==t||i.attr("type")||i.attr("type","text"))}),s.addAttributeFilter("data-mce-type",function(n){e(n,function(n){"format-caret"===n.attr("data-mce-type")&&(n.isEmpty(s.schema.getNonEmptyElements())?n.remove():n.unwrap())})}),s.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(n,t){for(var i=n.length;i--;)n[i].attr(t,null)}),{schema:l,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:function(n,u){function gt(n){return n&&"br"===n.name}var a,ut,y,ft,et,w,ot,b,st,k,d,g,ht,ct,lt,nt,e,at,vt,v,f,yt,pt,tt,it,wt,bt,kt,rt,s=c({format:"html"},u=void 0===u?{}:u),ni=(a=(g=n,pt=ht=s,(d=o)&&d.hasEventListeners("PreProcess")&&!pt.no_events?(lt=ht,v=(ct=d).dom,f=g.cloneNode(!0),(yt=document.implementation).createHTMLDocument&&(e=yt.createHTMLDocument(""),r.each("BODY"===f.nodeName?f.childNodes:[f],function(n){e.body.appendChild(e.importNode(n,!0))}),f="BODY"!==f.nodeName?e.body.firstChild:e.body,nt=v.doc,v.doc=e),at=ct,vt=c(c({},lt),{node:f}),at.fire("PreProcess",vt),nt&&(v.doc=nt),f):g),y=ve((ut=s).getInner?a.innerHTML:p.getOuterHTML(a)),ut.selection||tp(t.fromDom(a))?y:r.trim(y)),dt=(ft=h,et=ni,ot=(w=s).selection?c({forced_root_block:!1},w):w,b=ft.parse(et,ot),!gt(k=b.lastChild)||gt(st=k.prev)&&(k.remove(),st.remove()),b);return"tree"===s.format?dt:(tt=o,it=s,wt=dt,rt=nl(i,l).serialize(wt),it.no_events||!tt?rt:(bt=tt,kt=c(c({},it),{content:rt}),bt.fire("PostProcess",kt).content))},addRules:l.addValidElements,setRules:l.setValidElements,addTempAttr:u(pbi,h,y),getTempAttrs:f(y),getNodeFilters:h.getNodeFilters,getAttributeFilters:h.getAttributeFilters}}function aii(n,t){var i=wbi(n,t);return{schema:i.schema,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:i.serialize,addRules:i.addRules,setRules:i.setRules,addTempAttr:i.addTempAttr,getTempAttrs:i.getTempAttrs,getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}}function pet(n,t,i){return r=i=void 0===i?{}:i,fet(n).editor.setContent(t,r);var r}function pb(t){return n.from(t).each(function(n){return n.destroy()})}function bbi(n,t){function b(n){return w(h,n)}var i,u,f,e,o,s,h,c=(i=n,u=p(tki,function(n){return w(i,n)}),!1!==(f=i.forced_root_block)&&""!==f||u.push("forced_root_block (false only)"),ig(u)),l=(h=r.makeMap(t.plugins," "),ig(ee(ee([],p(iki,b),!0),sh(rki,function(n){return b(n)?[n+" (moving to premium)"]:[]}),!0))),a=0<l.length,v=0<c.length,y="mobile"===t.theme;(a||v||y)&&(e=y?"\n\nThemes:\n- mobile":"",o=a?"\n\nPlugins:\n- "+l.join("\n- "):"",s=v?"\n\nSettings:\n- "+c.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+e+o+s))}function lv(n){var t=br(n)?n.join(" "):n;return p(ut(ht(t)?t.split(" "):[],lg),function(n){return 0<n.length})}function wb(n,t){return w(n.sections(),t)}function vii(n,t){return at(n,"toolbar_mode").orThunk(function(){return at(n,"toolbar_drawer").map(function(n){return!1===n?"wrap":n})}).getOr(t)}function kbi(n,t,i,f){var s,h,c,e,a,o,v,y,d=lv(i.forced_plugins),w=lv(f.plugins),b=wb(s=t,"mobile")?s.sections().mobile:{},g=b.plugins?lv(b.plugins):w,k=(h=(e=t,a=w,o=g,(c=n)&&(y=(v=e).sections(),wb(v,"mobile")&&"mobile"===y.mobile.theme)?p(o,u(dt,eki)):c&&wb(e,"mobile")?o:a),[].concat(lv(d)).concat(lv(h)));if(l.browser.isIE()&&dt(k,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return r.extend(f,{plugins:k.join(" ")})}function dbi(n,t,i,u,e){var l,a,s,h,v,y,p,w,b=n?{mobile:(l=t,a={resize:!1,toolbar_mode:vii(e.mobile||{},"scrolling"),toolbar_sticky:!1},c(c(c({},uri),a),l?{menubar:!1}:{}))}:{},o=(v=["mobile"],eht(iri(b,e),function(n,t){return dt(v,t)},ug(y={}),ug(p={})),{sections:f((w={t:y,f:p}).t),settings:f(w.f)}),k=r.extend(i,u,o.settings(),n&&wb(o,"mobile")?function(n){void 0===n&&(n={});var t=at(o.sections(),"mobile").getOr({});return r.extend({},n,t)}():{},{validate:!0,external_plugins:(s=u,h=o.settings().external_plugins||{},s&&s.external_plugins?r.extend({},s.external_plugins,h):h)});return kbi(n,o,u,k)}function ps(t,i,r){return n.from(i.settings[r]).filter(t)}function yii(n,t){return t.dom[n]}function pii(n,t){return parseInt(bf(t,n),10)}function wii(n,i,r){var f,u,o,s,e,h,c=t.fromDom(n.getBody()),l=n.inline?c:t.fromDom(vh(c).dom.documentElement),a=(f=n.inline,o=i,s=r,e=(u=l).dom.getBoundingClientRect(),{x:o-(f?e.left+u.dom.clientLeft+cki(u):0),y:s-(f?e.top+u.dom.clientTop+hki(u):0)}),v=a.x,y=a.y,p=oki(h=l),w=ski(h);return 0<=v&&0<=y&&v<=p&&y<=w}function bii(i){function u(){function n(){throw new Error("Theme did not provide a NotificationManager implementation.");}var t=i.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():{open:n,close:n,reposition:n,getArgs:n}}function h(){return n.from(r[0])}function o(){0<r.length&&u().reposition(r)}function l(n){iy(r,function(t){return t===n}).each(function(n){r.splice(n,1)})}function a(f,e){if(void 0===e&&(e=!0),!i.removed&&(a=(s=i).inline?s.getBody():s.getContentAreaContainer(),n.from(a).map(t.fromDom).map(ta).getOr(!1)))return e&&i.fire("BeforeOpenNotification",{notification:f}),gt(r,function(n){return!((t=u().getArgs(n)).type!==f.type||t.text!==f.text||t.progressBar||t.timeout||f.progressBar||f.timeout);var t}).getOrThunk(function(){i.editorManager.setActive(i);var n=u().open(f,function(){l(n);o();h().fold(function(){return i.focus()},function(n){return t.fromDom(n.getEl()).dom.focus()})});return r.push(n),o(),i.fire("OpenNotification",{notification:c({},n)}),n});var s,a}var s,r=[],v=f(r);return(s=i).on("SkinLoaded",function(){var n=s.getParam("service_message");n&&a({text:n,type:"warning",timeout:0},!1);o()}),s.on("show ResizeEditor ResizeWindow NodeChange",function(){ui.requestAnimationFrame(o)}),s.on("remove",function(){e(r.slice(),function(n){u().close(n)})}),{open:a,close:function(){h().each(function(n){u().close(n);l(n);o()})},getNotifications:v}}function fri(t){function i(){function n(){throw new Error("Theme did not provide a WindowManager implementation.");}var i=t.theme;return i&&i.getWindowManagerImpl?i.getWindowManagerImpl():{open:n,openUrl:n,alert:n,confirm:n,close:n,getParams:n,setParams:n}}function f(n,t){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t)return t.apply(n,r)}}function u(n){t.fire("CloseWindow",{dialog:n});0===(r=p(r,function(t){return t!==n})).length&&t.focus()}function o(n){t.editorManager.setActive(t);bw(t);var i,u=n();return i=u,r.push(i),t.fire("OpenWindow",{dialog:i}),u}var r=[];return t.on("remove",function(){e(r,function(n){i().close(n)})}),{open:function(n,t){return o(function(){return i().open(n,t,u)})},openUrl:function(n){return o(function(){return i().openUrl(n,u)})},alert:function(n,t,r){var u=i();u.alert(n,f(r||u,t))},confirm:function(n,t,r){var u=i();u.confirm(n,f(r||u,t))},close:function(){n.from(r[r.length-1]).each(function(n){i().close(n);u(n)})}}}function eri(n,t){n.notificationManager.open({type:"error",text:t})}function gb(n,t){n._skinLoaded?eri(n,t):n.on("SkinLoaded",function(){eri(n,t)})}function bet(n,t,i){kbt(n,t,{message:i});console.error(i)}function ket(n,t,i){return i?"Failed to load "+n+": "+i+" from url "+t:"Failed to load "+n+" url: "+t}function det(n,t,i){bet(n,"PluginLoadError",ket("plugin",t,i))}function lki(n){var i,t;n.contentCSS=n.contentCSS.concat(kui(n,(t=(i=n).getParam("content_css"),ht(t)?ut(t.split(","),lg):br(t)?t:!1===t||i.inline?[]:["default"])),kui(n,hpt(n)))}function ori(){function i(n,t){return{status:n,resultUri:t}}function t(t){return t in n}var n={};return{hasBlobUri:t,getResultUri:function(t){var i=n[t];return i?i.resultUri:null},isPending:function(i){return!!t(i)&&1===n[i].status},isUploaded:function(i){return!!t(i)&&2===n[i].status},markPending:function(t){n[t]=i(1,null)},markUploaded:function(t,r){n[t]=i(2,r)},removeFailed:function(t){delete n[t]},destroy:function(){n={}}}}function sri(n){function t(){return Math.round(4294967295*Math.random()).toString(36)}return n+vdi+++("s"+(new Date).getTime().toString(36)+t()+t()+t())}function aki(){function t(t){return gt(n,t).getOrUndefined()}function i(n){if(!n.blob||!n.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var i=n.id||sri("blobid"),r=n.name||i,t=n.blob;return{id:f(i),name:f(r),filename:f(n.filename||r+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[t.type.toLowerCase()]||"dat")),blob:f(t),base64:f(n.base64),blobUri:f(n.blobUri||URL.createObjectURL(t)),uri:f(n.uri)}}function r(n){return t(function(t){return t.id()===n})}var n=[];return{create:function(n,t,r,u,f){if(ht(n))return i({id:n,name:u,filename:f,blob:t,base64:r});if(eh(n))return i(n);throw new Error("Unknown input type");},add:function(t){r(t.id())||n.push(t)},get:r,getByUri:function(n){return t(function(t){return t.blobUri()===n})},getByData:function(n,i){return t(function(t){return t.base64()===n&&t.blob().type===i})},findFirst:t,removeByUri:function(t){n=p(n,function(n){return n.blobUri()!==t||void URL.revokeObjectURL(n.blobUri())})},destroy:function(){e(n,function(n){URL.revokeObjectURL(n.blobUri())});n=[]}}}function vki(t,i){function e(n,t,r,u){var f=new XMLHttpRequest,e;f.open("POST",i.url);f.withCredentials=i.credentials;f.upload.onprogress=function(n){u(n.loaded/n.total*100)};f.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+f.status)};f.onload=function(){var n,u,e;f.status<200||300<=f.status?r("HTTP Error: "+f.status):(n=JSON.parse(f.responseText))&&"string"==typeof n.location?t((u=i.basePath,e=n.location,u?u.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e)):r("Invalid JSON: "+f.responseText)};e=new FormData;e.append("file",n.blob(),n.filename());f.send(e)}function o(n,t){return{url:t,blobInfo:n,status:!0}}function f(n,t,i){return{url:"",blobInfo:n,status:!1,error:{message:t,options:i}}}function s(n,t){r.each(u[n],function(n){n(t)});delete u[n]}var u={};return!1===ft(i.handler)&&(i.handler=e),{upload:function(h,c){return i.url||i.handler!==e?(l=h,a=c,l=r.grep(h,function(n){return!t.isUploaded(n.blobUri())}),ri.all(r.map(l,function(r){return t.isPending(r.blobUri())?(h=r.blobUri(),new ri(function(n){u[h]=u[h]||[];u[h].push(n)})):(e=r,c=i.handler,l=a,t.markPending(e.blobUri()),new ri(function(i){var r,u;try{u=function(){r&&r.close()};c(e,function(n){u();t.markUploaded(e.blobUri(),n);s(e.blobUri(),o(e,n));i(o(e,n))},function(n,r){var o=r||{};u();t.removeFailed(e.blobUri());s(e.blobUri(),f(e,n,o));i(f(e,n,o))},function(t){t<0||100<t||n.from(r).orThunk(function(){return n.from(l).map(khi)}).each(function(n){(r=n).progressBar.value(t)})})}catch(h){i(f(e,h.message,{}))}}));var e,c,l,h}))):new ri(function(n){n([])});var l,a}}}function hri(n){return function(){return n.notificationManager.open({text:n.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function cri(n,t){return vki(t,{url:n.getParam("images_upload_url","","string"),basePath:n.getParam("images_upload_base_path","","string"),credentials:n.getParam("images_upload_credentials",!1,"boolean"),handler:n.getParam("images_upload_handler",null,"function")})}function yki(n){function f(t){return function(i){return n.selection?t(i):[]}}function v(n,t,i){for(var r=0;-1!==(r=n.indexOf(t,r))&&(n=n.substring(0,r)+i+n.substr(r+t.length),r+=i.length-t.length+1),-1!==r;);return n}function y(n,t,i){return n=v(n,'src="'+t+'"','src="'+i+'"'+(i===l.transparentSrc?' data-mce-placeholder="1"':"")),v(n,'data-mce-src="'+t+'"','data-mce-src="'+i+'"')}function o(t,i){e(n.undoManager.data,function(n){"fragmented"===n.type?n.fragments=ut(n.fragments,function(n){return y(n,t,i)}):n.content=y(n.content,t,i)})}function w(u){return r=r||cri(n,i),a().then(f(function(i){var s=ut(i,function(n){return n.blobInfo});return r.upload(s,hri(n)).then(f(function(r){var f=[],s=ut(r,function(r,u){var c,h,e,a,v=i[u].blobInfo,s=i[u].image;return r.status&&n.getParam("images_replace_blob_uris",!0,"boolean")?(t.removeByUri(s.src),te(n)||(h=s,e=r.url,a=n.convertURL(e,"src"),o(h.src,e),n.$(h).attr({src:n.getParam("images_reuse_filename",!1,"boolean")?e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime():e,"data-mce-src":a}))):r.error&&(r.error.options.remove&&(o(s.getAttribute("src"),l.transparentSrc),f.push(s)),c=r.error.message,gb(n,lu.translate(["Failed to upload image: {0}",c]))),{element:s,status:r.status,uploadUri:r.url,blobInfo:v}});return 0<s.length&&nt.fireIfChanged(),0<f.length&&(te(n)?console.error("Removing images on failed uploads is currently unsupported for RTC"):n.undoManager.transact(function(){e(f,function(i){n.dom.remove(i);t.removeByUri(i.src)})})),u&&u(s),s}))}))}function b(t){if(upt(n))return w(t)}function g(t){return!1!==vl(d,function(n){return n(t)})&&(0!==t.getAttribute("src").indexOf("data:")||n.getParam("images_dataimg_filter",lt,"function")(t))}function k(r){return r.replace(/src="(blob:[^"]+)"/g,function(r,u){var e=i.getResultUri(u),f;return e?'src="'+e+'"':(f=(f=t.getByUri(u))||fu(n.editorManager.get(),function(n,t){return n||t.editorUpload&&t.editorUpload.blobCache.getByUri(u)},null),f?'src="data:'+f.blob().type+";base64,"+f.base64()+'"':r)})}var r,s,u,h,t=aki(),i=ori(),d=[],nt=(h=hi(null),(u=n).on("change AddUndo",function(n){h.set(c({},n.level))}),{fireIfChanged:function(){var n=u.undoManager.data;yo(n).filter(function(n){return!ab(h.get(),n)}).each(function(t){u.setDirty(!0);u.fire("change",{level:t,lastLevel:rg(n,n.length-2).getOrNull()})})}}),a=function(){return(s=s||vbi(i,t)).findAll(n.getBody(),g).then(f(function(t){return t=p(t,function(t){return"string"!=typeof t||void gb(n,t)}),te(n)||e(t,function(n){o(n.image.src,n.blobInfo.blobUri());n.image.src=n.blobInfo.blobUri();n.image.removeAttribute("data-mce-src")}),t}))};return n.on("SetContent",function(){(upt(n)?b:a)()}),n.on("RawSaveContent",function(n){n.content=k(n.content)}),n.on("GetContent",function(n){n.source_view||"raw"===n.format||"tree"===n.format||(n.content=k(n.content))}),n.on("PostRender",function(){n.parser.addNodeFilter("img",function(n){e(n,function(n){var r,u=n.attr("src");t.getByUri(u)||(r=i.getResultUri(u))&&n.attr("src",r)})})}),{blobCache:t,addFilter:function(n){d.push(n)},uploadImages:w,uploadImagesAuto:b,scanForImages:a,destroy:function(){t.destroy();i.destroy();s=r=null}}}function lri(n,t){function u(n){i="string"==typeof n?{name:n,classes:[],attrs:{}}:n;var t,r=li.create(i.name),u=r;return(t=i).classes.length&&li.addClass(u,t.classes.join(" ")),li.setAttribs(u,t.attrs),r}var f,i,e,s=t&&t.schema||ae({}),o=function(n,t,i){var e,f,l,h,y,p,c,a=0<t.length&&t[0],w=a&&a.name,v=(h=w,y="string"!=typeof(l=n)?l.nodeName.toLowerCase():l,!(!(c=(p=s.getElementRule(y))&&p.parentsRequired)||!c.length)&&(h&&-1!==r.inArray(c,h)?h:c[0]));if(v)w===v?(f=t[0],t=t.slice(1)):f=v;else if(a)f=t[0],t=t.slice(1);else if(!i)return n;return f&&(e=u(f)).appendChild(n),i&&(e||(e=li.create("div")).appendChild(n),r.each(i,function(t){var i=u(t);e.insertBefore(i,n)})),o(e,t,f&&f.siblings)};return n&&n.length?(f=u(i=n[0]),(e=li.create("div")).appendChild(o(f,n.slice(1),i.siblings)),e):""}function pki(n){var i,t={classes:[],attrs:{}};return"*"!==(n=t.selector=r.trim(n))&&(i=n.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(n,i,u,f,e){switch(i){case"#":t.attrs.id=u;break;case".":t.classes.push(u);break;case":":-1!==r.inArray("checked disabled enabled read-only required".split(" "),u)&&(t.attrs[u]=u)}var o;return"["!==f||(o=e.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(t.attrs[o[1]]=o[2]),""})),t.name=i||"div",t}function wki(n,t){function a(n){return n.replace(/%(\w+)/g,"")}var i,c,l="",o=(c=n.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),ht(c)?c:""),v;if(""===o)return"";if("string"==typeof t){if(!(t=n.formatter.get(t)))return;t=t[0]}if("preview"in t){if(v=at(t,"preview"),ay(v,!1))return"";o=v.getOr(o)}var u,s=t.block||t.inline||"span",h=(u=t.selector)&&"string"==typeof u?(u=(u=u.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),r.map(u.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var t=r.map(n.split(/(?:~\+|~|\+)/),pki),i=t.pop();return t.length&&(i.siblings=t),i}).reverse()):[],f=h.length?(h[0].name||(h[0].name=s),s=t.selector,lri(h,n)):lri([s],n),e=li.select(s,f)[0]||f.firstChild;return hk(t.styles,function(n,t){var i=a(n);i&&li.setStyle(e,t,i)}),hk(t.attributes,function(n,t){var i=a(n);i&&li.setAttrib(e,t,i)}),hk(t.classes,function(n){var t=a(n);li.hasClass(e,t)||li.addClass(e,t)}),n.fire("PreviewFormats"),li.setStyles(f,{position:"absolute",left:-65535}),n.getBody().appendChild(f),i=li.getStyle(n.getBody(),"fontSize",!0),i=/px$/.test(i)?parseInt(i,10):0,hk(o.split(" "),function(t){var r=li.getStyle(e,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(r)&&(r=li.getStyle(n.getBody(),t,!0),"#ffffff"===li.toHex(r).toLowerCase())||"color"===t&&"#000000"===li.toHex(r).toLowerCase())){if("font-size"===t&&/em|%$/.test(r)){if(0===i)return;r=parseFloat(r)/(/%$/.test(r)?100:1)*i+"px"}"border"===t&&r&&(l+="padding:0 2px;");l+=t+":"+r+";"}}),n.fire("AfterPreviewFormats"),li.remove(f),l}function ari(n){var s,c,o,t,i,l,f=(t={},(i=function(n,r){n&&(ht(n)?(e(r=br(r)?r:[r],function(n){tr(n.deep)&&(n.deep=!ur(n));tr(n.split)&&(n.split=!ur(n)||kt(n));tr(n.remove)&&ur(n)&&!kt(n)&&(n.remove="none");ur(n)&&kt(n)&&(n.mixed=!0,n.block_expand=!0);ht(n.classes)&&(n.classes=n.classes.split(/\s+/))}),t[n]=r):et(n,function(n,t){i(t,n)}))})((c=(s=n).dom,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(n){return h(n)&&n.hasAttribute("href")},onformat:function(n,t,i){r.each(i,function(t,i){c.setAttrib(n,i,t)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(n){var t;return null!==(t=null==n?void 0:n.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},r.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(n){o[n]={block:n,remove:"all"}}),o)),i(s.getParam("formats")),{get:function(n){return g(n)?t[n]:t},has:function(n){return w(t,n)},register:i,unregister:function(n){return n&&t[n]&&delete t[n],t}}),a=hi(null);return function(n){n.addShortcut("meta+b","","Bold");n.addShortcut("meta+i","","Italic");n.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)n.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);n.addShortcut("access+7","",["FormatBlock",!1,"p"]);n.addShortcut("access+8","",["FormatBlock",!1,"div"]);n.addShortcut("access+9","",["FormatBlock",!1,"address"])}(n),(l=n).on("mouseup keydown",function(n){var t=l,i=n.keyCode,r=t.selection,u=t.getBody();hft(t,null,!1);8!==i&&46!==i||!r.isCollapsed()||r.getStart().innerHTML!==rl||hft(t,ls(u,r.getStart()));37!==i&&39!==i||hft(t,ls(u,r.getStart()))}),{get:f.get,has:f.has,register:f.register,unregister:f.unregister,apply:function(t,i,r){var u=t,f=i,e=r;ct(n).formatter.apply(u,f,e)},remove:function(t,i,r,u){var f=t,e=i,o=r,s=u;ct(n).formatter.remove(f,e,o,s)},toggle:function(t,i,r){var u=t,f=i,e=r;ct(n).formatter.toggle(u,f,e)},match:function(t,i,r,u){return f=t,e=i,o=r,s=u,ct(n).formatter.match(f,e,o,s);var f,e,o,s},closest:function(t){return i=t,ct(n).formatter.closest(i);var i},matchAll:function(t,i){return r=t,u=i,ct(n).formatter.matchAll(r,u);var r,u},matchNode:function(t,i,r,u){return f=t,e=i,o=r,s=u,ct(n).formatter.matchNode(f,e,o,s);var f,e,o,s},canApply:function(t){return i=t,ct(n).formatter.canApply(i);var i},formatChanged:function(t,i,r,u){return f=a,e=t,o=i,s=r,h=u,ct(n).formatter.formatChanged(f,e,o,s,h);var f,e,o,s,h},getCssText:u(wki,n)}}function vri(n){switch(n.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function yri(n){function f(n){vb(i,!1,o);i.add({},n)}var h,t,i,o,s,c=oc(),e=hi(0),u=hi(0),r={data:[],typing:!1,beforeChange:function(){var t=e,i=c;ct(n).undoManager.beforeChange(t,i)},add:function(t,i){return f=r,o=u,s=e,h=c,l=t,a=i,ct(n).undoManager.add(f,o,s,h,l,a);var f,o,s,h,l,a},undo:function(){return t=r,i=e,f=u,ct(n).undoManager.undo(t,i,f);var t,i,f},redo:function(){return t=u,i=r.data,ct(n).undoManager.redo(t,i);var t,i},clear:function(){var t=r,i=u;ct(n).undoManager.clear(t,i)},reset:function(){var t=r;ct(n).undoManager.reset(t)},hasUndo:function(){return t=r,i=u,ct(n).undoManager.hasUndo(t,i);var t,i},hasRedo:function(){return t=r,i=u,ct(n).undoManager.hasRedo(t,i);var t,i},transact:function(t){return i=r,u=e,f=t,ct(n).undoManager.transact(i,u,f);var i,u,f},ignore:function(t){var i=e,r=t;ct(n).undoManager.ignore(i,r)},extra:function(t,i){var f=r,e=u,o=t,s=i;ct(n).undoManager.extra(f,e,o,s)}};return te(n)||(i=r,o=e,s=hi(!1),(t=n).on("init",function(){i.add()}),t.on("BeforeExecCommand",function(n){vri(n.command)||(gti(i,o),i.beforeChange())}),t.on("ExecCommand",function(n){vri(n.command)||f(n)}),t.on("ObjectResizeStart cut",function(){i.beforeChange()}),t.on("SaveContent ObjectResized blur",f),t.on("dragend",f),t.on("keyup",function(n){var r=n.keyCode;n.isDefaultPrevented()||((33<=r&&r<=36||37<=r&&r<=40||45===r||n.ctrlKey)&&(f(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),s.get()&&i.typing&&!1===ab(tet(t),i.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:i.data[0],lastLevel:null})),t.fire("TypingUndo"),s.set(!1),t.nodeChanged()))}),t.on("keydown",function(n){var r,t=n.keyCode;n.isDefaultPrevented()||(33<=t&&t<=36||37<=t&&t<=40||45===t?i.typing&&f(n):(r=n.ctrlKey&&!n.altKey||n.metaKey,!(t<16||20<t)||224===t||91===t||i.typing||r||(i.beforeChange(),vb(i,!0,o),i.add({},n),s.set(!0))))}),t.on("mousedown",function(n){i.typing&&f(n)}),t.on("input",function(n){n.inputType&&("insertReplacementText"===n.inputType||"insertText"===n.inputType&&null===n.data||"insertFromPaste"===n.inputType||"insertFromDrop"===n.inputType)&&f(n)}),t.on("AddUndo Undo Redo ClearUndos",function(n){n.isDefaultPrevented()||t.nodeChanged()})),(h=n).addShortcut("meta+z","","Undo"),h.addShortcut("meta+y,meta+shift+z","","Redo"),r}function pri(n){return"keydown"===n.type||"keyup"===n.type}function wri(n){var t=n.keyCode;return t===s.BACKSPACE||t===s.DELETE}function ws(n,i){return ah(t.fromDom(i),n.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function ho(t,i,r){var u,f,e=(u=t,f=i,p(d.DOM.getParents(r.container(),"*",f),u));return n.from(e[e.length-1])}function yr(n,t){if(!t)return t;var r=t.container(),u=t.offset();return n?dh(r)?o(r.nextSibling)?i(r.nextSibling,0):i.after(r):cn(t)?i(r,u+1):t:dh(r)?o(r.previousSibling)?i(r.previousSibling,r.previousSibling.data.length):i.before(r):ln(t)?i(r,u-1):t}function bki(n){return lat(n)||fa(n)}function nk(i,r){return oe(i,r)?py(r,bki,(u=i,function(n){return nt(u,t.fromDom(n.dom.parentNode))})):n.none();var u}function bri(n){var i,t,r;n.dom.isEmpty(n.getBody())&&(n.setContent(""),r=(t=(i=n).getBody()).firstChild&&i.dom.isBlock(t.firstChild)?t.firstChild:t,i.selection.setCursorLocation(r,0))}function kki(n,t){return{from:n,to:t}}function get(n,i){return nk(t.fromDom(n),t.fromDom(i.container())).map(function(n){return{block:n,position:i}})}function kri(n){var t,i=iy(t=nu(n),tf).fold(f(t),function(n){return t.slice(0,n)});return e(i,ni),i}function dri(n,t){return gt(ne(t,n).reverse(),function(n){return pt(n)}).each(ni)}function dki(n,r,u,f){if(pt(u))return vs(u),wi(u.dom);0===p(lct(f),function(n){return!pt(n)}).length&&pt(r)&&ou(f,t.fromTag("br"));var o=lf(u.dom,i.before(f.dom));return e(kri(r),function(n){ou(f,n)}),dri(n,r),o}function gki(n,t,i){if(pt(i))return ni(i),pt(t)&&vs(t),wi(t.dom);var r=af(i.dom);return e(kri(t),function(n){ii(i,n)}),dri(n,t),r}function gri(n,i){vc(n,i.dom).map(function(n){return n.getNode()}).map(t.fromDom).filter(bh).each(ni)}function nui(t,i,r){return gri(!0,i),gri(!1,r),(oe(o=r,e=i)?(f=ne(e,o),n.from(f[f.length-1])):n.none()).fold(u(gki,t,i,r),u(dki,t,i,r));var e,o,f}function tui(n,t,i,r){return t?nui(n,r,i):nui(n,i,r)}function tk(r,u){var s,h,c,f,e,o,l,a=t.fromDom(r.getBody()),v=(s=a.dom,h=u,((c=r.selection.getRng()).collapsed?(e=h,o=get(f=s,i.fromRangeStart(c)),l=o.bind(function(t){return vr(e,f,t.position).bind(function(t){return get(f,t).map(function(t){return r=f,u=e,st((i=t).position.getNode())&&!1===pt(i.block)?vc(!1,i.block.dom).bind(function(t){return t.isEqual(i.position)?vr(u,r,t).bind(function(n){return get(r,n)}):n.some(i)}).getOr(i):i;var r,u,i})})}),di(o,l,kki).filter(function(n){return!1===nt(n.from.block,n.to.block)&&eu((i=n).from.block).bind(function(n){return eu(i.to.block).filter(function(t){return nt(n,t)})}).isSome()&&!1===rt((t=n).from.block.dom)&&!1===rt(t.to.block.dom);var t,i})):n.none()).bind(function(n){return tui(a,u,n.from.block,n.to.block)}));return v.each(function(n){r.selection.setRng(n.toRange())}),v.isSome()}function iui(n,i){var r=t.fromDom(i),f=u(nt,n);return ua(r,np,f).isSome()}function ndi(n){var r,e,u,s,o,f,h,c,l,a,v=t.fromDom(n.getBody()),y=n.selection.getRng();return f=y,l=lf((o=v).dom,i.fromRangeStart(f)).isNone(),a=yu(o.dom,i.fromRangeEnd(f)).isNone(),!iui(h=o,(c=f).startContainer)&&!iui(h,c.endContainer)&&l&&a?((s=n).setContent(""),s.selection.setCursorLocation(),!0):(r=v,e=n.selection,u=e.getRng(),di(nk(r,t.fromDom(u.startContainer)),nk(r,t.fromDom(u.endContainer)),function(n,t){return!1===nt(n,t)&&(u.deleteContents(),tui(r,!0,n,t).each(function(n){e.setRng(n.toRange())}),!0)}).getOr(!1))}function ik(n){return!n.selection.isCollapsed()&&ndi(n)}function ie(t,i,r,u,f){return n.from(i._selectionOverrides.showCaret(t,r,u,f))}function el(t,i){var r,u;return t.fire("BeforeObjectSelected",{target:i}).isDefaultPrevented()?n.none():n.some(((u=(r=i).ownerDocument.createRange()).selectNode(r),u))}function rui(t,r,u){var h=cit(1,t.getBody(),r),f=i.fromRangeStart(h),s=f.getNode(),e,o;return da(s)?ie(1,t,s,!f.isAtEnd(),!1):(e=f.getNode(!0),da(e))?ie(1,t,e,!1,!1):(o=t.dom.getParent(f.getNode(),function(n){return bdi(n)||wdi(n)}),da(o)?ie(1,t,o,!1,u):n.none())}function not(n,t,i){return t.collapsed?rui(n,t,i).getOr(t):t}function tdi(n){return eo(n)||tl(n)}function idi(n){return oo(n)||il(n)}function uui(n,t,i,r,u,f){var s,e;return ie(r,n,f.getNode(!u),u,!0).each(function(i){var r;t.collapsed?(r=t.cloneRange(),u?r.setEnd(i.startContainer,i.startOffset):r.setStart(i.endContainer,i.endOffset),r.deleteContents()):t.deleteContents();n.selection.setRng(i)}),s=n.dom,o(e=i)&&0===e.data.length&&s.remove(e),!0}function rk(n,t){var f=n.selection.getRng(),r;if(!o(f.commonAncestorContainer))return!1;var s=t?bt.Forwards:bt.Backwards,h=vu(n.getBody()),c=u(lit,t?h.next:h.prev),l=t?tdi:idi,e=ka(s,n.getBody(),f),i=yr(t,c(e));return!i||!iw(e,i)?!1:l(i)?uui(n,f,e.getNode(),s,t,i):(r=c(i),!!(r&&l(r)&&iw(i,r))&&uui(n,f,e.getNode(),s,t,r))}function fui(i,r,u){return vr(r,i,u).bind(function(f){function y(n){return hn(t.fromDom(n))&&!ef(v,o,l)}return s=f.getNode(),np(t.fromDom(s))||fa(t.fromDom(s))||(l=i,o=f,gpt(!(a=r),v=u).fold(function(){return gpt(a,o).fold(it,y)},y))?n.none():r&&rt(f.getNode())||!1===r&&rt(f.getNode(!0))?(h=i,c=u,e=f.getNode(!1===r),nk(t.fromDom(h),t.fromDom(c.getNode())).map(function(n){return pt(n)?pr.remove(n.dom):pr.moveToElement(e)}).orThunk(function(){return n.some(pr.moveToElement(e))})):r&&oo(u)||!1===r&&eo(u)?n.some(pr.moveToPosition(f)):n.none();var h,c,e,l,a,v,o,s})}function eui(t,i){return n.from(gc(t.getBody(),i))}function rdi(r,u){var f=r.selection.getNode();return eui(r,f).filter(rt).fold(function(){return v=r.getBody(),k=cit((e=u)?1:-1,v,r.selection.getRng()),f=i.fromRangeStart(k),l=t.fromDom(v),(!1===e&&oo(f)?n.some(pr.remove(f.getNode(!0))):e&&eo(f)?n.some(pr.remove(f.getNode())):!1===e&&eo(f)&&lut(l,f)?gwi(l,f).map(function(n){return pr.remove(n.getNode())}):e&&oo(f)&&cut(l,f)?nbi(l,f).map(function(n){return pr.remove(n.getNode())}):(a=v,o=e,p=(s=f).getNode(!1===(w=o)),b=w?"after":"before",h(p)&&p.getAttribute("data-mce-caret")===b?(c=s.getNode(!1===(y=o)),(y&&rt(c.nextSibling)?n.some(pr.moveToElement(c.nextSibling)):!1===y&&rt(c.previousSibling)?n.some(pr.moveToElement(c.previousSibling)):n.none()).fold(function(){return fui(a,o,s)},n.some)):fui(a,o,s).bind(function(t){return i=a,r=s,t.fold(function(t){return n.some(pr.remove(t))},function(t){return n.some(pr.moveToElement(t))},function(t){return ef(r,t,i)?n.none():n.some(pr.moveToPosition(t))});var i,r}))).exists(function(n){return n.fold(function(n){return f._selectionOverrides.hideFakeCaret(),ys(f,h,t.fromDom(n)),!0},(s=h=u,function(n){var t=s?i.before(n):i.after(n);return o.selection.setRng(t.toRange()),!0}),(e=o=f=r,function(n){return e.selection.setRng(n.toRange()),!0}));var e,o,s,f,h});var a,o,s,y,c,w,p,b,v,e,k,f,l},lt)}function udi(n,i){var r=n.selection.getNode();return!(!rt(r)||yy(r))&&eui(n,r.parentNode).filter(rt).fold(function(){return e(gi(t.fromDom(n.getBody()),".mce-offscreen-selection"),ni),ys(n,i,t.fromDom(n.selection.getNode())),bri(n),!0},lt)}function oui(n){var u,r=n.dom,f=n.selection,t=gc(n.getBody(),f.getNode());return gu(t)&&r.isBlock(t)&&r.isEmpty(t)&&(u=r.create("br",{"data-mce-bogus":"1"}),r.setHTML(t,""),t.appendChild(u),f.setRng(i.before(u).toRange())),!0}function uk(n,t){return(n.selection.isCollapsed()?rdi:udi)(n,t)}function fk(t,r){return!!t.selection.isCollapsed()&&(u=t,f=r,e=i.fromRangeStart(u.selection.getRng()),vr(f,u.getBody(),e).filter(function(n){return(f?wwi:bwi)(n)}).bind(function(t){return n.from(hit(f?0:-1,t))}).exists(function(n){return u.selection.select(n),!0}));var u,f,e}function sui(n){return ol(n)&&n.data[0]===fi}function hui(n){return ol(n)&&n.data[n.data.length-1]===fi}function cui(n){return n.ownerDocument.createTextNode(fi)}function ek(n,t){return(n?function(n){if(ol(n.previousSibling))return hui(n.previousSibling)||n.previousSibling.appendData(fi),n.previousSibling;if(ol(n))return sui(n)||n.insertData(0,fi),n;var t=cui(n);return n.parentNode.insertBefore(t,n),t}:function(n){if(ol(n.nextSibling))return sui(n.nextSibling)||n.nextSibling.insertData(0,fi),n.nextSibling;if(ol(n))return hui(n)||n.appendData(fi),n;var t=cui(n);return n.nextSibling?n.parentNode.insertBefore(t,n.nextSibling):n.parentNode.appendChild(t),t})(t)}function lui(n,t){return o(n.container())?ek(t,n.container()):ek(t,n.getNode())}function aui(n,t){var i=t.get();return i&&n.container()===i&&dh(i)}function tot(t,r){return r.fold(function(r){cs(t.get());var u=kdi(r);return t.set(u),n.some(i(u,u.length-1))},function(n){return wi(n).map(function(n){if(aui(n,t))return i(t.get(),1);cs(t.get());var r=lui(n,!0);return t.set(r),i(r,1)})},function(n){return af(n).map(function(n){if(aui(n,t))return i(t.get(),t.get().length-1);cs(t.get());var r=lui(n,!1);return t.set(r),i(r,r.length-1)})},function(r){cs(t.get());var u=ddi(r);return t.set(u),n.some(i(u,1))})}function vui(t,i){for(var u,r=0;r<t.length;r++)if(u=t[r].apply(null,i),u.isSome())return u;return n.none()}function yui(n,t){return ro(t,n)||n}function fdi(t,i,r){var f=gui(r),e=yui(i,f.container());return ho(t,e,f).fold(function(){return yu(e,f).bind(u(ho,t,e)).map(function(n){return ai.before(n)})},n.none)}function edi(n,t){return null===ls(n,t)}function pui(n,t,i){return ho(n,t,i).filter(u(edi,t))}function odi(t,i,r){var u=nfi(r);return pui(t,i,u).bind(function(t){return lf(t,u).isNone()?n.some(ai.start(t)):n.none()})}function sdi(t,i,r){var u=gui(r);return pui(t,i,u).bind(function(t){return yu(t,u).isNone()?n.some(ai.end(t)):n.none()})}function hdi(t,i,r){var f=nfi(r),e=yui(i,f.container());return ho(t,e,f).fold(function(){return lf(e,f).bind(u(ho,t,e)).map(function(n){return ai.after(n)})},n.none)}function wui(n){return!1===(t=uot(n),"rtl"===d.DOM.getStyle(t,"direction",!0)||(i=t.textContent,pdi.test(i)));var t,i}function yf(n,t,i){return vui([fdi,odi,sdi,hdi],[n,t,i]).filter(wui)}function bui(n){return n.fold(f("before"),f("start"),f("end"),f("after"))}function ok(n){return n.fold(ai.before,ai.before,ai.after,ai.after)}function iot(n){return n.fold(ai.start,ai.start,ai.end,ai.end)}function cdi(n,t,i,r,u,f){return di(ho(t,i,r),ho(t,i,u),function(t,r){return t!==r&&(o=r,u=ro(t,e=i),s=ro(o,e),u&&u===s)?ai.after(n?t:r):f;var e,o,u,s}).getOr(f)}function ldi(n,t){return n.fold(lt,function(n){return i=t,!(bui(r=n)===bui(i)&&uot(r)===uot(i));var r,i})}function adi(t,i){return t?i.fold(vo(n.some,ai.start),n.none,vo(n.some,ai.after),n.none):i.fold(n.none,vo(n.some,ai.before),n.none,vo(n.some,ai.end))}function rot(n,t,i,r){var f=yr(n,r),e=yf(t,i,f);return yf(t,i,f).bind(u(adi,n)).orThunk(function(){return s=t,o=i,h=e,c=yr(f=n,r),vr(f,o,c).map(u(yr,f)).fold(function(){return h.map(ok)},function(n){return yf(s,o,n).map(u(cdi,f,s,o,c,n)).filter(u(ldi,h))}).filter(wui);var f,s,o,h,c})}function sk(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];i=window.console;i&&(i.error||i.log).apply(i,ee([n],r,!1))}function tfi(n,t,r){var u=n?1:-1;return t.setRng(i(r.container(),r.offset()+u).toRange()),t.getSel().modify("move",n?"forward":"backward","word"),!0}function ck(n,t){return n===bt.Backwards?ry(t):t}function ifi(t,i,r,u){for(var f,a,c,l,s,h,v=vu(r),e=u,o=[];e;){if(f=(s=v,h=e,i===bt.Forwards?s.next(h):s.prev(h)),!f)break;if(st(f.getNode(!1)))return i===bt.Forwards?{positions:ck(i,o).concat([f]),breakType:re.Br,breakAt:n.some(f)}:{positions:ck(i,o),breakType:re.Br,breakAt:n.some(f)};if(f.isVisible()){if(t(e,f))return a=(c=e,st((l=f).getNode(i===bt.Forwards))?re.Br:!1===ef(c,l)?re.Block:re.Wrap),{positions:ck(i,o),breakType:a,breakAt:n.some(f)};o.push(f);e=f}else e=f}return{positions:ck(i,o),breakType:re.Eol,breakAt:n.none()}}function rfi(n,t,i,r){return t(i,r).breakAt.map(function(r){var u=t(i,r).positions;return n===bt.Backwards?u.concat(r):[r].concat(u)}).getOr([])}function fot(t,i){return fu(t,function(t,r){return t.fold(function(){return n.some(r)},function(n){return di(or(n.getClientRects()),or(r.getClientRects()),function(t,u){var f=Math.abs(i-t.left);return Math.abs(i-u.left)<=f?r:n}).or(t)})},n.none())}function ufi(n,t){return or(t.getClientRects()).bind(function(t){return fot(n,t.left)})}function gdi(n){function i(t){return ut(t,function(t){var i=os(t);return i.node=n,i})}if(h(n))return i(n.getClientRects());if(o(n)){var t=n.ownerDocument.createRange();return t.setStart(n,0),t.setEnd(n,n.data.length),i(t.getClientRects())}}function eot(n){return sh(n,gdi)}function ffi(n,t,i,r,u,f){function s(r){var o=eot([r]),s,f;for(-1===n&&(o=o.reverse()),s=0;s<o.length;s++)if(f=o[s],!i(f,c)){if(0<e.length&&t(f,po(e))&&h++,f.line=h,u(f))return!0;e.push(f)}}var h=0,e=[],c=po(f.getClientRects()),o;return c?(o=f.getNode(),s(o),function(n,t,i,r){for(;r=ac(r,n,ky,t);)if(i(r))return}(n,r,s,o),e):e}function efi(n){return function(t){return t.line>n}}function oot(n){return function(t){return t.line===n}}function sot(n,t){return Math.abs(n.left-t)}function hot(n,t){return Math.abs(n.right-t)}function ofi(n,t){return n>=t.left&&n<=t.right}function igi(n,t){return n>=t.top&&n<=t.bottom}function ak(n,t,i){return void 0===i&&(i=lt),uy(n,function(n,r){if(ofi(t,r))return i(r)?r:n;if(ofi(t,n))return i(n)?n:r;var u=Math.min(sot(n,t),hot(n,t)),f=Math.min(sot(r,t),hot(r,t));return f===u&&hh(r,"node")&&uni(r.node)||f<u?r:n})}function sfi(n,t,i,r,u){var f=woi(r,n,ky,t,!u);do if(!f||i(f))return;while(f=woi(f,n,ky,t))}function rgi(n,t,i){function f(n){return!yh(n.node)&&!tu(n.node)}var e,o,r,s=eot(p(bu(n.getElementsByTagName("*")),hs)),h=p(s,u(igi,i));return(r=ak(h,t,f))&&(r=ak(function(n,t,i){function f(n,i){var u=p(eot([i]),function(i){return!n(i,t)});return r=r.concat(u),0===u.length}void 0===i&&(i=!0);var r=[];return r.push(t),sfi(bs.Up,n,u(f,hc),t.node,i),sfi(bs.Down,n,u(f,cc),t.node,i),r}(n,r,f(r)),t,f))&&hs(r.node)?{node:(e=r).node,before:sot(e,o=t)<hot(e,o)}:null}function ue(n,t){n.selection.setRng(t);ev(n,n.selection.getRng())}function cot(t,i,r){return n.some(not(t,i,r))}function hfi(t,i,r,f,e,o){var s=i===bt.Forwards,p=vu(t.getBody()),w=u(lit,s?p.next:p.prev),a=s?f:e,v,l,h,y,c;return!r.collapsed&&(v=bp(r),o(v))?ie(i,t,v,i===bt.Backwards,!1):(l=ka(i,t.getBody(),r),a(l))?el(t,l.getNode(!s)):(h=yr(s,w(l)),y=tat(r),!h)?y?n.some(r):n.none():a(h)?ie(i,t,h.getNode(!s),s,!1):(c=w(h),c&&a(c)&&iw(h,c)?ie(i,t,c.getNode(!s),s,!1):y?cot(t,h.toRange(),!1):n.none())}function cfi(t,r,u,f,e,o){var s=ka(r,t.getBody(),u),y=po(s.getClientRects()),a=r===bs.Down,k,d,v,l;if(!y)return n.none();var w,b=p((a?rni:ini)(t.getBody(),efi(1),s),oot(1)),c=y.left,h=ak(b,c);return h&&o(h.node)?(k=Math.abs(c-h.left),d=Math.abs(c-h.right),ie(r,t,h.node,k<d,!1)):(w=f(s)?s.getNode():e(s)?s.getNode(!0):bp(u))&&((v=function(n,t,r,u){function a(n){return po(n.getClientRects())}var h,c,l,v=vu(t),e=[],y=0,f=1===n?(h=v.next,c=cc,l=hc,i.after(u)):(h=v.prev,c=hc,l=cc,i.before(u)),p=a(f),s,o;do if(f.isVisible()&&(s=a(f),!l(s,p))){if(0<e.length&&c(s,po(e))&&y++,o=os(s),o.position=f,o.line=y,r(o))return e;e.push(o)}while(f=h(f));return e}(r,t.getBody(),efi(1),w),l=ak(p(v,oot(1)),c),l)||(l=po(p(v,oot(0)))))?cot(t,l.position.toRange(),!1):0===b.length?dot(t,a).filter(a?e:f).map(function(n){return not(t,n.toRange(),!1)}):n.none()}function lfi(n,t,i){return dot(n,t).filter(i).exists(function(t){return n.selection.setRng(t.toRange()),!0})}function vk(n,t){var i=n.dom.createRng();i.setStart(t.container(),t.offset());i.setEnd(t.container(),t.offset());n.selection.setRng(i)}function afi(n,t){n?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}function vfi(n,t,i){return tot(t,i).map(function(t){return vk(n,t),i})}function yfi(n,t,r){return!!ba(n)&&(e=t,o=r,s=(f=n).getBody(),h=i.fromRangeStart(f.selection.getRng()),rot(o,u(ws,f),s,h).bind(function(n){return vfi(f,e,n)}).isSome());var f,e,o,s,h}function pfi(n,t){return!!ba(t)&&(u=n,e=(f=t).selection.getRng(),r=u?i.fromRangeEnd(e):i.fromRangeStart(e),!!ft(f.selection.getSel().modify)&&(u&&cn(r)?tfi(!0,f.selection,r):!(u||!ln(r))&&tfi(!1,f.selection,r)));var u,f,e,r}function ugi(n){var r=hi(null),f=u(ws,n);return n.on("NodeChange",function(o){var v,s,w,b,y,k,d,g,nt,h,c,a,tt;!ba(n)||l.browser.isIE()&&o.initial||(y=f,k=n.dom,d=o.parents,e(rht(g=p(ut(gi(t.fromDom(k.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(n){return n.dom}),y),nt=p(d,y)),u(afi,!1)),e(rht(nt,g),u(afi,!0)),c=r,(h=n).selection.isCollapsed()&&!0!==h.composing&&c.get()&&(a=i.fromRangeStart(h.selection.getRng()),i.isTextPosition(a)&&!1===(cn(tt=a)||ln(tt))&&(vk(h,wvi(c.get(),a)),c.set(null))),v=f,s=n,w=r,b=o.parents,s.selection.isCollapsed()&&e(p(b,v),function(){var n=i.fromRangeStart(s.selection.getRng());yf(v,s.getBody(),n).bind(function(n){return vfi(s,w,n)})}))}),r}function yk(n,t,r){if(ba(n)){var f=dot(n,t).getOrThunk(function(){var r=n.selection.getRng();return t?i.fromRangeEnd(r):i.fromRangeStart(r)});return yf(u(ws,n),n.getBody(),f).exists(function(t){var i=ok(t);return tot(r,i).exists(function(t){return vk(n,t),!0})})}return!1}function wfi(n,t){return function(i){return tot(t,i).exists(function(t){return vk(n,t),!0})}}function bfi(n,t,r,f){var e=n.getBody(),o=u(ws,n);n.undoManager.ignore(function(){var u,s,h;n.selection.setRng((u=r,s=f,(h=document.createRange()).setStart(u.container(),u.offset()),h.setEnd(s.container(),s.offset()),h));n.execCommand("Delete");yf(o,e,i.fromRangeStart(n.selection.getRng())).map(iot).map(wfi(n,t))});n.nodeChanged()}function pk(r,e,o){var p,h,a,c,s,y,l,v,w;return r.selection.isCollapsed()&&ba(r)?(p=i.fromRangeStart(r.selection.getRng()),a=e,c=o,s=p,y=(h=r).getBody(),l=ro(s.container(),y)||y,v=u(ws,h),(w=yf(v,l,s)).bind(function(t){return c?t.fold(f(n.some(iot(t))),n.none,f(n.some(ok(t))),n.none):t.fold(n.none,f(n.some(ok(t))),n.none,f(n.some(iot(t))))}).map(wfi(h,a)).getOrThunk(function(){var n=fw(c,l,s),i=n.bind(function(n){return yf(v,l,n)});return di(w,i,function(){return ho(v,l,s).exists(function(n){return!!di(wi(i=n),af(i),function(n,t){var r=yr(!0,n),u=yr(!1,t);return yu(i,r).forall(function(n){return n.isEqual(u)})}).getOr(!0)&&(ys(h,c,t.fromDom(n)),!0);var i})}).orThunk(function(){return i.bind(function(){return n.map(function(n){return c?bfi(h,a,s,n):bfi(h,a,n,s),!0})})}).getOr(!1)})):!1}function fgi(n){return 1===yct(n)}function egi(n,r){var e,s=t.fromDom(n.getBody()),h=t.fromDom(n.selection.getStart()),o=p(iy(e=ne(h,s),tf).fold(f(e),function(n){return e.slice(0,n)}),fgi);return yo(o).exists(function(f){var a,v,s,h,y,c,w,b,k,d=i.fromRangeStart(n.selection.getRng()),g=r,l=d,e=f.dom;return!(!di(wi(e),af(e),function(n,t){var i=yr(!0,n),r=yr(!1,t),u=yr(!1,l);return g?yu(e,u).exists(function(n){return n.isEqual(r)&&l.isEqual(i)}):lf(e,u).exists(function(n){return n.isEqual(i)&&l.isEqual(r)})}).getOr(!0)||sf((a=f).dom)&&fnt(a.dom)||(v=r,h=f,0===(k=ut(p(o,u(pwi,s=n)),function(n){return n.dom})).length?ys(s,v,h):(c=h.dom,b=snt(k,(w=oft(!1)).dom),ou(t.fromDom(c),w),ni(t.fromDom(c)),y=i(b,0),s.selection.setRng(y.toRange())),0))})}function wk(n,t){return!!n.selection.isCollapsed()&&egi(n,t)}function lot(n,i,r){return n._selectionOverrides.hideFakeCaret(),ys(n,i,t.fromDom(r)),!0}function bk(t,i){return t.selection.isCollapsed()?(u=t,o=(r=i)?tl:il,c=r?bt.Forwards:bt.Backwards,f=ka(c,u.getBody(),u.selection.getRng()),o(f)?lot(u,r,f.getNode(!r)):n.from(yr(r,f)).filter(function(n){return o(n)&&iw(f,n)}).exists(function(n){return lot(u,r,n.getNode(!r))})):(h=i,e=(s=t).selection.getNode(),!!tu(e)&&lot(s,h,e));var s,h,e,u,r,o,c,f}function aot(n){var t=parseInt(n,10);return isNaN(t)?0:t}function kfi(n,t){return(n||"table"===vt(t)?"margin":"padding")+("rtl"===bf(t,"direction")?"-right":"-left")}function dfi(n){var t,i=boi(n);return!n.mode.isReadOnly()&&(1<i.length||(t=n,vl(i,function(n){var i=kg(n,kfi(spt(t),n)).map(aot).getOr(0);return"false"!==t.dom.getContentEditable(n.dom)&&0<i})))}function gfi(n){return kn(n)||fa(n)}function nei(n,i){var r=n.dom,f=n.selection,o=n.formatter,u=n.getParam("indentation","40px","string"),s=/[a-z%]+$/i.exec(u)[0],h=parseInt(u,10),c=spt(n),l=si(n);n.queryCommandState("InsertUnorderedList")||n.queryCommandState("InsertOrderedList")||""!==l||r.getParent(f.getNode(),r.isBlock)||o.apply("div");e(boi(n),function(n){var u,o=r,v=i,l=h,a=s,f=n.dom,e=kfi(c,t.fromDom(f));"outdent"===v?(u=Math.max(0,aot(f.style[e])-l),o.setStyle(f,e,u?u+a:"")):(u=aot(f.style[e])+l+a,o.setStyle(f,e,u))})}function tei(n){if(n.selection.isCollapsed()&&dfi(n)){var r=n.dom,u=n.selection.getRng(),e=i.fromRangeStart(u),f=r.getParent(u.startContainer,r.isBlock);if(null!==f&&aft(t.fromDom(f),e))return nei(n,"outdent"),!0}return!1}function iei(n,t){n.getDoc().execCommand(t,!1,null)}function rei(t){return void 0===t.touches||1!==t.touches.length?n.none():n.some(t.touches[0])}function vot(n,t){return w(n,t.nodeName)}function ogi(n){var u,f,v,y=n.dom,s=n.selection,p=n.schema,c=p.getBlockElements(),i=s.getStart(),l=n.getBody(),a=si(n),w;if(i&&h(i)&&a&&(w=l.nodeName.toLowerCase(),p.isValidChild(w,a.toLowerCase())&&(b=c,k=l,d=i,!vi(kdt(t.fromDom(d),t.fromDom(k)),function(n){return vot(b,n.dom)})))){for(var b,k,d,g,e,r=s.getRng(),nt=r.startContainer,tt=r.startOffset,it=r.endContainer,rt=r.endOffset,ut=as(n),i=l.firstChild;i;)g=c,o(e=i)||h(e)&&!vot(g,e)&&!ar(e)?function(n,t){if(o(t)&&(0===t.nodeValue.length||/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||vot(n,t.nextSibling))))return 1}(c,i)?(i=(f=i).nextSibling,y.remove(f)):(u||(u=y.create(a,pa(n)),i.parentNode.insertBefore(u,i),v=!0),i=(f=i).nextSibling,u.appendChild(f)):(u=null,i=i.nextSibling);v&&ut&&(r.setStart(nt,tt),r.setEnd(it,rt),s.setRng(r),n.nodeChanged())}}function uei(n,t){t.hasAttribute("data-mce-caret")&&(an(t),n.selection.setRng(n.selection.getRng()),n.selection.scrollIntoView(t))}function sgi(n,i){var r=by(t.fromDom(n.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull();if(r)return"compositionstart"===i.type?(i.preventDefault(),i.stopPropagation(),void uei(n,r)):void(nat(r)&&(uei(n,r),n.undoManager.add()))}function fei(n,t,r){var e,f,o,s=vu(n.getBody()),h=u(lit,1===t?s.next:s.prev);r.collapsed&&""!==si(n)&&(e=n.dom.getParent(r.startContainer,"PRE"))&&(h(i.fromRangeStart(r))||(o=n.dom.create(si(n)),(!l.ie||11<=l.ie)&&(o.innerHTML='<br data-mce-bogus="1">'),f=o,1===t?n.$(e).after(f):n.$(e).before(f),n.selection.select(f,!0),n.selection.collapse()))}function eei(t,i){return r=t,u=i?bt.Forwards:bt.Backwards,f=r.selection.getRng(),hfi(r,u,f,eo,oo,koi).orThunk(function(){return fei(r,u,f),n.none()}).exists(function(n){return ue(t,n),!0});var r,u,f}function oei(t,i){return u=i?1:-1,f=(r=t).selection.getRng(),cfi(r,u,f,function(n){return eo(n)||lnt(n)},function(n){return oo(n)||ant(n)},koi).orThunk(function(){return fei(r,u,f),n.none()}).exists(function(n){return ue(t,n),!0});var r,u,f}function sei(n,t){return lfi(n,t,t?oo:eo)}function hgi(n){return dt(["figcaption"],vt(n))}function hei(n){var t=document.createRange();return t.setStartBefore(n.dom),t.setEndBefore(n.dom),t}function cei(n,t,i){(i?ii:wct)(n,t)}function cgi(n,r){var f=t.fromDom(n.getBody()),e=i.fromRangeStart(n.selection.getRng()),o=si(n),s=pa(n),h=e,c=u(nt,f);return py(t.fromDom(h.container()),tf,c).filter(hgi).exists(function(){var v,u,y,p,h,w,b,k,i,c,d,g,l,a,nt,tt;return(l=f,a=e,r?(tt=l.dom,vv(tt,a).breakAt.isNone()):(nt=l.dom,av(nt,a).breakAt.isNone()))?(v=(u=f,p=s,h=r,""===(y=o)?(d=h,cei(u,g=t.fromTag("br"),d),hei(g)):(w=u,b=h,k=p,i=t.fromTag(y),c=t.fromTag("br"),se(i,k),ii(i,c),cei(w,i,b),hei(c))),n.selection.setRng(v),!0):!1})}function lei(n,t){return!!n.selection.isCollapsed()&&cgi(n,t)}function v(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(){return n.apply(null,i)}}function sl(n,t){return gt((i=t,sh(ut(n,function(n){return c({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:y},n)}),function(n){return i.keyCode===n.keyCode&&i.shiftKey===n.shiftKey&&i.altKey===n.altKey&&i.ctrlKey===n.ctrlKey&&i.metaKey===n.metaKey?[n]:[]})),function(n){return n.action()});var i}function aei(n,t){var i=t?bt.Forwards:bt.Backwards,r=n.selection.getRng();return hfi(n,i,r,tl,il,tu).exists(function(t){return ue(n,t),!0})}function vei(n,t){var i=t?1:-1,r=n.selection.getRng();return cfi(n,i,r,tl,il,tu).exists(function(t){return ue(n,t),!0})}function yei(n,t){return lfi(n,t,t?il:tl)}function pei(i,r,u,f,e){var o,c=gi(t.fromDom(u),"td,th,caption").map(function(n){return n.dom}),l=p((o=i,sh(c,function(n){var t,i={left:(t=os(n.getBoundingClientRect())).left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1};return[{x:i.left,y:o(i),cell:n},{x:i.right,y:o(i),cell:n}]})),function(n){return r(n,e)}),s=f,h=e;return fu(l,function(t,i){return t.fold(function(){return n.some(i)},function(t){var r=Math.sqrt(Math.abs(t.x-s)+Math.abs(t.y-h)),u=Math.sqrt(Math.abs(i.x-s)+Math.abs(i.y-h));return n.some(u<r?i:t)})},n.none()).map(function(n){return n.cell})}function wei(n,t,i){var u,f,r=n(t,i);return r.breakType===re.Wrap&&0===r.positions.length||!st(i.getNode())&&r.breakType===re.Br&&1===r.positions.length?(u=n,f=t,!r.breakAt.exists(function(n){return u(f,n).breakAt.isSome()})):r.breakAt.isNone()}function lgi(n,t,r){var u,f,e,o=n.selection.getRng(),s=t?1:-1;return!(!bpt()||(u=t,f=r,e=i.fromRangeStart(o),!vc(!u,f).exists(function(n){return n.isEqual(e)}))||(ie(s,n,r,!t,!1).each(function(t){ue(n,t)}),0))}function bei(i,r,u){var e,f,o=(e=!!r,f=u.getNode(e),h(f)&&"TABLE"===f.nodeName?n.some(f):n.none()),s=!1===r;o.fold(function(){return ue(i,u.toRange())},function(n){return vc(s,i.getBody()).filter(function(n){return n.isEqual(u)}).fold(function(){return ue(i,u.toRange())},function(){var f,e,o=r,s=n,h=u;(e=si(f=i))?f.undoManager.transact(function(){var n=t.fromTag(e),i;se(n,pa(f));ii(n,t.fromTag("br"));(o?dl:ou)(t.fromDom(s),n);i=f.dom.createRng();i.setStart(n.dom,0);i.setEnd(n.dom,0);ue(f,i)}):ue(f,h.toRange())})})}function agi(n,t,r,u){var h,e,c,l,o,a,v,y,p,w,k=n.selection.getRng(),f=i.fromRangeStart(k),b=n.getBody(),s;return t||!hni(u,f)?!(!t||!cni(u,f))&&(h=b,p=e=r,bei(n,t,s=yo((w=c=f).getClientRects()).bind(function(n){return sni(p,n.left,n.top)}).bind(function(n){return ufi(wi(t=n).map(function(n){return[n].concat(vv(t,n).positions)}).getOr([]),w);var t}).orThunk(function(){return or(c.getClientRects()).bind(function(n){return fot(tgi(h,i.after(e)),n.left)})}).getOr(i.after(e))),!0):(s=(l=b,v=o=r,or((y=a=f).getClientRects()).bind(function(n){return oni(v,n.left,n.top)}).bind(function(n){return ufi(af(t=n).map(function(n){return av(t,n).positions.concat(n)}).getOr([]),y);var t}).orThunk(function(){return or(a.getClientRects()).bind(function(n){return fot(ngi(l,i.before(o)),n.left)})}).getOr(i.before(o))),bei(n,t,s),!0)}function kei(t,i,r){return n.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(u){return n.from(t.dom.getParent(u,"table")).map(function(n){return r(t,i,n,u)})}).getOr(!1)}function dei(n,t){return kei(n,t,lgi)}function gei(n,t){return kei(n,t,agi)}function yv(n,t){var r,s,u=t,f=n.dom,h=n.schema.getMoveCaretBeforeOnEnterElements(),i,e;if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)&&(s=function(n){for(;n;){if(1===n.nodeType||3===n.nodeType&&n.data&&/[\r\n\s]/.test(n.data))return n;n=n.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(f.doc.createTextNode(ir),t.firstChild),i=f.createRng(),t.normalize(),t.hasChildNodes()){for(e=new yt(t,t);r=e.current();){if(o(r)){i.setStart(r,0);i.setEnd(r,0);break}if(h[r.nodeName.toLowerCase()]){i.setStartBefore(r);i.setEndBefore(r);break}u=r;r=e.next()}r||(i.setStart(u,0),i.setEnd(u,0))}else st(t)?t.nextSibling&&f.isBlock(t.nextSibling)?(i.setStartBefore(t),i.setEndBefore(t)):(i.setStartAfter(t),i.setEndAfter(t)):(i.setStart(t,0),i.setEnd(t,0));n.selection.setRng(i);ev(n,i)}}function yot(t){return n.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))}function noi(n,t){return n&&n.parentNode&&n.parentNode.nodeName===t}function toi(n){return n&&/^(OL|UL|LI)$/.test(n.nodeName)}function kk(n){var t=n.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:n}function dk(n,t,i){for(var r=n[i?"firstChild":"lastChild"];r&&!h(r);)r=r[i?"nextSibling":"previousSibling"];return r===t}function pot(n){n.innerHTML='<br data-mce-bogus="1">'}function wot(n,t){return n.nodeName===t||n.previousSibling&&n.previousSibling.nodeName===t}function ioi(n,t){return t&&n.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==n.getContentEditable(t)}function bot(n,t,i){return!1===o(t)?i:n?1===i&&t.data.charAt(i-1)===fi?0:i:i===t.data.length-1&&t.data.charAt(i)===fi?t.data.length:i}function roi(n,t){for(var u,r=n.getRoot(),i=t;i!==r&&"false"!==n.getContentEditable(i);)"true"===n.getContentEditable(i)&&(u=i),i=i.parentNode;return i!==r?u:r}function pv(i,r){var u=si(i);u&&u.toLowerCase()===r.tagName.toLowerCase()&&function(i,r,u){var f=i.dom,e,o;n.from(u.style).map(f.parseStyle).each(function(n){var i=flt(t.fromDom(r)),u=c(c({},i),n);f.setStyles(r,u)});di(n.from(u.class).map(function(n){return n.split(/\s+/)}),n.from(r.className).map(function(n){return p(n.split(/\s+/),function(n){return""!==n})}),function(n,t){var i=p(t,function(t){return!dt(n,t)}),u=ee(ee([],n,!0),i,!0);f.setAttrib(r,"class",u.join(" "))});e=["style","class"];o=yl(u,function(n,t){return!dt(e,t)});f.setAttribs(r,o)}(i,r,pa(i))}function vgi(n,i){function rt(t){var e,f=u,h=pt.getTextInlineElements(),i=t||"TABLE"===k||"HR"===k?s.create(t||v):r.cloneNode(!1),o=i;if(!1===n.getParam("keep_styles",!0))s.setAttrib(i,"style",null),s.setAttrib(i,"class",null);else for(;h[f.nodeName]&&(sf(f)||ar(f)||(e=f.cloneNode(!1),s.setAttrib(e,"id",""),i.hasChildNodes()?e.appendChild(i.firstChild):o=e,i.appendChild(e))),(f=f.parentNode)&&f!==ct;);return pv(n,i),pot(o),i}function lt(n){var t,e,f=bot(n,u,tt),i;if(!o(u)||!(n?0<f:f<u.nodeValue.length)){if(u.parentNode===r&&nt&&!n||n&&h(u)&&u===r.firstChild)return 1;if(wot(u,"TABLE")||wot(u,"HR"))return nt&&!n||!nt&&n;for(i=new yt(u,r),o(u)&&(n&&0===f?i.prev():n||f!==u.nodeValue.length||i.next());t=i.current();){if(h(t)){if(!t.getAttribute("data-mce-bogus")&&(e=t.nodeName.toLowerCase(),wt[e]&&"br"!==e))return}else if(o(t)&&!ts(t.nodeValue))return;n?i.prev():i.next()}return 1}}function at(){c=/^(H[1-6]|PRE|FIGURE)$/.test(k)&&"HGROUP"!==ft?rt(v):rt();n.getParam("end_container_on_empty_block",!1)&&ioi(s,y)&&s.isEmpty(r)?c=s.split(y,r):s.insertAfter(c,r);yv(n,c)}var vt,c,g,nt,s=n.dom,pt=n.schema,wt=pt.getNonEmptyElements(),p=n.selection.getRng(),r,y,k,ft,w,et,v,ut,kt,f,b,it,dt,a,ot,st,d,gt,ht,l,ni,ct;vw(s,p).each(function(n){p.setStart(n.startContainer,n.startOffset);p.setEnd(n.endContainer,n.endOffset)});var u=p.startContainer,tt=p.startOffset,v=si(n),bt=!(!i||!i.shiftKey),ti=!(!i||!i.ctrlKey);h(u)&&u.hasChildNodes()&&(nt=tt>u.childNodes.length-1,u=u.childNodes[Math.min(tt,u.childNodes.length-1)]||u,tt=nt&&o(u)?u.nodeValue.length:0);ct=roi(s,u);ct&&((v&&!bt||!v&&bt)&&(u=function(n,t,i,r){var e,s,u,c,l,a,h=v||"P",o=n.dom,y=roi(o,i),f=o.getParent(i,o.isBlock);if(!f||!ioi(o,f)){if(l=((f=f||y)===n.getBody()||(a=f)&&/^(TD|TH|CAPTION)$/.test(a.nodeName)?f:f.parentNode).nodeName.toLowerCase(),!f.hasChildNodes())return pv(n,e=o.create(h)),f.appendChild(e),t.setStart(e,0),t.setEnd(e,0),e;for(u=i;u.parentNode!==f;)u=u.parentNode;for(;u&&!o.isBlock(u);)u=(s=u).previousSibling;if(s&&n.schema.isValidChild(l,h.toLowerCase())){for(pv(n,e=o.create(h)),s.parentNode.insertBefore(e,s),u=s;u&&!o.isBlock(u);)c=u.nextSibling,e.appendChild(u),u=c;t.setStart(i,r);t.setEnd(i,r)}}return i}(n,p,u,tt)),y=(r=s.getParent(u,s.isBlock))?s.getParent(r.parentNode,s.isBlock):null,k=r?r.nodeName.toUpperCase():"","LI"!==(ft=y?y.nodeName.toUpperCase():"")||ti||(y=(r=y).parentNode,k=ft),/^(LI|DT|DD)$/.test(k)&&s.isEmpty(r)?(kt=rt,f=y,b=r,it=v,l=(ut=n).dom,ni=ut.selection.getRng(),f!==ut.getBody()&&(a=(it=toi(dt=f)&&toi(dt.parentNode)?"LI":it)?kt(it):l.create("BR"),dk(f,b,!0)&&dk(f,b,!1)?noi(f,"LI")?(ot=kk(f),l.insertAfter(a,ot),(null===(ht=(gt=f).parentNode)||void 0===ht?void 0:ht.firstChild)===gt?l.remove(ot):l.remove(f)):l.replace(a,f):(dk(f,b,!0)?noi(f,"LI")?(l.insertAfter(a,kk(f)),a.appendChild(l.doc.createTextNode(" ")),a.appendChild(f)):f.parentNode.insertBefore(a,f):dk(f,b,!1)?l.insertAfter(a,kk(f)):(f=kk(f),(st=ni.cloneRange()).setStartAfter(b),st.setEndAfter(f),d=st.extractContents(),"LI"===it&&d.firstChild&&"LI"===d.firstChild.nodeName?(a=d.firstChild,l.insertAfter(d,f)):(l.insertAfter(d,f),l.insertAfter(a,f))),l.remove(b)),yv(ut,a))):v&&r===n.getBody()||(v=v||"P",kh(r)?(c=an(r),s.isEmpty(r)&&pot(r),pv(n,c),yv(n,c)):lt()?at():lt(!0)?(c=r.parentNode.insertBefore(rt(),r),yv(n,wot(r,"HR")?c:r)):((et=(w=p).cloneRange()).setStart(w.startContainer,bot(!0,w.startContainer,w.startOffset)),et.setEnd(w.endContainer,bot(!1,w.endContainer,w.endOffset)),(vt=et.cloneRange()).setEndAfter(r),g=vt.extractContents(),e(syt(t.fromDom(g),gr),function(n){var t=n.dom;t.nodeValue=ve(t.nodeValue)}),function(n){for(;o(n)&&(n.nodeValue=n.nodeValue.replace(/^[\r\n]+/,"")),n=n.firstChild;);}(g),c=g.firstChild,s.insertAfter(g,r),function(n,t){var r,u,i=c,f=[];if(i){for(;i=i.firstChild;){if(n.isBlock(i))return;h(i)&&!t[i.nodeName.toLowerCase()]&&f.push(i)}for(r=f.length;r--;)!(i=f[r]).hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue?n.remove(i):(u=i)&&"A"===u.nodeName&&n.isEmpty(u)&&n.remove(i)}}(s,wt),function(n,t){t.normalize();var i=t.lastChild;i&&!/^(left|right)$/gi.test(n.getStyle(i,"float",!0))||n.add(t,"br")}(s,r),s.isEmpty(r)&&pot(r),c.normalize(),s.isEmpty(c)?(s.remove(c),at()):(pv(n,c),yv(n,c))),s.setAttrib(c,"id",""),n.fire("NewBlock",{newBlock:c})))}function uoi(n,t,i){var r=n.dom.createRng();i?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t));n.selection.setRng(r);ev(n,r)}function ygi(n,i){var r=t.fromTag("br");ou(t.fromDom(i),r);n.undoManager.add()}function pgi(n,i){lni(n.getBody(),i)||dl(t.fromDom(i),t.fromTag("br"));var r=t.fromTag("br");dl(t.fromDom(i),r);uoi(n,r.dom,!1);n.undoManager.add()}function foi(n){return n&&"A"===n.nodeName&&"href"in n}function wgi(n){return n.fold(it,foi,foi,it)}function bgi(n,t){t.fold(y,u(ygi,n),u(pgi,n),y)}function eoi(n,t){var r,f,e,o=(f=u(ws,r=n),e=i.fromRangeStart(r.selection.getRng()),yf(f,r.getBody(),e).filter(wgi));o.isSome()?o.each(u(bgi,n)):function(n,t){var f,h,l=n.selection,u=n.dom,r=l.getRng(),c,e,i;vw(u,r).each(function(n){r.setStart(n.startContainer,n.startOffset);r.setEnd(n.endContainer,n.endOffset)});e=r.startOffset;i=r.startContainer;1===i.nodeType&&i.hasChildNodes()&&(c=e>i.childNodes.length-1,i=i.childNodes[Math.min(e,i.childNodes.length-1)]||i,e=c&&3===i.nodeType?i.nodeValue.length:0);var o=u.getParent(i,u.isBlock),s=o?u.getParent(o.parentNode,u.isBlock):null,a=s?s.nodeName.toUpperCase():"",v=!(!t||!t.ctrlKey);"LI"!==a||v||(o=s);i&&3===i.nodeType&&e>=i.nodeValue.length&&!function(n){for(var t,r=new yt(i,o),u=n.getNonEmptyElements();t=r.next();)if(u[t.nodeName.toLowerCase()]||0<t.length)return 1}(n.schema)&&(f=u.create("br"),r.insertNode(f),r.setStartAfter(f),r.setEndAfter(f),h=!0);f=u.create("br");eit(u,r,f);uoi(n,f,h);n.undoManager.add()}(n,t)}function ooi(n,i){return yot(n).filter(function(n){return 0<i.length&&ah(t.fromDom(n),i)}).isSome()}function kgi(n){return ooi(n,n.getParam("no_newline_selector",""))}function kot(n){return function(t){return""===si(t)===n}}function soi(n){return function(i){return yot(i).filter(function(n){return fa(t.fromDom(n))}).isSome()===n}}function hoi(n,t){return function(i){return yot(i).fold(f(""),function(n){return n.nodeName.toUpperCase()})===n.toUpperCase()===t}}function gk(n){return hoi("pre",n)}function nd(n){return function(t){return t.getParam("br_in_pre",!0)===n}}function dgi(n){return ooi(n,n.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function wv(n,t){return t}function coi(n){var i=si(n),t=function(n,t){for(var u,r=n.getRoot(),i=t;i!==r&&"false"!==n.getContentEditable(i);)"true"===n.getContentEditable(i)&&(u=i),i=i.parentNode;return i!==r?u:r}(n.dom,n.selection.getStart());return t&&n.schema.isValidChild(t.nodeName,i||"P")}function wr(t,i){return function(r,u){return fu(t,function(n,t){return n&&t(r,u)},!0)?n.some(i):n.none()}}function loi(n,t){var r,i;r=n;i=t;vui([wr([kgi],er.none()),wr([hoi("summary",!0)],er.br()),wr([gk(!0),nd(!1),wv],er.br()),wr([gk(!0),nd(!1)],er.block()),wr([gk(!0),nd(!0),wv],er.block()),wr([gk(!0),nd(!0)],er.br()),wr([soi(!0),wv],er.br()),wr([soi(!0)],er.block()),wr([kot(!0),wv,coi],er.block()),wr([kot(!0)],er.br()),wr([dgi],er.br()),wr([kot(!1),wv],er.br()),wr([coi],er.block())],[r,!(!i||!i.shiftKey)]).getOr(er.none()).fold(function(){eoi(n,t)},function(){vgi(n,t)},y)}function aoi(n){return n.stopImmediatePropagation()}function voi(n){return n.keyCode===s.PAGE_UP||n.keyCode===s.PAGE_DOWN}function yoi(n,t,i){i&&!n.get()?t.on("NodeChange",aoi,!0):!i&&n.get()&&t.off("NodeChange",aoi);n.set(i)}function poi(r,u){var f=u.container(),e=u.offset();return o(f)?(f.insertData(e,r),n.some(i(f,e+r.length))):tw(u).map(function(n){var f=t.fromText(r);return(u.isAtEnd()?dl:ou)(n,f),i(f.dom,r.length)})}function ggi(n,t){return function(i){return f=n,(!aut(e=i)&&(r=e,lf((u=f).dom,r).isNone()||yu(u.dom,r).isNone()||aft(u,r)||vnt(u,r)||lut(u,r)||cut(u,r)||rgt(f,e)||ugt(f,e))?yni:pni)(t);var u,r,f,e}}function nni(n){var r,f,h=i.fromRangeStart(n.selection.getRng()),e=t.fromDom(n.getBody()),o,s;return n.selection.isCollapsed()?(o=u(ws,n),s=i.fromRangeStart(n.selection.getRng()),yf(o,n.getBody(),s).bind((f=e,function(n){return n.fold(function(n){return lf(f.dom,i.before(n))},function(n){return wi(n)},function(n){return af(n)},function(n){return yu(f.dom,i.after(n))})})).bind(ggi(e,h)).exists((r=n,function(n){return r.selection.setRng(n.toRange()),r.nodeChanged(),!0}))):!1}function tni(n){var t,c,f,l,a,o,i,h,y,p,e,w,b,k,r=ugi(n);return n.on("keyup compositionstart",u(sgi,n)),k=r,(b=n).on("keydown",function(n){var t,i,u,r;!1===n.isDefaultPrevented()&&(t=b,i=k,u=n,r=kr().os,sl([{keyCode:s.RIGHT,action:v(eei,t,!0)},{keyCode:s.LEFT,action:v(eei,t,!1)},{keyCode:s.UP,action:v(oei,t,!1)},{keyCode:s.DOWN,action:v(oei,t,!0)},{keyCode:s.RIGHT,action:v(dei,t,!0)},{keyCode:s.LEFT,action:v(dei,t,!1)},{keyCode:s.UP,action:v(gei,t,!1)},{keyCode:s.DOWN,action:v(gei,t,!0)},{keyCode:s.RIGHT,action:v(aei,t,!0)},{keyCode:s.LEFT,action:v(aei,t,!1)},{keyCode:s.UP,action:v(vei,t,!1)},{keyCode:s.DOWN,action:v(vei,t,!0)},{keyCode:s.RIGHT,action:v(yfi,t,i,!0)},{keyCode:s.LEFT,action:v(yfi,t,i,!1)},{keyCode:s.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:v(fni,t,i)},{keyCode:s.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:v(eni,t,i)},{keyCode:s.UP,action:v(lei,t,!1)},{keyCode:s.DOWN,action:v(lei,t,!0)}],u).each(function(){u.preventDefault()}))}),w=r,(e=n).on("keydown",function(n){var t,i,r;!1===n.isDefaultPrevented()&&(i=w,r=n,sl([{keyCode:s.BACKSPACE,action:v(tei,t=e,!1)},{keyCode:s.BACKSPACE,action:v(uk,t,!1)},{keyCode:s.DELETE,action:v(uk,t,!0)},{keyCode:s.BACKSPACE,action:v(rk,t,!1)},{keyCode:s.DELETE,action:v(rk,t,!0)},{keyCode:s.BACKSPACE,action:v(pk,t,i,!1)},{keyCode:s.DELETE,action:v(pk,t,i,!0)},{keyCode:s.BACKSPACE,action:v(ob,t,!1)},{keyCode:s.DELETE,action:v(ob,t,!0)},{keyCode:s.BACKSPACE,action:v(fk,t,!1)},{keyCode:s.DELETE,action:v(fk,t,!0)},{keyCode:s.BACKSPACE,action:v(bk,t,!1)},{keyCode:s.DELETE,action:v(bk,t,!0)},{keyCode:s.BACKSPACE,action:v(ik,t,!1)},{keyCode:s.DELETE,action:v(ik,t,!0)},{keyCode:s.BACKSPACE,action:v(tk,t,!1)},{keyCode:s.DELETE,action:v(tk,t,!0)},{keyCode:s.BACKSPACE,action:v(wk,t,!1)},{keyCode:s.DELETE,action:v(wk,t,!0)}],r).each(function(){r.preventDefault()}))}),e.on("keyup",function(n){var t,i;!1===n.isDefaultPrevented()&&(i=n,sl([{keyCode:s.BACKSPACE,action:v(oui,t=e)},{keyCode:s.DELETE,action:v(oui,t)}],i))}),(p=n).on("keydown",function(n){var t,i,r;n.keyCode===s.ENTER&&(t=p,(i=n).isDefaultPrevented()||(i.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete");loi(t,i)})))}),(y=n).on("keydown",function(n){var t;!1===n.isDefaultPrevented()&&(t=n,sl([{keyCode:s.SPACEBAR,action:v(nni,y)}],t).each(function(){t.preventDefault()}))}),i=o=n,h=gtt(function(){i.composing||ogt(i)},0),ani.isIE()&&(i.on("keypress",function(){h.throttle()}),i.on("remove",function(){h.cancel()})),o.on("input",function(n){!1===n.isComposing&&ogt(o)}),a=r,(l=n).on("keydown",function(n){var t,i,r;!1===n.isDefaultPrevented()&&(i=a,r=n,sl([{keyCode:s.END,action:v(sei,t=l,!0)},{keyCode:s.HOME,action:v(sei,t,!1)},{keyCode:s.END,action:v(yei,t,!0)},{keyCode:s.HOME,action:v(yei,t,!1)},{keyCode:s.END,action:v(yk,t,!0,i)},{keyCode:s.HOME,action:v(yk,t,!1,i)}],r).each(function(){r.preventDefault()}))}),t=n,c=r,vni.os.isOSX()||(f=hi(!1),t.on("keydown",function(n){voi(n)&&yoi(f,t,!0)}),t.on("keyup",function(n){var i,r,u;!1===n.isDefaultPrevented()&&(u=n,sl([{keyCode:s.PAGE_UP,action:v(yk,i=t,!1,r=c)},{keyCode:s.PAGE_DOWN,action:v(yk,i,!0,r)}],u));voi(n)&&f.get()&&(yoi(f,t,!1),t.nodeChanged())})),r}function got(n){var t,i;this.lastPath=[];this.editor=n;i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(i){var r=n.selection.getRng(),u={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==i.type&&yrt(u,t)||n.fire("SelectionChange");t=u});n.on("contextmenu",function(){n.fire("SelectionChange")});n.on("SelectionChange",function(){var t=n.selection.getStart(!0);t&&(l.range||!n.selection.isCollapsed())&&cw(n)&&!i.isSameElementPath(t)&&n.dom.isChildOf(t,n.getBody())&&n.nodeChanged({selectionChange:!0})});n.on("mouseup",function(t){!t.isDefaultPrevented()&&cw(n)&&("IMG"===n.selection.getNode().nodeName?ui.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}function doi(n){return h(n)&&lat(t.fromDom(n))}function goi(n){var t=n.getBoundingClientRect(),i=n.ownerDocument,r=i.documentElement,u=i.defaultView;return{top:t.top+u.pageYOffset-r.clientTop,left:t.left+u.pageXOffset-r.clientLeft}}function nsi(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function bni(n,t){var i=ui.throttle(function(n,i){t._selectionOverrides.hideFakeCaret();t.selection.placeCaretAt(n,i)},0);return t.on("remove",i.stop),function(r){return n.on(function(n){var k,f,u,e,o,h,c,l,a,v,y,d,g,s,nt,p,w,tt,it,b,rt=Math.max(Math.abs(r.screenX-n.screenX),Math.abs(r.screenY-n.screenY));if(!n.dragging&&10<rt){if(t.fire("dragstart",{target:n.element}).isDefaultPrevented())return;n.dragging=!0;t.focus()}n.dragging&&(d=n,k={pageX:(nt=r,p=(s=t).inline?goi(s.getBody()):{left:0,top:0},b=(it=s).getBody(),w=it.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0},(g={pageX:(tt=function(n,t){if(t.target.ownerDocument===n.getDoc())return{left:t.pageX,top:t.pageY};var r,i,u,f,e,o=goi(n.getContentAreaContainer()),s=(i=(r=n).getBody(),u=r.getDoc().documentElement,f={left:i.scrollLeft,top:i.scrollTop},e={left:i.scrollLeft||u.scrollLeft,top:i.scrollTop||u.scrollTop},r.inline?f:e);return{left:t.pageX-o.left+s.left,top:t.pageY-o.top+s.top}}(s,nt)).left-p.left+w.left,pageY:tt.top-p.top+w.top}).pageX-d.relX),pageY:g.pageY+5},v=n.ghost,y=t.getBody(),v.parentNode!==y&&y.appendChild(v),f=n.ghost,e=n.width,o=n.height,h=n.maxX,c=n.maxY,a=l=0,f.style.left=(u=k).pageX+"px",f.style.top=u.pageY+"px",c<u.pageY+o&&(a=u.pageY+o-c),f.style.width=e-(l=h<u.pageX+e?u.pageX+e-h:l)+"px",f.style.height=o-a+"px",i(r.clientX,r.clientY))})}}function kni(n){function v(n){var i,r,u,f,e,o;0===n.button&&(i=gt(t.dom.getParents(n.target),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){for(var i=0;i<t.length;i++)if(t[i](n))return!0;return!1}}(id,etr)).getOr(null),e=t.getBody(),id(o=i)&&o!==e&&(r=t.dom.getPos(i),u=t.getBody(),f=t.getDoc().documentElement,l.set({element:i,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?u.scrollWidth:f.offsetWidth)-2,maxY:(t.inline?u.scrollHeight:f.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:i.offsetWidth,height:i.offsetHeight,ghost:function(n,i,r){var u=t.dom,f=n.cloneNode(!0),e;return u.setStyles(f,{width:i,height:r}),u.setAttrib(f,"data-mce-selected",null),e=u.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),u.setStyles(e,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:i,height:r}),u.setStyles(f,{margin:0,boxSizing:"border-box"}),e.appendChild(f),e}(i,i.offsetWidth,i.offsetHeight)})))}function y(n){e.on(function(t){var f,e,o,r,s,u;t.dragging&&((r=3===(u=(o=i).selection.getSel().getRangeAt(0).startContainer).nodeType?u.parentNode:u)===(s=t.element)||o.dom.isChildOf(r,s)||id(r)||((e=t.element.cloneNode(!0)).removeAttribute("data-mce-selected"),f=e,i.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||i.undoManager.transact(function(){nsi(t.element);i.insertContent(i.dom.getOuterHTML(f));i._selectionOverrides.hideFakeCaret()})),i.fire("dragend"))});asi(e)}var f,c,e,i,l,t,a=oc(),r=d.DOM,u=document,o=bni(l=a,t=n),h=(f=e=a,function(){f.on(function(n){n.dragging&&c.fire("dragend")});asi(f)});(c=i=n).on("mousedown",v);n.on("mousemove",o);n.on("mouseup",y);r.bind(u,"mousemove",o);r.bind(u,"mouseup",h);n.on("remove",function(){r.unbind(u,"mousemove",o);r.unbind(u,"mouseup",h)});n.on("keydown",function(n){n.keyCode===s.ESC&&h()})}function dni(n){function r(n){var i;n.isDefaultPrevented()||(i=n.dataTransfer)&&(dt(i.types,"Files")||0<i.files.length)&&(n.preventDefault(),"drop"===n.type&&gb(t,"Dropped file type is not supported"))}function u(n){kw(t,n.target)&&r(n)}function f(){var n=d.DOM,i=t.dom,f=document,o=t.inline?t.getBody():t.getDoc(),s=["drop","dragover"];e(s,function(t){n.bind(f,t,u);i.bind(o,t,r)});t.on("remove",function(){e(s,function(t){n.unbind(f,t,u);i.unbind(o,t,r)})})}var i,t;kni(n);(i=n).on("drop",function(n){var t=void 0!==n.clientX?i.getDoc().elementFromPoint(n.clientX,n.clientY):null;(id(t)||"false"===i.dom.getContentEditableParent(t))&&n.preventDefault()});n.getParam("block_unsupported_drop",!0,"boolean")&&(t=n).on("init",function(){ui.setEditorTimeout(t,f,0)})}function td(n,t){return gc(n.getBody(),t)}function gni(n){function tt(n){return n!==h&&(ks(n)||tu(n))&&r.isChildOf(n,h)}function ft(n){return eo(n)||oo(n)||tl(n)||il(n)}function it(n){n&&f.setRng(n)}function b(t,i,r,u){return void 0===u&&(u=!0),n.fire("ShowCaret",{target:i,direction:t,before:r}).isDefaultPrevented()?null:(u&&f.scrollIntoView(i,-1===t),k.show(r,i))}function et(n){return hr(n)||rp(n)||up(n)}function ot(n){return et(n.startContainer)||et(n.endContainer)}function a(i,o){var y,w;if(!i)return null;if(i.collapsed){if(!ot(i)){var v=o?1:-1,c=ka(v,h,i),k=c.getNode(!o);if(hs(k))return b(v,k,!!o&&!c.isAtEnd(),!1);if(y=c.getNode(o),hs(y))return b(v,y,!o&&!c.isAtEnd(),!1)}return null}var s=i.startContainer,a=i.startOffset,it=i.endOffset;return(3===s.nodeType&&0===a&&ks(s.parentNode)&&(s=s.parentNode,a=r.nodeIndex(s),s=s.parentNode),1!==s.nodeType)?null:it===a+1&&s===i.endContainer&&(w=s.childNodes[a],tt(w))?function(i){var o=i.cloneNode(!0),s=n.fire("ObjectSelected",{target:i,targetClone:o}),h,c;return s.isDefaultPrevented()?null:(h=function(i,u,e){var h=n.$,o=by(t.fromDom(n.getBody()),"#"+d).fold(function(){return h([])},function(n){return h([n.dom])}),s,c;return 0===o.length&&(o=h('<div data-mce-bogus="all" class="mce-offscreen-selection"><\/div>').attr("id",d)).appendTo(n.getBody()),s=r.createRng(),u===e&&l.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all"> <\/p>').append(u),s.setStartAfter(o[0].firstChild.firstChild),s.setEndAfter(u)):(o.empty().append(ir).append(u).append(ir),s.setStart(o[0].firstChild,1),s.setEnd(o[0].lastChild,0)),o.css({top:r.getPos(i,n.getBody()).y}),o[0].focus(),c=f.getSel(),c.removeAllRanges(),c.addRange(s),s}(i,s.targetClone,o),c=t.fromDom(i),e(gi(t.fromDom(n.getBody()),"*[data-mce-selected]"),function(n){nt(c,n)||he(n,g)}),r.getAttrib(i,g)||i.setAttribute(g,"1"),u=i,p(),h)}(w):null}function v(){u&&u.removeAttribute(g);by(t.fromDom(n.getBody()),"#"+d).each(ni);u=null}var u,o,ut,c,f=n.selection,r=n.dom,y=r.isBlock,h=n.getBody(),k=bvi(n,h,y,function(){return as(n)}),d="sel-"+r.uniqueId(),g="data-mce-selected",ht=f.getRng,p=function(){k.hide()};return l.ceFalse&&!te(n)&&(n.on("mouseup",function(t){var i=ht();i.collapsed&&wii(n,t.clientX,t.clientY)&&rui(n,i,!1).each(it)}),n.on("click",function(t){var i=td(n,t.target);i&&(ks(i)&&(t.preventDefault(),n.focus()),vsi(i)&&r.isChildOf(i,f.getNode())&&v())}),n.on("blur NewBlock",v),n.on("ResizeWindow FullscreenStateChanged",k.reposition),n.on("tap",function(t){var i=t.target,r=td(n,i);ks(r)?(t.preventDefault(),el(n,r).each(a)):tt(i)&&el(n,i).each(a)},!0),n.on("mousedown",function(t){var s,c,l,w,k,e,o,u=t.target;(u===h||"HTML"===u.nodeName||r.isChildOf(u,h))&&!1!==wii(n,t.clientX,t.clientY)&&((s=td(n,u))?ks(s)?(t.preventDefault(),el(n,s).each(a)):(v(),vsi(s)&&t.shiftKey||lrt(t.clientX,t.clientY,f.getRng())||(p(),f.placeCaretAt(t.clientX,t.clientY))):tt(u)?el(n,u).each(a):!1===hs(u)&&(v(),p(),(c=rgi(h,t.clientX,t.clientY))&&(l=u,w=c.node,e=r.getParent(l,y),o=r.getParent(w,y),!wu(e)&&(l!==o&&r.isChildOf(e,o)&&!1===ks(td(n,e))||!r.isChildOf(o,e)&&(k=o,r.getParent(e,y)!==r.getParent(k,y))&&function(n){var u=n.firstChild,t,r;if(!wu(u))return(t=i.before(u),st(t.getNode())&&1===n.childNodes.length)?!ft(t):(r=vu(n).next(t),r&&!ft(r))}(e))||(t.preventDefault(),it(b(1,c.node,c.before,!1)),n.getBody().focus()))))}),n.on("keypress",function(n){s.modifierPressed(n)||ks(f.getNode())&&n.preventDefault()}),n.on("GetSelectionRange",function(n){var t=n.range;u&&(u.parentNode?((t=t.cloneRange()).selectNode(u),n.range=t):u=null)}),n.on("SetSelectionRange",function(t){var u,o,i,f,s,e,h,c;t.range=(u=t.range,o=n.schema.getShortEndedElements(),i=r.createRng(),f=u.startContainer,s=u.startOffset,e=u.endContainer,h=u.endOffset,w(o,f.nodeName.toLowerCase())?0===s?i.setStartBefore(f):i.setStartAfter(f):i.setStart(f,s),w(o,e.nodeName.toLowerCase())?0===h?i.setEndBefore(e):i.setEndAfter(e):i.setEnd(e,h),i);c=a(t.range,t.forward);c&&(t.range=c)}),n.on("AfterSetSelectionRange",function(n){var t=n.range,i=t.startContainer.parentNode;ot(t)||"mcepastebin"===i.id||p();r.hasClass(i,"mce-offscreen-selection")||v()}),n.on("copy",function(n){var t,u,i=n.clipboardData;n.isDefaultPrevented()||!n.clipboardData||l.ie||(t=(u=r.get(d))&&u.getElementsByTagName("*")[0])&&(n.preventDefault(),i.clearData(),i.setData("text/html",t.outerHTML),i.setData("text/plain",t.outerText||t.innerText))}),dni(n),ut=gtt(function(){var n,t;o.removed||!o.getBody().contains(document.activeElement)||(n=o.selection.getRng()).collapsed&&(t=not(o,n,!1),o.selection.setRng(t))},0),(o=n).on("focus",function(){ut.throttle()}),o.on("blur",function(){ut.cancel()}),(c=n).on("init",function(){c.on("focusin",function(n){var t,i,r=n.target;tu(r)&&(t=gc(c.getBody(),r),i=rt(t)?t:r,c.selection.getNode()!==i&&el(c,i).each(function(n){return c.selection.setRng(n)}))})})),{showCaret:b,showBlockCaretContainer:function(n){n.hasAttribute("data-mce-caret")&&(an(n),it(ht()),f.scrollIntoView(n))},hideFakeCaret:p,destroy:function(){k.destroy();u=null}}}function ntr(n){function f(t,i){try{n.getDoc().execCommand(t,!1,i)}catch(t){}}function u(n){return n.isDefaultPrevented()}function e(){n.shortcuts.add("meta+a",null,"SelectAll")}function p(){n.inline||t.bind(n.getDoc(),"mousedown mouseup",function(t){var r;t.target===n.getDoc().documentElement&&(r=i.getRng(),n.getBody().focus(),"mousedown"===t.type?hr(r.startContainer)||i.placeCaretAt(t.clientX,t.clientY):i.setRng(r))})}function w(){Range.prototype.getClientRects||n.on("mousedown",function(t){var i;u(t)||"HTML"!==t.target.nodeName||((i=n.getBody()).blur(),ui.setEditorTimeout(n,function(){i.focus()}))})}function b(){n.on("click",function(r){var u=r.target;/^(IMG|HR)$/.test(u.nodeName)&&"false"!==t.getContentEditableParent(u)&&(r.preventDefault(),n.selection.select(u),n.nodeChanged());"A"===u.nodeName&&t.hasClass(u,"mce-item-anchor")&&(r.preventDefault(),i.select(u))})}function o(){n.on("keydown",function(n){if(!u(n)&&n.keyCode===c&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return n.preventDefault(),!1}})}function k(){n.getParam("readonly")||n.on("BeforeExecCommand mousedown",function(){f("StyleWithCSS",!1);f("enableInlineTableEditing",!1);cpt(n)||f("enableObjectResizing",!1)})}function d(){n.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function g(){n.inline||n.on("keydown",function(){document.activeElement===document.body&&n.getWin().focus()})}function h(){n.inline||(n.contentStyles.push("body {min-height: 150px}"),n.on("click",function(t){var i;"HTML"===t.target.nodeName&&(11<l.ie?n.getBody().focus():(i=n.selection.getRng(),n.getBody().focus(),n.selection.setRng(i),n.selection.normalize(),n.nodeChanged()))}))}function nt(){l.mac&&n.on("keydown",function(t){!s.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),n.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})}function tt(){n.on("click",function(n){var t=n.target;do if("A"===t.tagName)return void n.preventDefault();while(t=t.parentNode)});n.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function it(){n.on("init",function(){n.dom.bind(n.getBody(),"submit",function(n){n.preventDefault()})})}function et(){var r=t.getAttribs(i.getStart().cloneNode(!1));return function(){var u=i.getStart();u!==n.getBody()&&(t.setAttrib(u,"style",null),rt(r,function(n){u.setAttributeNode(n.cloneNode(!0))}))}}function ot(){return!i.isCollapsed()&&t.getParent(i.getStart(),t.isBlock)!==t.getParent(i.getEnd(),t.isBlock)}function st(n){var r=t.create("body"),u=n.cloneContents();return r.appendChild(u),i.serializer.serialize(r,{format:"html"})}var rt=r.each,c=s.BACKSPACE,ht=s.DELETE,t=n.dom,i=n.selection,ct=n.parser,a=l.gecko,lt=l.ie,ut=l.webkit,v="data:text/mce-internal,",ft=lt?"Text":"URL",at=y;return te(n)?(ut&&(p(),b(),it(),e(),l.iOS&&(g(),h(),tt())),a&&(w(),k(),d(),nt())):(n.on("keydown",function(r){if(!u(r)&&r.keyCode===s.BACKSPACE){var e,o=(e=i.getRng()).startContainer,h=e.startOffset,c=t.getRoot(),f=o;if(e.collapsed&&0===h){for(;f&&f.parentNode&&f.parentNode.firstChild===f&&f.parentNode!==c;)f=f.parentNode;"BLOCKQUOTE"===f.tagName&&(n.formatter.toggle("blockquote",null,f),(e=t.createRng()).setStart(o,0),e.setEnd(o,0),i.setRng(e))}}}),n.on("keydown",function(i){var f,r,e,o,s=i.keyCode;u(i)||s!==ht&&s!==c||(f=n.selection.isCollapsed(),r=n.getBody(),f&&!t.isEmpty(r)||!f&&(e=st(n.selection.getRng()),(o=t.createRng()).selectNode(n.getBody()),e!==st(o))||(i.preventDefault(),n.setContent(""),r.firstChild&&t.isBlock(r.firstChild)?n.selection.setCursorLocation(r.firstChild,0):n.selection.setCursorLocation(r,0),n.nodeChanged()))}),l.windowsPhone||n.on("keyup focusin mouseup",function(n){s.modifierPressed(n)||i.normalize()},!0),ut&&(p(),b(),si(n)&&n.on("init",function(){f("DefaultParagraphSeparator",si(n))}),it(),o(),ct.addNodeFilter("br",function(n){for(var t=n.length;t--;)"Apple-interchange-newline"===n[t].attr("class")&&n[t].remove()}),l.iOS?(g(),h(),tt()):e()),11<=l.ie&&(h(),o()),l.ie&&(e(),f("AutoUrlDetect",!1),n.on("dragstart",function(t){var r,u,f;(r=t).dataTransfer&&(n.selection.isCollapsed()&&"IMG"===r.target.tagName&&i.select(r.target),0<(u=n.selection.getContent()).length&&(f=v+escape(n.id)+","+escape(u),r.dataTransfer.setData(ft,f)))}),n.on("drop",function(t){var f,o,e,r;u(t)||(f=t.dataTransfer&&(r=t.dataTransfer.getData(ft))&&0<=r.indexOf(v)?(r=r.substr(v.length).split(","),{id:unescape(r[0]),html:unescape(r[1])}):null)&&f.id!==n.id&&(t.preventDefault(),o=vrt(t.x,t.y,n.getDoc()),i.setRng(o),e=f.html,n.queryCommandSupported("mceInsertClipboardContent")?n.execCommand("mceInsertClipboardContent",!1,{content:e,internal:!0}):n.execCommand("mceInsertContent",!1,e))})),a&&(n.on("keydown",function(r){if(!u(r)&&r.keyCode===c&&n.getBody().getElementsByTagName("hr").length&&i.isCollapsed()&&0===i.getRng().startOffset){var e=i.getNode(),f=e.previousSibling;if("HR"===e.nodeName)return t.remove(e),void r.preventDefault();f&&f.nodeName&&"hr"===f.nodeName.toLowerCase()&&(t.remove(f),r.preventDefault())}}),w(),n.on("keypress",function(t){var i;if(!u(t)&&(8===t.keyCode||46===t.keyCode)&&ot())return i=et(),n.getDoc().execCommand("delete",!1,null),i(),t.preventDefault(),!1}),t.bind(n.getDoc(),"cut",function(t){var i;!u(t)&&ot()&&(i=et(),ui.setEditorTimeout(n,function(){i()}))}),k(),n.on("SetContent ExecCommand",function(n){"setcontent"!==n.type&&"mceInsertLink"!==n.command||rt(t.select("a"),function(n){var i=n.parentNode,r=t.getRoot();if(i.lastChild===n){for(;i&&!t.isBlock(i);){if(i.parentNode.lastChild!==i||i===r)return;i=i.parentNode}t.add(i,"br",{"data-mce-bogus":1})}})}),d(),nt(),o())),{refreshContentEditable:at,isHidden:function(){if(!a||n.removed)return!1;var t=n.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}}function nst(n){return yl(n,function(n){return!1===tr(n)})}function tsi(n){var t=n.settings;return nst({block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements,padd_empty_block_inline_children:t.format_empty_lines})}function isi(n){var t=n.settings,i=n.editorUpload.blobCache;return nst({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:n.inline?n.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:i,document:n.getDoc(),images_dataimg_filter:t.images_dataimg_filter})}function ttr(i){var r,u,f;i.bindPendingEventDelegates();i.initialized=!0;i.fire("Init");i.focus(!0);f=(u=i).dom.getRoot();u.inline||cw(u)&&u.selection.getStart(!0)!==f||wi(f).each(function(i){var r,e,o,f,s=i.getNode(),h=yh(s)?wi(s).getOr(i):i;l.browser.isIE()?(r=u,e=h.toRange(),o=t.fromDom(r.getBody()),f=(kkt(r)?n.from(e):n.none()).map(dkt).filter(grt(o)),r.bookmark=f.isSome()?f:r.bookmark):u.selection.setRng(h.toRange())});i.nodeChanged({initial:!0});i.execCallback("init_instance_callback",i);(r=i).settings.auto_focus&&ui.setEditorTimeout(r,function(){var n=!0===r.settings.auto_focus?r:r.editorManager.get(r.settings.auto_focus);n.destroyed||n.focus()},100)}function rsi(n){return(n.inline?n.ui:n.dom).styleSheetLoader}function usi(n){function s(){k.unloadAll(l);n.inline||n.ui.styleSheetLoader.unloadAll(c)}function h(){n.removed?s():n.on("remove",s)}var f,k=rsi(n),c=hpt(n),l=n.contentCSS,i,a,v,e,o,y,p,w,u,b;return 0<n.contentStyles.length&&(f="",r.each(n.contentStyles,function(n){f+=n+"\r\n"}),n.dom.addStyle(f)),b=ri.all((i=n,a=l,v=c,e=[new ri(function(n,t){return rsi(i).loadAll(a,n,t)})],i.inline?e:e.concat([new ri(function(n,t){return i.ui.styleSheetLoader.loadAll(v,n,t)})]))).then(h).catch(h),n.settings.content_style&&(y=(o=n).settings.content_style,p=t.fromDom(o.getBody()),w=pg(go(p)),du(u=t.fromTag("style"),"type","text/css"),ii(u,t.fromText(y)),ii(w,u),o.on("remove",function(){ni(u)})),b}function tst(n){var t;!0!==n.removed&&(te(t=n)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),ttr(n))}function ist(n,f){var rt=n.settings,ut=n.getElement(),p=n.getDoc(),l,w,ft,h,st,ct,lt,at,a,b,k,g,v,vt,et,o,nt,yt,tt,y,it,ot,wt,bt;rt.inline||(n.getElement().style.visibility=n.orgVisibility);f||n.inline||(p.open(),p.write(n.iframeHTML),p.close());n.inline&&(ust.addClass(ut,"mce-content-body"),n.contentDocument=p=document,n.contentWindow=window,n.bodyElement=ut,n.contentAreaContainer=ut);v=n.getBody();v.disabled=!0;n.readonly=!!rt.readonly;n.readonly||(n.inline&&"static"===ust.getStyle(v,"position",!0)&&(v.style.position="relative"),v.contentEditable=n.getParam("content_editable_state",!0));v.disabled=!1;n.editorUpload=yki(n);n.schema=ae(tsi(n));n.dom=d(p,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:rt.force_hex_style_colors,update_styles:!0,root_element:n.inline?n.getBody():null,collect:function(){return n.inline},schema:n.schema,contentCssCors:n.getParam("content_css_cors",!1,"boolean"),referrerPolicy:ept(n),onSetAttrib:function(t){n.fire("SetAttrib",t)}});n.parser=((w=yet(isi(l=n),l.schema)).addAttributeFilter("src,href,style,tabindex",function(n,t){for(var r,i,f=n.length,e=l.dom,u="data-mce-"+t;f--;)(i=(r=n[f]).attr(t))&&!r.attr(u)&&0!==i.indexOf("data:")&&0!==i.indexOf("blob:")&&("style"===t?((i=e.serializeStyle(e.parseStyle(i),r.name)).length||(i=null),r.attr(u,i),r.attr(t,i)):"tabindex"===t?(r.attr(u,i),r.attr(t,null)):r.attr(u,l.convertURL(i,t,r.name)))}),w.addNodeFilter("script",function(n){for(var i,r,t=n.length;t--;)i=n[t],r=i.attr("type")||"no/type",0!==r.indexOf("mce-")&&i.attr("type","mce-"+r)}),l.settings.preserve_cdata&&w.addNodeFilter("#cdata",function(n){for(var t,i=n.length;i--;)t=n[i],t.type=8,t.name="#comment",t.value="[CDATA["+l.dom.encode(t.value)+"]]"}),w.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(n){for(var t,i=n.length,r=l.schema.getNonEmptyElements();i--;)t=n[i],t.isEmpty(r)&&0===t.getAll("br").length&&(t.append(new ru("br",1)).shortEnded=!0)}),w);n.serializer=aii((h=(ft=n).settings,c(c(c({},isi(ft)),tsi(ft)),nst({url_converter:h.url_converter,url_converter_scope:h.url_converter_scope,element_format:h.element_format,entities:h.entities,entity_encoding:h.entity_encoding,indent:h.indent,indent_after:h.indent_after,indent_before:h.indent_before}))),n);n.selection=hii(n.dom,n.getWin(),n.serializer,n);n.annotator=obt(n);n.formatter=ari(n);n.undoManager=yri(n);n._nodeChangeDispatcher=new wni(n);n._selectionOverrides=gni(n);a=n;b=oc();k=hi(!1);g=yvt(function(n){a.fire("longpress",c(c({},n),{type:"longpress"}));k.set(!0)},400);a.on("touchstart",function(n){rei(n).each(function(t){g.cancel();var i={x:t.clientX,y:t.clientY,target:n.target};g.throttle(n);k.set(!1);b.set(i)})},!0);a.on("touchmove",function(n){g.cancel();rei(n).each(function(n){b.on(function(t){var i=n,r=t,u=Math.abs(i.clientX-r.x),f=Math.abs(i.clientY-r.y);(5<u||5<f)&&(b.clear(),k.set(!1),a.fire("longpresscancel"))})})},!0);a.on("touchend touchcancel",function(n){g.cancel();"touchcancel"!==n.type&&b.get().filter(function(t){return t.target.isEqualNode(n.target)}).each(function(){k.get()?n.preventDefault():a.fire("tap",c(c({},n),{type:"tap"}))})},!0);(lt=ct=n).on("click",function(n){lt.dom.getParent(n.target,"details")&&n.preventDefault()});(at=ct).parser.addNodeFilter("details",function(n){e(n,function(n){n.attr("data-mce-open",n.attr("open"));n.attr("open","open")})});at.serializer.addNodeFilter("details",function(n){e(n,function(n){var t=n.attr("data-mce-open");n.attr("open",ht(t)?t:null);n.attr("data-mce-open",null)})});te(n)||(st=n).on("click",function(n){var f,r,t,u,e;3<=n.detail&&(t=(f=st).selection.getRng(),u=i.fromRangeStart(t),e=i.fromRangeEnd(t),!i.isElementPosition(u)||doi(r=u.container())&&wi(r).each(function(n){return t.setStart(n.container(),n.offset())}),!i.isElementPosition(e)||doi(r=u.container())&&af(r).each(function(n){return t.setEnd(n.container(),n.offset())}),f.selection.setRng(gut(t)))});wt=te(vt=n)?hi(null):tni(vt);ot=wt;(it=n).addCommand("delete",function(){var n,t=ot;tei(n=it)||uk(n,!1)||rk(n,!1)||pk(n,t,!1)||tk(n,!1)||ob(n)||fk(n,!1)||bk(n,!1)||ik(n)||wk(n,!1)||(iei(n,"Delete"),bri(n))});it.addCommand("forwardDelete",function(){var n,t=ot;uk(n=it,!0)||rk(n,!0)||pk(n,t,!0)||tk(n,!0)||ob(n)||fk(n,!0)||bk(n,!0)||ik(n)||wk(n,!0)||iei(n,"ForwardDelete")});si(et=n)&&et.on("NodeChange",u(ogi,et));nt=(o=n).dom;yt=si(o);tt=o.getParam("placeholder",kvi.getAttrib(o.getElement(),"placeholder"),"string");y=function(n,i){var u,r,f;(function(n){if(pri(n)){var t=n.keyCode;return!wri(n)&&(s.metaKeyPressed(n)||n.altKey||112<=t&&t<=123||dt(ydi,t))}})(n)||(u=o.getBody(),r=!(pri(f=n)&&!(wri(f)||"keyup"===f.type&&229===f.keyCode))&&function(n,i,r){if(pt(t.fromDom(i),!1)){var f=""===r,u=i.firstElementChild;return!u||!n.getStyle(i.firstElementChild,"padding-left")&&!n.getStyle(i.firstElementChild,"padding-right")&&(f?!n.isBlock(u):r===u.nodeName.toLowerCase())}return!1}(nt,u,yt),""!==nt.getAttrib(u,dui)===r&&!i||(nt.setAttrib(u,dui,r?tt:null),nt.setAttrib(u,"aria-placeholder",r?tt:null),o.fire("PlaceholderToggle",{state:r}),o.on(r?"keydown":"keyup",y),o.off(r?"keyup":"keydown",y)))};tt&&o.on("init",function(n){y(n,!0);o.on("change SetContent ExecCommand",y);o.on("paste",function(n){return ui.setEditorTimeout(o,function(){return y(n)})})});bt=sbi(n),function(n){var t=n.settings,f=n.getDoc(),u=n.getBody(),i;n.fire("PreInit");t.browser_spellcheck||t.gecko_spellcheck||(f.body.spellcheck=!1,ust.setAttrib(u,"spellcheck","false"));n.quirks=ntr(n);n.fire("PostRender");i=n.getParam("directionality",lu.isRtl()?"rtl":void 0);void 0!==i&&(u.dir=i);t.protect&&n.on("BeforeSetContent",function(n){r.each(t.protect,function(t){n.content=n.content.replace(t,function(n){return"<!--mce:protected "+escape(n)+"-->"})})});n.on("SetContent",function(){n.addVisual(n.getBody())});n.on("compositionstart compositionend",function(t){n.composing="compositionstart"===t.type})}(n);bt.fold(function(){usi(n).then(function(){return tst(n)})},function(t){n.setProgressState(!0);usi(n).then(function(){t().then(function(){n.setProgressState(!1);tst(n)},function(t){n.notificationManager.open({type:"error",text:String(t)});tst(n)})})})}function itr(n,i){var f,e,o,u,h=n.translate("Rich Text Area"),r=(f=n.id,e=h,i.height,o=n.getParam("iframe_attrs",{}),se(u=t.fromTag("iframe"),o),se(u,{id:f+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),wp(u,"tox-edit-area__iframe"),u.dom),s;return r.onload=function(){r.onload=null;n.fire("load")},s=function(n,t){var i,r;return document.domain!==window.location.hostname&&l.browser.isIE()?(i=sri("mce"),n[i]=function(){ist(n)},r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+n.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()",bv.setAttrib(t,"src",r),!0):!1}(n,r),n.contentAreaContainer=i.iframeContainer,n.iframeElement=r,n.iframeHTML=function(n){var t=n.getParam("doctype","<!DOCTYPE html>")+"<html><head>";n.getParam("document_base_url","")!==n.documentBaseUrl&&(t+='<base href="'+n.documentBaseURI.getURI()+'" />');t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var i=ipt(n,"body_id","tinymce"),r=ipt(n,"body_class",""),u=n.translate(n.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return rpt(n)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+rpt(n)+'" />'),t+('<\/head><body id="'+i+'" class="mce-content-body '+r+'" data-id="'+n.id)+'" aria-label="'+u+'"><br><\/body><\/html>'}(n),bv.add(i.iframeContainer,r),s}function fsi(n){return n.replace(/^\-/,"")}function esi(n){return{editorContainer:n,iframeContainer:n,api:{}}}function rtr(n){var i,r,t,f,e,u,o,s=n.getElement();return n.orgDisplay=s.style.display,ht(wa(n))?n.theme.renderUI():ft(wa(n))?(r=(i=n).getElement(),(t=wa(i)(i,r)).editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||i.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||i.id+"_iframecontainer"),t.height=t.iframeHeight||r.offsetHeight,t):(o=(f=n).getElement(),f.inline?esi(null):(e=o,u=ysi.create("div"),ysi.insertAfter(u,e),esi(u)))}function osi(t){var o,v,p,i,b,u,k,d,f,s,g,a;t.fire("ScriptsLoaded");o=t;v=r.trim(fpt(o));p=o.ui.registry.getAll().icons;et(c(c({},db.get("default").icons),db.get(v).icons),function(n,t){w(p,t)||o.ui.registry.addIcon(t,n)});u=wa(i=t);ht(u)?(i.settings.theme=fsi(u),b=so.get(u),i.theme=new b(i,so.urls[u]),i.theme.init&&i.theme.init(i,so.urls[u]||i.documentBaseUrl.replace(/\/$/,""),i.$)):i.theme={};d=[];r.each(sit(k=t).split(/[ ,]/),function(n){psi(k,d,fsi(n))});var h=rtr(t),l=t,e=n.from(h.api).getOr({}),nt={show:n.from(e.show).getOr(y),hide:n.from(e.hide).getOr(y),disable:n.from(e.disable).getOr(y),isDisabled:n.from(e.isDisabled).getOr(it),enable:function(){l.mode.isReadOnly()||n.from(e.enable).map(dhi)}};return l.ui=c(c({},l.ui),nt),a={editorContainer:h.editorContainer,iframeContainer:h.iframeContainer},t.editorContainer=a.editorContainer||null,lki(t),t.inline?ist(t):(g=itr(f=t,s=a),s.editorContainer&&(bv.get(s.editorContainer).style.display=f.orgDisplay,f.hidden=bv.isHidden(s.editorContainer)),f.getElement().style.display="none",bv.setAttrib(f.id,"aria-hidden","true"),void(g||ist(f)))}function ssi(n){return"-"===n.charAt(0)}function hsi(t,i,r){return n.from(i).filter(function(n){return 0<n.length&&!db.has(n)}).map(function(i){return{url:t.editorManager.baseURL+"/icons/"+i+"/icons"+r+".js",name:n.some(i)}})}function utr(t,i){var o,s,f=df.ScriptLoader,c=f,l=i,h=function(){var u,c,v,o,p,h,l,s,a;p=f;s=opt(h=t);a=h.getParam("language_url","","string");!1===lu.hasCode(s)&&"en"!==s&&(l=""!==a?a:h.editorManager.baseURL+"/langs/"+s+".js",p.add(l,y,void 0,function(){bet(h,"LanguageLoadError",ket("language",l,s))}));v=f;e(function(n){for(var i=[],r=function(n){i.push(n)},t=0;t<n.length;t++)n[t].each(r);return i}([hsi(o=t,"default",i),n.from(o.getParam("icons_url","","string")).filter(function(n){return 0<n.length}).map(function(t){return{url:t,name:n.none()}}).orThunk(function(){return hsi(o,fpt(o),"")})]),function(n){v.add(n.url,y,void 0,function(){bet(o,"IconsLoadError",ket("icons",n.url,n.name.getOrUndefined()))})});u=t;c=i;r.each(u.getParam("external_plugins"),function(n,t){pu.load(t,n,y,void 0,function(){det(u,n,t)});u.settings.plugins+=" "+t});r.each(sit(u).split(/[ ,]/),function(n){var i,t;(n=r.trim(n))&&!pu.urls[n]&&(ssi(n)?(n=n.substr(1,n.length),i=pu.dependencies(n),r.each(i,function(n){var t=pu.createUrl({prefix:"plugins/",resource:n,suffix:"/plugin"+c+".js"},n);pu.load(t.resource,t,y,void 0,function(){det(u,t.prefix+t.resource+t.suffix,t.resource)})})):(t={prefix:"plugins/",resource:n,suffix:"/plugin"+c+".js"},pu.load(n,t,y,void 0,function(){det(u,t.prefix+t.resource+t.suffix,n)})))});f.loadQueue(function(){t.removed||osi(t)},t,function(){t.removed||osi(t)})},u=wa(o=t);ht(u)?(ssi(u)||w(so.urls,u)||((s=o.getParam("theme_url"))?so.load(u,o.documentBaseURI.toAbsolute(s)):so.load(u,"themes/"+u+"/theme"+l+".js")),c.loadQueue(function(){so.waitFor(u,h)})):h()}function csi(i){return function(r,u){return n.from(u).map(t.fromDom).filter(su).bind(function(u){return f=i,e=r,o=u.dom,rft(t.fromDom(o),function(t){return kg(i=t,f).orThunk(function(){return"font"===vt(i)?at(otr,f).bind(function(n){return ult(i,n)}):n.none()});var i},function(n){return nt(t.fromDom(e),n)}).or((s=u.dom,n.from(d.DOM.getStyle(s,i,!0))));var f,e,o,s}).getOr("")}}function ftr(n){return wi(n.getBody()).map(function(n){var t=n.container();return o(t)?t.parentNode:t})}function rst(i,r){return e=i,o=wst(n.some,r),f=e,n.from(f.selection.getRng()).bind(function(t){var i=f.getBody();return t.startContainer===i&&0===t.startOffset?n.none():n.from(f.selection.getStart(!0))}).orThunk(u(ftr,e)).map(t.fromDom).filter(su).bind(o);var e,o,f}function lsi(n,t){var i,f,u;return/^[0-9.]+$/.test(t)?(i=parseInt(t,10),1<=i&&i<=7)?(f=r.explode(n.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),u=r.explode(n.getParam("font_size_classes","")),u?u[i-1]||t:f[i-1]||t):t:t}function bi(n){this.commands={state:{},exec:{},value:{}};this.editor=n;this.setupCommands(n)}function atr(n,t,i){var r,f,u,e,o,s;pvt(n,t)&&!1===i?(f=t,pp(r=n)?r.dom.classList.remove(f):(o=f,0<(s=p(nit(e=r,"class"),function(n){return n!==o})).length?du(e,"class",s.join(" ")):he(e,"class")),0===(pp(u=r)?u.dom.classList:nit(u,"class")).length&&he(u,"class")):i&&wp(n,t)}function fst(n,t,i){try{n.getDoc().execCommand(t,!1,String(i))}catch(n){}}function ud(n,t){n.dom.contentEditable=t?"true":"false"}function vtr(i,r){var o,f,u=t.fromDom(i.getBody());atr(u,"mce-content-readonly",r);r?(i.selection.controlSelection.hideResizeRect(),i._selectionOverrides.hideFakeCaret(),n.from(i.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")}),ud(u,!(i.readonly=!0)),e(gi(u,'*[contenteditable="true"]'),function(n){du(n,nh,"true");ud(n,!1)})):(ud(u,!(i.readonly=!1)),e(gi(u,"*["+nh+'="true"]'),function(n){he(n,nh);ud(n,!0)}),fst(i,"StyleWithCSS",!1),fst(i,"enableInlineTableEditing",!1),fst(i,"enableObjectResizing",!1),(as(o=i)||(f=o,drt(go(t.fromDom(f.getElement()))).filter(function(n){return!(void 0!==(t=n.dom.classList)&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body")))&&kw(f,n.dom);var t}).isSome()))&&i.focus(),i.selection.setRng(i.selection.getRng()),i.nodeChanged())}function gs(n){return n.readonly}function bsi(n){n.parser.addAttributeFilter("contenteditable",function(t){gs(n)&&e(t,function(n){n.attr(nh,n.attr("contenteditable"));n.attr("contenteditable","false")})});n.serializer.addAttributeFilter(nh,function(t){gs(n)&&e(t,function(n){n.attr("contenteditable",n.attr(nh))})});n.serializer.addTempAttr(nh)}function th(n){this.bindings={};this.settings=n||{};this.scope=this.settings.scope||this;this.toggleEvent=this.settings.toggleEvent||it}function kv(n){return n._eventDispatcher||(n._eventDispatcher=new est({scope:n,toggleEvent:function(t,i){est.isNative(t)&&n.toggleNativeEvent&&n.toggleNativeEvent(t,i)}})),n._eventDispatcher}function fd(n,t){if("selectionchange"===t)return n.getDoc();if(!n.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return n.getDoc().documentElement;var i=lpt(n);return i?(n.eventRoot||(n.eventRoot=od.select(i)[0]),n.eventRoot):n.getBody()}function ksi(n,i,r){var u,f,e,o;n.hidden||gs(n)?gs(n)&&(u=n,"click"!==(f=r).type||s.metaKeyPressed(f)||(e=t.fromDom(f.target),o=u,fn(e,"a",function(n){return nt(n,t.fromDom(o.getBody()))}).bind(function(n){return ult(n,"href")}).each(function(n){var i,t;f.preventDefault();/^#/.test(n)?(i=u.dom.select(n+',[name="'+(wo(t=n,"#")?t.substring(1):t)+'"]')).length&&u.selection.scrollIntoView(i[0],!0):window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):n.fire(i,r)}function dsi(n,t){var i,r;n.delegates||(n.delegates={});n.delegates[t]||n.removed||(r=fd(n,t),lpt(n)?(ih||(ih={},n.editorManager.on("removeEditor",function(){n.editorManager.activeEditor||ih&&(et(ih,function(t,i){n.dom.unbind(fd(n,i))}),ih=null)})),ih[t]||(ih[t]=i=function(i){for(var f,e=i.target,r=n.editorManager.get(),u=r.length;u--;)f=r[u].getBody(),(f===e||od.isChildOf(e,f))&&ksi(r[u],t,i)},od.bind(r,t,i))):(od.bind(r,t,i=function(i){ksi(n,t,i)}),n.delegates[t]=i))}function gsi(n,t,i,r){var f=i[t.get()],u=i[r];try{u.activate()}catch(n){return void console.error("problem while activating editor mode "+r+":",n)}f.deactivate();f.editorReadOnly!==u.editorReadOnly&&vtr(n,u.editorReadOnly);t.set(r);n.fire("SwitchMode",{mode:r})}function ptr(n){var i,t={},r;ost(sst(n.toLowerCase(),"+"),function(n){n in thi?t[n]=!0:/^[0-9]{2,}$/.test(n)?t.keyCode=parseInt(n,10):(t.charCode=n.charCodeAt(0),t.keyCode=btr[n]||n.toUpperCase().charCodeAt(0))});r=[t.keyCode];for(i in thi)t[i]?r.push(i):t[i]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,l.mac?t.ctrl=!0:t.shift=!0),t.meta&&(l.mac?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t}function fe(n){this.shortcuts={};this.pendingPatterns=[];this.editor=n;var t=this;n.on("keyup keypress keydown",function(n){(t.hasModifier(n)||t.isFunctionKey(n))&&!n.isDefaultPrevented()&&(ost(t.shortcuts,function(i){if(t.matchShortcut(n,i))return t.pendingPatterns=i.subpatterns.slice(0),"keydown"===n.type&&t.executeShortcutAction(i),!0}),t.matchShortcut(n,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===n.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}function b(n,t,i){function u(n,t){return function(i,r){return n[i.toLowerCase()]=c(c({},r),{type:t})}}var r,f,e,ft,b,et,k,ot,st,ht,ct,g,lt,at,nt,vt,yt,tt,o=this,s,h,v,rt,p,ut;this.plugins={};this.contentCSS=[];this.contentStyles=[];this.loadedCSS={};this.isNotDirty=!1;this.editorManager=i;this.documentBaseUrl=i.documentBaseURL;rhi(this,nhi);this.settings=(ht=(st=this).documentBaseUrl,ct=i.defaultSettings,lt=ht,at=uki,nt=st,vt={id:n,theme:"silver",toolbar_mode:vii(g=t,"floating"),plugins:"",document_base_url:lt,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:nt.convertURL,url_converter_scope:nt},yt=c(c({},vt),at?uri:{}),!1!==(tt=dbi(rri||fki,rri,yt,ct,g)).deprecation_warnings&&bbi(g,tt),tt);this.settings.suffix&&(i.suffix=this.settings.suffix);this.suffix=i.suffix;this.settings.base_url&&i._setBaseUrl(this.settings.base_url);this.baseUri=i.baseURI;this.settings.referrer_policy&&(df.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),d.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy));rr.languageLoad=this.settings.language_load;rr.baseURL=i.baseURL;this.id=n;this.setDirty(!1);this.documentBaseURI=new uo(this.settings.document_base_url,{base_uri:this.baseUri});this.baseURI=this.baseUri;this.inline=!!this.settings.inline;this.shortcuts=new ihi(this);this.editorCommands=new wsi(this);this.settings.cache_suffix&&(l.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,""));this.ui={registry:{addAutocompleter:(b={},(r={addButton:u(f={},"button"),addGroupToolbarButton:u(f,"grouptoolbarbutton"),addToggleButton:u(f,"togglebutton"),addMenuButton:u(f,"menubutton"),addSplitButton:u(f,"splitbutton"),addMenuItem:u(e={},"menuitem"),addNestedMenuItem:u(e,"nestedmenuitem"),addToggleMenuItem:u(e,"togglemenuitem"),addAutocompleter:u(ft={},"autocompleter"),addContextMenu:u(et={},"contextmenu"),addContextToolbar:u(k={},"contexttoolbar"),addContextForm:u(k,"contextform"),addSidebar:u(ot={},"sidebar"),addIcon:function(n,t){return b[n.toLowerCase()]=t},getAll:function(){return{buttons:f,menuItems:e,icons:b,popups:ft,contextMenus:et,contextToolbars:k,sidebars:ot}}}).addAutocompleter),addButton:r.addButton,addContextForm:r.addContextForm,addContextMenu:r.addContextMenu,addContextToolbar:r.addContextToolbar,addIcon:r.addIcon,addMenuButton:r.addMenuButton,addMenuItem:r.addMenuItem,addNestedMenuItem:r.addNestedMenuItem,addSidebar:r.addSidebar,addSplitButton:r.addSplitButton,addToggleButton:r.addToggleButton,addGroupToolbarButton:r.addGroupToolbarButton,addToggleMenuItem:r.addToggleMenuItem,getAll:r.getAll},styleSheetLoader:void 0,show:y,hide:y,enable:y,disable:y,isDisabled:it};ut=(rt=hi("design"),p=hi({design:{activate:y,deactivate:y,editorReadOnly:!1},readonly:{activate:y,deactivate:y,editorReadOnly:!0}}),(h=s=this).serializer?bsi(h):h.on("PreInit",function(){bsi(h)}),(v=s).on("ShowCaret",function(n){gs(v)&&n.preventDefault()}),v.on("ObjectSelected",function(n){gs(v)&&n.preventDefault()}),{isReadOnly:function(){return gs(s)},set:function(n){return function(n,t,i,r){if(r!==i.get()){if(!w(t,r))throw new Error("Editor mode '"+r+"' is invalid");n.initialized?gsi(n,i,t,r):n.on("init",function(){return gsi(n,i,t,r)})}}(s,p.get(),rt,n)},get:function(){return rt.get()},register:function(n,t){p.set(function(n,t,i){var r;if(dt(wtr,t))throw new Error("Cannot override default mode "+t);return c(c({},n),((r={})[t]=c(c({},i),{deactivate:function(){try{i.deactivate()}catch(n){console.error("problem while deactivating editor mode "+t+":",n)}}}),r))}(p.get(),n,t))}});this.mode=ut;this.setMode=ut.set;i.fire("SetupEditor",{editor:this});this.execCallback("setup",this);this.$=a.overrideDefaults(function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}})}function fhi(n){var t=n.type;pf(ao.get(),function(i){switch(t){case"scroll":i.fire("ScrollWindow",n);break;case"resize":i.fire("ResizeWindow",n)}})}function ehi(n){n!==shi&&(n?a(window).on("resize scroll",fhi):a(window).off("resize scroll",fhi),shi=n)}function ohi(n){var i=nr,t;for(delete lo[n.id],t=0;t<lo.length;t++)if(lo[t]===n){lo.splice(t,1);break}return nr=p(nr,function(t){return n!==t}),ao.activeEditor===n&&(ao.activeEditor=0<nr.length?nr[0]:null),ao.focusedEditor===n&&(ao.focusedEditor=null),i.length!==nr.length}function hhi(n,t,i){var u=t.x,f=t.y,e=n.w,o=n.h,s=t.w,h=t.h,r=(i||"").split("");return"b"===r[0]&&(f+=h),"r"===r[1]&&(u+=s),"c"===r[0]&&(f+=cd(h/2)),"c"===r[1]&&(u+=cd(s/2)),"b"===r[3]&&(f-=o),"r"===r[4]&&(u-=e),"c"===r[3]&&(f-=cd(o/2)),"c"===r[4]&&(u-=cd(e/2)),hl(u,f,e,o)}function chi(){}function hl(n,t,i,r){return{x:n,y:t,w:i,h:r}}function pd(n){this.settings=vhi({},n);this.count=0}var ll=function(n){return{eq:n}},bhi=ll(function(n,t){return n===t}),gd=ll(function(n,t){if(n===t)return!0;var i=ast(n);return i===ast(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(i)?n===t:"array"===i?vst(gd).eq(n,t):"object"===i&&yst(gd).eq(n,t))}),ht=kd("string"),eh=kd("object"),br=kd("array"),al=pst(null),bst=dd("boolean"),tr=pst(void 0),ft=dd("function"),oh=dd("number"),it=f(!1),lt=f(!0),ty={fold:function(n){return n()},isSome:it,isNone:lt,getOr:ki,getOrThunk:kst,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.");},getOrNull:f(null),getOrUndefined:f(void 0),or:ki,orThunk:kst,map:tg,each:y,bind:tg,exists:it,forall:lt,filter:function(){return ty},toArray:function(){return[]},toString:f("none()")},eg=function(n){function u(){return r}function i(t){return t(n)}var t=f(n),r={fold:function(t,i){return i(n)},isSome:lt,isNone:it,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:u,orThunk:u,map:function(t){return eg(t(n))},each:function(t){t(n)},bind:i,exists:i,forall:i,filter:function(t){return t(n)?r:ty},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return r},n={some:eg,none:tg,from:function(n){return null==n?ty:eg(n)}},og=Array.prototype.slice,ghi=Array.prototype.indexOf,nci=Array.prototype.push,bu=ft(Array.from)?Array.from:function(n){return og.call(n)},lh=Object.keys,tci=Object.hasOwnProperty,ici=function(n,t){var i={};return et(n,function(n,r){var u=t(n,r);i[u.k]=u.v}),i},w=function(n,t){return tci.call(n,t)},sg=Array.isArray,c=function(){return(c=Object.assign||function(n){for(var r,i,t=1,u=arguments.length;t<u;t++)for(i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}).apply(this,arguments)},cg=function(n,t){return{major:n,minor:t}},bl={nu:cg,detect:function(n,t){function u(n){return Number(i.replace(r,"$"+n))}var i,r,f=String(t).toLowerCase();return 0===n.length?wht():(r=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i],r.test(t))return r}(n,i=f))?cg(u(1),u(2)):{major:0,minor:0}},unknown:wht},wo=function(n,t){return""===(i=t)||n.length>=i.length&&n.substr(0,0+i.length)===i;var i},lg=hg(/^\s+|\s+$/g),uci=hg(/^\s+/g),dht=hg(/\s+$/g),ag=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ght={browsers:f([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return yi(n,"edge/")&&yi(n,"chrome")&&yi(n,"safari")&&yi(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ag],search:function(n){return yi(n,"chrome")&&!yi(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return yi(n,"msie")||yi(n,"trident")}},{name:"Opera",versionRegexes:[ag,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:wf("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:wf("firefox")},{name:"Safari",versionRegexes:[ag,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(yi(n,"safari")||yi(n,"mobile/"))&&yi(n,"applewebkit")}}]),oses:f([{name:"Windows",search:wf("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return yi(n,"iphone")||yi(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:wf("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:wf("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:wf("linux"),versionRegexes:[]},{name:"Solaris",search:wf("sunos"),versionRegexes:[]},{name:"FreeBSD",search:wf("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:wf("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},nct="Firefox",fci=function(){return bht({current:void 0,version:bl.unknown()})},eci=bht,tct=(f("Edge"),f("Chrome"),f("IE"),f("Opera"),f(nct),f("Safari"),"Windows"),ict="Android",rct="Solaris",uct="FreeBSD",fct="ChromeOS",oci=function(){return kht({current:void 0,version:bl.unknown()})},sci=kht,kr=(f(tct),f("iOS"),f(ict),f("Linux"),f("OSX"),f(rct),f(uct),f(fct),hht(function(){return i=navigator.userAgent,p=n.from(navigator.userAgentData),w=rci,a=ght.browsers(),g=ght.oses(),v=p.bind(function(n){return t=a,uht(n.brands,function(n){var i=n.brand.toLowerCase();return gt(t,function(n){var t;return i===(null===(t=n.brand)||void 0===t?void 0:t.toLowerCase())}).map(function(t){return{current:t.name,version:bl.nu(parseInt(n.version,10),0)}})});var t}).orThunk(function(){return cht(a,n=i).map(function(t){var i=bl.detect(t.versionRegexes,n);return{current:t.name,version:i}});var n}).fold(fci,eci),y=cht(g,b=i).map(function(n){var t=bl.detect(n.versionRegexes,b);return{current:n.name,version:t}}).fold(oci,sci),{browser:v,os:y,deviceType:(k=v,o=i,s=w,r=(t=y).isiOS()&&!0===/ipad/i.test(o),u=t.isiOS()&&!r,d=(h=t.isiOS()||t.isAndroid())||s("(pointer:coarse)"),e=r||!u&&h&&s("(min-device-width:768px)"),c=u||h&&!e,l=k.isSafari()&&t.isiOS()&&!1===/safari/i.test(o),{isiPad:f(r),isiPhone:f(u),isTablet:f(e),isPhone:f(c),isTouch:f(d),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:f(l),isDesktop:f(!c&&!e&&!l)})};var i,p,w,b,t,k,o,s,r,u,h,d,e,c,l,a,g,v,y})),ect=navigator.userAgent,vg=kr(),pi=vg.browser,sr=vg.os,ku=vg.deviceType,hci=/WebKit/.test(ect)&&!pi.isEdge(),cci="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,lci=-1!==ect.indexOf("Windows Phone"),l={opera:pi.isOpera(),webkit:hci,ie:!(!pi.isIE()&&!pi.isEdge())&&pi.version.major,gecko:pi.isFirefox(),mac:sr.isOSX()||sr.isiOS(),iOS:ku.isiPad()||ku.isiPhone(),android:sr.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:pi.isIE()?document.documentMode||7:10,fileApi:cci,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!pi.isIE(),desktop:ku.isDesktop(),windowsPhone:lci,browser:{current:pi.current,version:pi.version,isChrome:pi.isChrome,isEdge:pi.isEdge,isFirefox:pi.isFirefox,isIE:pi.isIE,isOpera:pi.isOpera,isSafari:pi.isSafari},os:{current:sr.current,version:sr.version,isAndroid:sr.isAndroid,isChromeOS:sr.isChromeOS,isFreeBSD:sr.isFreeBSD,isiOS:sr.isiOS,isLinux:sr.isLinux,isOSX:sr.isOSX,isSolaris:sr.isSolaris,isWindows:sr.isWindows},deviceType:{isDesktop:ku.isDesktop,isiPad:ku.isiPad,isiPhone:ku.isiPhone,isPhone:ku.isPhone,isTablet:ku.isTablet,isTouch:ku.isTouch,isWebView:ku.isWebView}},aci=/^\s*|\s*$/g,oct=function(n,t,i,r){r=r||this;n&&pl(n=i?n[i]:n,function(n,u){return!1!==t.call(r,n,u,i)&&void oct(n,t,i,r)})},r={trim:aht,isArray:sg,is:vht,toArray:function(n){if(sg(n))return n;for(var i=[],t=0,r=n.length;t<r;t++)i[t]=n[t];return i},makeMap:function(n,t,i){var r;for(t=t||",",i=i||{},r=(n="string"==typeof(n=n||[])?n.split(t):n).length;r--;)i[n[r]]={};return i},each:pl,map:fg,grep:ch,inArray:oht,hasOwn:w,extend:function(n){for(var r,u,e,f,i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];for(r=0;r<i.length;r++){f=i[r];for(u in f)w(f,u)&&void 0!==(e=f[u])&&(n[u]=e)}return n},create:function(n,t,i){var f,o,s,e=this,h=0,r=(n=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(n))[3].match(/(^|\.)(\w+)$/i)[2],u=e.createNS(n[3].replace(/\.\w+$/,""),i);if(!u[r]){if("static"===n[2])return u[r]=t,void(this.onCreate&&this.onCreate(n[2],n[3],u[r]));t[r]||(t[r]=function(){},h=1);u[r]=t[r];e.extend(u[r].prototype,t);n[5]&&(f=e.resolve(n[5]).prototype,o=n[5].match(/\.(\w+)$/i)[1],s=u[r],u[r]=h?function(){return f[o].apply(this,arguments)}:function(){return this.parent=f[o],s.apply(this,arguments)},u[r].prototype[r]=u[r],e.each(f,function(n,t){u[r].prototype[t]=f[t]}),e.each(t,function(n,t){f[t]?u[r].prototype[t]=function(){return this.parent=f[t],n.apply(this,arguments)}:t!==r&&(u[r].prototype[t]=n)}));e.each(t.static,function(n,t){u[r][t]=n})}},walk:oct,createNS:function(n,t){var i,r;for(t=t||window,n=n.split("."),i=0;i<n.length;i++)t[r=n[i]]||(t[r]={}),t=t[r];return t},resolve:function(n,t){var i,r;for(t=t||window,i=0,r=(n=n.split(".")).length;i<r&&(t=t[n[i]]);i++);return t},explode:function(n,t){return!n||vht(n,"array")?n:fg(n.split(t||","),aht)},_addCacheSuffix:function(n){var t=l.cacheSuffix;return t&&(n+=(-1===n.indexOf("?")?"?":"&")+t),n}},t={fromHtml:function(n,t){var i=(t||document).createElement("div");if(i.innerHTML=n,!i.hasChildNodes()||1<i.childNodes.length)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return wl(i.childNodes[0])},fromTag:function(n,t){var i=(t||document).createElement(n);return wl(i)},fromText:function(n,t){var i=(t||document).createTextNode(n);return wl(i)},fromDom:wl,fromPoint:function(t,i,r){return n.from(t.dom.elementFromPoint(i,r)).map(wl)}},k,s,rkt,ww,ukt,fkt,hdt,tb,wd,bd;"undefined"!=typeof window||Function("return this;")();var su=ey(1),gr=ey(3),pci=ey(9),wci=ey(11),nu=function(n){return ut(n.dom.childNodes,t.fromDom)},slt=ft(Element.prototype.attachShadow)&&ft(Node.prototype.getRootNode),bci=f(slt),go=slt?function(n){return t.fromDom(n.dom.getRootNode())}:vh,ii=function(n,t){n.dom.appendChild(t.dom)},ni=function(n){var t=n.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ta=function(i){var r=gr(i)?i.dom.parentNode:i.dom;if(null==r||null===r.ownerDocument)return!1;var f=r.ownerDocument,e=t.fromDom(r),u=go(e);return(pct(u)?n.some(u):n.none()).fold(function(){return f.body.contains(r)},wst(ta,vci))},hlt=function(n,t){return{left:n,top:t,translate:function(i,r){return hlt(n+i,t+r)}}},ph=hlt,dg=function(n){var t,i=n.dom,r=i.ownerDocument.body;return r===i?ph(r.offsetLeft,r.offsetTop):ta(n)?(t=i.getBoundingClientRect(),ph(t.left,t.top)):ph(0,0)},h=gl(1),gg=dr(["textarea","input"]),o=gl(3),kci=gl(8),nn=gl(9),tn=gl(11),st=dr(["br"]),dci=dr(["img"]),gu=ilt("true"),rt=ilt("false"),yy=dr(["td","th"]),tu=dr(["video","audio","object","embed"]),clt=function(n,t){return vy(n)?n.style.getPropertyValue(t):""},gci=kr().browser,llt={},rn={exports:llt};!function(){var n=this,t=function(){function l(){}function n(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];h(n,this)}function s(i,r){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,n._immediateFn(function(){var n,f=1===i._state?r.onFulfilled:r.onRejected;if(null!==f){try{n=f(i._value)}catch(n){return void t(r.promise,n)}u(r.promise,n)}else(1===i._state?u:t)(r.promise,i._value)})):i._deferreds.push(r)}function u(i,r){var u,e,o;try{if(r===i)throw new TypeError("A promise cannot be resolved with itself.");if(r&&("object"==typeof r||"function"==typeof r)){if(u=r.then,r instanceof n)return i._state=3,i._value=r,void f(i);if("function"==typeof u)return void h((e=u,o=r,function(){e.apply(o,arguments)}),i)}i._state=1;i._value=r;f(i)}catch(r){t(i,r)}}function t(n,t){n._state=2;n._value=t;f(n)}function f(t){2===t._state&&0===t._deferreds.length&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var i=0,r=t._deferreds.length;i<r;i++)s(t,t._deferreds[i]);t._deferreds=null}function a(n,t,i){this.onFulfilled="function"==typeof n?n:null;this.onRejected="function"==typeof t?t:null;this.promise=i}function h(n,i){var r=!1;try{n(function(n){r||(r=!0,u(i,n))},function(n){r||(r=!0,t(i,n))})}catch(n){if(r)return;r=!0;t(i,n)}}var i,r,e,o={exports:{}},c;return i=o,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e=setTimeout,n.prototype.catch=function(n){return this.then(null,n)},n.prototype.then=function(n,t){var i=new this.constructor(l);return s(this,new a(n,t,i)),i},n.all=function(t){var i=Array.prototype.slice.call(t);return new n(function(n,t){if(0===i.length)return n([]);for(var u=i.length,r=0;r<i.length;r++)!function f(r,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,function(n){f(r,n)},t),0}i[r]=e;0==--u&&n(i)}catch(e){t(e)}}(r,i[r])})},n.resolve=function(t){return t&&"object"==typeof t&&t.constructor===n?t:new n(function(n){n(t)})},n.reject=function(t){return new n(function(n,i){i(t)})},n.race=function(t){return new n(function(n,i){for(var r=0,u=t.length;r<u;r++)t[r].then(n,i)})},n._immediateFn="function"==typeof setImmediate?function(n){setImmediate(n)}:function(n){e(n,0)},n._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)},n._setImmediateFn=function(t){n._immediateFn=t},n._setUnhandledRejectionFn=function(t){n._unhandledRejectionFn=t},i.exports?i.exports=n:r.Promise||(r.Promise=n),c=o.exports,{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||c}};"object"==typeof llt&&void 0!==rn?rn.exports=t():(n="undefined"!=typeof globalThis?globalThis:n||self).EphoxContactWrapper=t()}();var vlt=rn.exports.boltExport,un=function(t){function f(n){u()?o(n):r.push(n)}var i=n.none(),r=[],u=function(){return i.isSome()},o=function(n){i.each(function(t){setTimeout(function(){n(t)},0)})};return t(function(t){u()||(i=n.some(t),e(r,o),r=[])}),{get:f,map:function(n){return un(function(t){f(function(i){t(n(i))})})},isReady:u}},tli={nu:un,pure:function(n){return un(function(t){t(n)})}},ia=function(n){function t(t){n().then(t,nli)}return{map:function(t){return ia(function(){return n().then(t)})},bind:function(t){return ia(function(){return n().then(function(n){return t(n).toPromise()})})},anonBind:function(t){return ia(function(){return n().then(function(){return t.toPromise()})})},toLazy:function(){return tli.nu(t)},toCached:function(){var t=null;return ia(function(){return t=null===t?n():t})},toPromise:n,get:t}},wh=function(t){return{isValue:lt,isError:it,getOr:f(t),getOrThunk:f(t),getOrDie:f(t),or:function(){return wh(t)},orThunk:function(){return wh(t)},fold:function(n,i){return i(t)},map:function(n){return wh(n(t))},mapError:function(){return wh(t)},each:function(n){n(t)},bind:function(n){return n(t)},exists:function(n){return n(t)},forall:function(n){return n(t)},toOptional:function(){return n.some(t)}}},ra=function(t){return{isValue:it,isError:lt,getOr:ki,getOrThunk:function(n){return n()},getOrDie:function(){return n=String(t),function(){throw new Error(n);}();var n},or:ki,orThunk:function(n){return n()},fold:function(n){return n(t)},map:function(){return ra(t)},mapError:function(n){return ra(n(t))},each:y,bind:function(){return ra(t)},exists:it,forall:lt,toOptional:n.none}},ylt={value:wh,error:ra,fromOption:function(n,t){return n.fold(function(){return ra(t)},wh)}};ce([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var on,sn,ili=function(n,i){return gt(n.dom.childNodes,function(n){return i(t.fromDom(n))}).map(t.fromDom)},ri=window.Promise||vlt,ui={requestAnimationFrame:function(n,t){on?on.then(n):on=new ri(function(n){(function(n,t){for(var i=window.requestAnimationFrame,u=["ms","moz","webkit"],r=0;r<u.length&&!i;r++)i=window[u[r]+"RequestAnimationFrame"];(i=i||function(n){window.setTimeout(n,0)})(n,t)})(n,t=t||document.body)}).then(n)},setTimeout:en,setInterval:blt,setEditorTimeout:function(n,t,i){return en(function(){n.removed||t()},i)},setEditorInterval:function(n,t,i){var r=blt(function(){n.removed?clearInterval(r):t()},i);return r},debounce:klt,throttle:klt,clearInterval:function(n){return clearInterval(n)},clearTimeout:function(n){return clearTimeout(n)}},glt=(sn=new WeakMap,{forElement:function(t,i){var r=go(t).dom;return n.from(sn.get(r)).getOrThunk(function(){var n=dlt(r,i);return sn.set(r,n),n})}}),yt=(ns.prototype.current=function(){return this.node},ns.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},ns.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},ns.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},ns.prototype.findSibling=function(n,t,i,r){var f,u;if(n){if(!r&&n[t])return n[t];if(n!==this.rootNode){if(f=n[i])return f;for(u=n.parentNode;u&&u!==this.rootNode;u=u.parentNode)if(f=u[i])return f}}},ns.prototype.findPreviousNode=function(n,t,i,r){var f,e,u;if(n&&(f=n[i],!this.rootNode||f!==this.rootNode)){if(f){if(!r)for(u=f[t];u;u=u[t])if(!u[t])return u;return f}return(e=n.parentNode)&&e!==this.rootNode?e:void 0}},ns);var rli=le(["h1","h2","h3","h4","h5","h6"]),tf=le(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),lat=le(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),kn=le(["ul","ol","dl"]),fa=le(["li","dd","dt"]),uli=le(["thead","tbody","tfoot"]),np=le(["td","th"]),tp=le(["pre","script","textarea","style"]),dn="﻿",ir=" ",fi=dn,ip=function(n){return n===dn},ve=function(n){return n.replace(/\uFEFF/g,"")},fli=h,nc=o,rp=function(n){return nc(n)&&n.data[0]===fi},up=function(n){return nc(n)&&n.data[n.data.length-1]===fi},aat=gu,eli=rt,oli=st,sli=o,hli=dr(["script","style","textarea"]),vat=dr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),cli=dr(["table"]),lli=hr,gn=function(n){return!1===(h(t=n)&&"true"===t.getAttribute("unselectable"))&&eli(n);var t},ali=/^[ \t\r\n]*$/,vli=tlt("data-mce-bookmark"),yli=tlt("data-mce-bogus"),pli=function(n){return h(n)&&"all"===n.getAttribute("data-mce-bogus")},ntt=function(n,t,i){var f=i||t,e,v,y,s,p,w,r,c,l,b,k,a,u;if(h(t)&&rat(t))return t;for(a=t.childNodes,u=a.length-1;0<=u;u--)ntt(n,a[u],f);return!h(t)||1===(e=t.childNodes).length&&rat(e[0])&&t.parentNode.insertBefore(e[0],t),tn(y=t)||nn(y)||dy(t,f)||h(v=t)&&0<v.childNodes.length||(p=f,o(s=t)&&0<s.data.length&&(c=new yt(w=s,r=p).prev(!1),l=new yt(w,r).next(!1),b=tr(c)||iat(c,r),k=tr(l)||iat(l,r),b&&k))||n.remove(t),t},wli=r.makeMap,fp=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ep=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bli=/[<>&\"\']/g,kli=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,dli={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},is={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},gli={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ttt=uat("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ye={encodeRaw:fat,encodeAllRaw:function(n){return(""+n).replace(bli,function(n){return is[n]||n})},encodeNumeric:eat,encodeNamed:vn,getEncodeFunc:function(n,t){var r=uat(t)||ttt,i=wli(n.replace(/\+/g,","));return i.named&&i.numeric?function(n,t){return n.replace(t?fp:ep,function(n){return void 0!==is[n]?is[n]:void 0!==r[n]?r[n]:1<n.length?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":"&#"+n.charCodeAt(0)+";"})}:i.named?t?function(n,t){return vn(n,t,r)}:vn:i.numeric?eat:fat},decode:function(n){return n.replace(kli,function(n,i){return i?65535<(i="x"===i.charAt(0).toLowerCase()?parseInt(i.substr(1),16):parseInt(i,10))?(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i))):dli[i]||String.fromCharCode(i):gli[n]||ttt[n]||(r=n,(u=t.fromTag("div").dom).innerHTML=r,u.textContent||u.innerText||r);var r,u})}},rs={},nai={},tc=r.makeMap,ei=r.each,itt=r.extend,yat=r.explode,tai=r.inArray,iai={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},rai=/^(?:mouse|contextmenu)|click/,ic=(rf.prototype.bind=function(n,t,i,r){function y(n){u.executeHandlers(gh(n||l.event),e)}var e,o,f,h,s,c,u=this,l=window,a,v;if(n&&3!==n.nodeType&&8!==n.nodeType){for(n[u.expando]?e=n[u.expando]:(e=u.count++,n[u.expando]=e,u.events[e]={}),r=r||n,a=t.split(" "),v=a.length;v--;)s=y,h=c=!1,"DOMContentLoaded"===(f=a[v])&&(f="ready"),u.domLoaded&&"ready"===f&&"complete"===n.readyState?i.call(r,gh({type:f})):(u.hasMouseEnterLeave||(h=u.mouseEnterLeave[f])&&(s=function(n){var i=n.currentTarget,t=n.relatedTarget;if(t&&i.contains)t=i.contains(t);else for(;t&&t!==i;)t=t.parentNode;t||((n=gh(n||l.event)).type="mouseout"===n.type?"mouseleave":"mouseenter",n.target=i,u.executeHandlers(n,e))}),u.hasFocusIn||"focusin"!==f&&"focusout"!==f||(c=!0,h="focusin"===f?"focus":"blur",s=function(n){(n=gh(n||l.event)).type="focus"===n.type?"focusin":"focusout";u.executeHandlers(n,e)}),(o=u.events[e][f])?"ready"===f&&u.domLoaded?i(gh({type:f})):o.push({func:i,scope:r}):(u.events[e][f]=o=[{func:i,scope:r}],o.fakeName=h,o.capture=c,o.nativeHandler=s,"ready"===f?function(n,t,i){var r,u=n.document,f={type:"ready"};i.domLoaded?t(f):(r=function(){gy(n,"DOMContentLoaded",r);gy(n,"load",r);i.domLoaded||(i.domLoaded=!0,t(f));n=null},"complete"===u.readyState||"interactive"===u.readyState&&u.body?r():bn(n,"DOMContentLoaded",r),i.domLoaded||bn(n,"load",r))}(n,s,u):bn(n,h||f,s,c)));return n=o=null,i}},rf.prototype.unbind=function(n,t,i){var e,f,u,o,c,l,a,r,s,h;if(!n||3===n.nodeType||8===n.nodeType)return this;if(o=n[this.expando],o){if(u=this.events[o],t){for(s=t.split(" "),h=s.length;h--;)if(r=u[f=s[h]]){if(i)for(e=r.length;e--;)r[e].func===i&&(c=r.nativeHandler,l=r.fakeName,a=r.capture,(r=r.slice(0,e).concat(r.slice(e+1))).nativeHandler=c,r.fakeName=l,r.capture=a,u[f]=r);i&&0!==r.length||(delete u[f],gy(n,r.fakeName||f,r.nativeHandler,r.capture))}}else et(u,function(t,i){gy(n,t.fakeName||i,t.nativeHandler,t.capture)}),u={};for(f in u)if(w(u,f))return this;delete this.events[o];try{delete n[this.expando]}catch(t){n[this.expando]=null}}return this},rf.prototype.fire=function(n,t,i){var u,r;if(!n||3===n.nodeType||8===n.nodeType)return this;for(r=gh({type:t,target:n},i);(u=n[this.expando])&&this.executeHandlers(r,u),(n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow)&&!r.isPropagationStopped(););return this},rf.prototype.clean=function(n){var t,i;if(!n||3===n.nodeType||8===n.nodeType)return this;if(n[this.expando]&&this.unbind(n),(n=n.getElementsByTagName?n:n.document)&&n.getElementsByTagName)for(this.unbind(n),t=(i=n.getElementsByTagName("*")).length;t--;)(n=i[t])[this.expando]&&this.unbind(n);return this},rf.prototype.destroy=function(){this.events={}},rf.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},rf.prototype.executeHandlers=function(n,t){var f=this.events[t],u=f&&f[n.type],i,e,r;if(u)for(i=0,e=u.length;i<e;i++)if(r=u[i],r&&!1===r.func.call(r.scope,n)&&n.preventDefault(),n.isImmediatePropagationStopped())return},rf.Event=new rf,rf);var wt,tt,op,pat,ea,rtt,wat,sp,we,rc,be,cr,hp,uf,ke,uc,oa,oi="sizzle"+-new Date,hu=window.document,ff=0,uai=0,bat=ott(),kat=ott(),dat=ott(),utt=function(n,t){return n===t&&(rc=!0),0},cp="undefined",fai={}.hasOwnProperty,de=[],eai=de.pop,oai=de.push,ge=de.push,gat=de.slice,us=de.indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},ot="[\\x20\\t\\r\\n\\f]",fs="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nvt="\\["+ot+"*("+fs+")(?:"+ot+"*([*^$|!~]?=)"+ot+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fs+"))|)"+ot+"*\\]",tvt=":("+fs+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nvt+")*)|.*)\\)|)",lp=new RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),sai=new RegExp("^"+ot+"*,"+ot+"*"),hai=new RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),cai=new RegExp("="+ot+"*([^\\]'\"]*?)"+ot+"*\\]","g"),lai=new RegExp(tvt),aai=new RegExp("^"+fs+"$"),ap={ID:new RegExp("^#("+fs+")"),CLASS:new RegExp("^\\.("+fs+")"),TAG:new RegExp("^("+fs+"|[*])"),ATTR:new RegExp("^"+nvt),PSEUDO:new RegExp("^"+tvt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},vai=/^(?:input|select|textarea|button)$/i,yai=/^h\d$/i,ftt=/^[^{]+\{\s*\[native \w/,pai=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ett=/[+~]/,wai=/'|\\/g,no=new RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig");try{ge.apply(de=gat.call(hu.childNodes),hu.childNodes);de[hu.childNodes.length].nodeType}catch(kd){ge={apply:de.length?function(n,t){oai.apply(n,gat.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}k=function(n,t,i,r){var h,u,f,o,c,s,l,e,v,a;if((t?t.ownerDocument||t:hu)!==cr&&be(t),i=i||[],!n||"string"!=typeof n)return i;if(1!==(o=(t=t||cr).nodeType)&&9!==o)return[];if(uf&&!r){if(h=pai.exec(n))if(f=h[1]){if(9===o){if(!(u=t.getElementById(f))||!u.parentNode)return i;if(u.id===f)return i.push(u),i}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&oa(t,u)&&u.id===f)return i.push(u),i}else{if(h[2])return ge.apply(i,t.getElementsByTagName(n)),i;if((f=h[3])&&wt.getElementsByClassName)return ge.apply(i,t.getElementsByClassName(f)),i}if(wt.qsa&&(!ke||!ke.test(n))){if(e=l=oi,v=t,a=9===o&&n,1===o&&"object"!==t.nodeName.toLowerCase()){for(s=ea(n),(l=t.getAttribute("id"))?e=l.replace(wai,"\\$&"):t.setAttribute("id",e),e="[id='"+e+"'] ",c=s.length;c--;)s[c]=e+vp(s[c]);v=ett.test(n)&&stt(t.parentNode)||t;a=s.join(",")}if(a)try{return ge.apply(i,v.querySelectorAll(a)),i}catch(n){}finally{l||t.removeAttribute("id")}}}return wat(n.replace(lp,"$1"),t,i,r)};wt=k.support={};pat=k.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return!!t&&"HTML"!==t.nodeName};be=k.setDocument=function(n){var r,t=n?n.ownerDocument||n:hu,i=t.defaultView;return t!==cr&&9===t.nodeType&&t.documentElement?(hp=(cr=t).documentElement,uf=!pat(t),i&&i!==function(n){try{return n.top}catch(n){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){be()},!1):i.attachEvent&&i.attachEvent("onunload",function(){be()})),wt.attributes=!0,wt.getElementsByTagName=!0,wt.getElementsByClassName=ftt.test(t.getElementsByClassName),wt.getById=!0,tt.find.ID=function(n,t){if(typeof t.getElementById!=cp&&uf){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},tt.filter.ID=function(n){var t=n.replace(no,pe);return function(n){return n.getAttribute("id")===t}},tt.find.TAG=wt.getElementsByTagName?function(n,t){if(typeof t.getElementsByTagName!=cp)return t.getElementsByTagName(n)}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"!==n)return u;for(;i=u[f++];)1===i.nodeType&&r.push(i);return r},tt.find.CLASS=wt.getElementsByClassName&&function(n,t){if(uf)return t.getElementsByClassName(n)},uc=[],ke=[],wt.disconnectedMatch=!0,ke=ke.length&&new RegExp(ke.join("|")),uc=uc.length&&new RegExp(uc.join("|")),r=ftt.test(hp.compareDocumentPosition),oa=r||ftt.test(hp.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)for(;t=t.parentNode;)if(t===n)return!0;return!1},utt=r?function(n,i){return n===i?(rc=!0,0):(r=!n.compareDocumentPosition-!i.compareDocumentPosition)||(1&(r=(n.ownerDocument||n)===(i.ownerDocument||i)?n.compareDocumentPosition(i):1)||!wt.sortDetached&&i.compareDocumentPosition(n)===r?n===t||n.ownerDocument===hu&&oa(hu,n)?-1:i===t||i.ownerDocument===hu&&oa(hu,i)?1:we?us.call(we,n)-us.call(we,i):0:4&r?-1:1);var r}:function(n,i){if(n===i)return rc=!0,0;var r,u=0,o=n.parentNode,s=i.parentNode,f=[n],e=[i];if(!o||!s)return n===t?-1:i===t?1:o?-1:s?1:we?us.call(we,n)-us.call(we,i):0;if(o===s)return ivt(n,i);for(r=n;r=r.parentNode;)f.unshift(r);for(r=i;r=r.parentNode;)e.unshift(r);for(;f[u]===e[u];)u++;return u?ivt(f[u],e[u]):f[u]===hu?-1:e[u]===hu?1:0},t):cr};k.matches=function(n,t){return k(n,null,null,t)};k.matchesSelector=function(n,t){if((n.ownerDocument||n)!==cr&&be(n),t=t.replace(cai,"='$1']"),wt.matchesSelector&&uf&&(!uc||!uc.test(t))&&(!ke||!ke.test(t)))try{var i=(void 0).call(n,t);if(i||wt.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(n){}return 0<k(t,cr,null,[n]).length};k.contains=function(n,t){return(n.ownerDocument||n)!==cr&&be(n),oa(n,t)};k.attr=function(n,t){(n.ownerDocument||n)!==cr&&be(n);var r=tt.attrHandle[t.toLowerCase()],i=r&&fai.call(tt.attrHandle,t.toLowerCase())?r(n,t,!uf):void 0;return void 0!==i?i:wt.attributes||!uf?n.getAttribute(t):(i=n.getAttributeNode(t))&&i.specified?i.value:null};k.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};k.uniqueSort=function(n){var r,u=[],t=0,i=0;if(rc=!wt.detectDuplicates,we=!wt.sortStable&&n.slice(0),n.sort(utt),rc){for(;r=n[i++];)r===n[i]&&(t=u.push(i));for(;t--;)n.splice(u[t],1)}return we=null,n};op=k.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=op(n)}else if(3===t||4===t)return n.nodeValue}else for(;r=n[u++];)i+=op(r);return i};(tt=k.selectors={cacheLength:50,createPseudo:cu,match:ap,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(no,pe),n[3]=(n[3]||n[4]||n[5]||"").replace(no,pe),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||k.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&k.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return ap.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&lai.test(t)&&(i=ea(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(no,pe).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=bat[n+" "];return t||(t=new RegExp("(^|"+ot+")"+n+"("+ot+"|$)"))&&bat(n,function(n){return t.test("string"==typeof n.className&&n.className||typeof n.getAttribute!=cp&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var u=k.attr(r,n);return null==u?"!="===t:!t||(u+="","="===t?u===i:"!="===t?u!==i:"^="===t?i&&0===u.indexOf(i):"*="===t?i&&-1<u.indexOf(i):"$="===t?i&&u.slice(-i.length)===i:"~="===t?-1<(" "+u+" ").indexOf(i):"|="===t&&(u===i||u.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var o="nth"!==n.slice(0,3),e="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,s){var a,b,h,c,l,y,p=o!=e?"nextSibling":"previousSibling",v=t.parentNode,k=f&&t.nodeName.toLowerCase(),w=!s&&!f;if(v){if(o){for(;p;){for(h=t;h=h[p];)if(f?h.nodeName.toLowerCase()===k:1===h.nodeType)return!1;y=p="only"===n&&!y&&"nextSibling"}return!0}if(y=[e?v.firstChild:v.lastChild],e&&w){for(l=(a=(b=v[oi]||(v[oi]={}))[n]||[])[0]===ff&&a[1],c=a[0]===ff&&a[2],h=l&&v.childNodes[l];h=++l&&h&&h[p]||(c=l=0)||y.pop();)if(1===h.nodeType&&++c&&h===t){b[n]=[ff,l,c];break}}else if(w&&(a=(t[oi]||(t[oi]={}))[n])&&a[0]===ff)c=a[1];else for(;(h=++l&&h&&h[p]||(c=l=0)||y.pop())&&((f?h.nodeName.toLowerCase()!==k:1!==h.nodeType)||!++c||(w&&((h[oi]||(h[oi]={}))[n]=[ff,c]),h!==t)););return(c-=u)===r||c%r==0&&0<=c/r}}},PSEUDO:function(n,t){var r,i=tt.pseudos[n]||tt.setFilters[n.toLowerCase()]||k.error("unsupported pseudo: "+n);return i[oi]?i(t):1<i.length?(r=[n,n,"",t],tt.setFilters.hasOwnProperty(n.toLowerCase())?cu(function(n,r){for(var e,u=i(n,t),f=u.length;f--;)n[e=us.call(n,u[f])]=!(r[e]=u[f])}):function(n){return i(n,0,r)}):i}},pseudos:{not:cu(function(n){var t=[],r=[],i=rtt(n.replace(lp,"$1"));return i[oi]?cu(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:cu(function(n){return function(t){return 0<k(n,t).length}}),contains:cu(function(n){return n=n.replace(no,pe),function(t){return-1<(t.textContent||t.innerText||op(t)).indexOf(n)}}),lang:cu(function(n){return aai.test(n||"")||k.error("unsupported lang: "+n),n=n.replace(no,pe).toLowerCase(),function(t){var i;do if(i=uf?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(n){var t=window.location&&window.location.hash;return t&&t.slice(1)===n.id},root:function(n){return n===hp},focus:function(n){return n===cr.activeElement&&(!cr.hasFocus||cr.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return!1===n.disabled},disabled:function(n){return!0===n.disabled},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!tt.pseudos.empty(n)},header:function(n){return yai.test(n.nodeName)},input:function(n){return vai.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:es(function(){return[0]}),last:es(function(n,t){return[t-1]}),eq:es(function(n,t,i){return[i<0?i+t:i]}),even:es(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:es(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:es(function(n,t,i){for(var r=i<0?i+t:i;0<=--r;)n.push(r);return n}),gt:es(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}}).pseudos.nth=tt.pseudos.eq;e(["radio","checkbox","file","password","image"],function(n){var t;tt.pseudos[n]=(t=n,function(n){return"input"===n.nodeName.toLowerCase()&&n.type===t})});e(["submit","reset"],function(n){var t;tt.pseudos[n]=(t=n,function(n){var i=n.nodeName.toLowerCase();return("input"===i||"button"===i)&&n.type===t})});rvt.prototype=tt.filters=tt.pseudos;tt.setFilters=new rvt;ea=k.tokenize=function(n,t){var u,r,e,f,i,o,s,h=kat[n+" "];if(h)return t?0:h.slice(0);for(i=n,o=[],s=tt.preFilter;i;){for(f in u&&!(r=sai.exec(i))||(r&&(i=i.slice(r[0].length)||i),o.push(e=[])),u=!1,(r=hai.exec(i))&&(u=r.shift(),e.push({value:u,type:r[0].replace(lp," ")}),i=i.slice(u.length)),tt.filter)tt.filter.hasOwnProperty(f)&&(!(r=ap[f].exec(i))||s[f]&&!(r=s[f](r))||(u=r.shift(),e.push({value:u,type:f,matches:r}),i=i.slice(u.length)));if(!u)break}return t?i.length:i?k.error(n):kat(n,o).slice(0)};rtt=k.compile=function(n,t){function c(n,t,i,u,s){var c,y,a,v=0,h="0",p=n&&[],l=[],w=sp,b=n||o&&tt.find.TAG("*",s),d=ff+=null==w?1:Math.random()||.1,g=b.length;for(s&&(sp=t!==cr&&t);h!==g&&null!=(c=b[h]);h++){if(o&&c){for(y=0;a=f[y++];)if(a(c,t,i)){u.push(c);break}s&&(ff=d)}r&&((c=!a&&c)&&v--,n&&p.push(c))}if(v+=h,r&&h!==v){for(y=0;a=e[y++];)a(p,l,t,i);if(n){if(0<v)for(;h--;)p[h]||l[h]||(l[h]=eai.call(u));l=yp(l)}ge.apply(u,l);s&&!n&&0<l.length&&1<v+e.length&&k.uniqueSort(u)}return s&&(ff=d,sp=w),p}var u,f,e,r,o,s=[],h=[],i=dat[n+" "];if(!i){for(u=(t=t||ea(n)).length;u--;)((i=function n(t){for(var e,u,r,o=t.length,s=tt.relative[t[0].type],h=s||tt.relative[" "],i=s?1:0,c=htt(function(n){return n===e},h,!0),l=htt(function(n){return-1<us.call(e,n)},h,!0),f=[function(n,t,i){var r=!s&&(i||t!==sp)||((e=t).nodeType?c:l)(n,t,i);return e=null,r}];i<o;i++)if(u=tt.relative[t[i].type])f=[htt(ctt(f),u)];else{if((u=tt.filter[t[i].type].apply(null,t[i].matches))[oi]){for(r=++i;r<o&&!tt.relative[t[r].type];r++);return function n(t,i,r,u,f,e){return u&&!u[oi]&&(u=n(u)),f&&!f[oi]&&(f=n(f,e)),cu(function(n,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=n||function(n,t,i){for(var r=0,u=t.length;r<u;r++)k(n,t[r],i);return i}(i||"*",o.nodeType?[o]:o,[]),v=!t||!n&&i?b:yp(b,p,t,o,s),h=r?f||(n?t:w||u)?[]:e:v;if(r&&r(v,h,o,s),u)for(l=yp(h,y),u(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(n){if(f||t){if(f){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);f(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&-1<(l=f?us.call(n,a):p[c])&&(n[l]=!(e[l]=a))}}else h=yp(h===e?h.splice(w,h.length):h),f?f(null,e,h,s):ge.apply(e,h)})}(1<i&&ctt(f),1<i&&vp(t.slice(0,i-1).concat({value:" "===t[i-2].type?"*":""})).replace(lp,"$1"),u,i<r&&n(t.slice(i,r)),r<o&&n(t=t.slice(r)),r<o&&vp(t))}f.push(u)}return ctt(f)}(t[u]))[oi]?s:h).push(i);(i=dat(n,(f=h,r=0<(e=s).length,o=0<f.length,r?cu(c):c))).selector=n}return i};wat=k.select=function(n,t,i,r){var e,u,f,h,c,s="function"==typeof n&&n,o=!r&&ea(n=s.selector||n);if(i=i||[],1===o.length){if(2<(u=o[0]=o[0].slice(0)).length&&"ID"===(f=u[0]).type&&wt.getById&&9===t.nodeType&&uf&&tt.relative[u[1].type]){if(!(t=(tt.find.ID(f.matches[0].replace(no,pe),t)||[])[0]))return i;s&&(t=t.parentNode);n=n.slice(u.shift().value.length)}for(e=ap.needsContext.test(n)?0:u.length;e--&&(f=u[e],!tt.relative[h=f.type]);)if((c=tt.find[h])&&(r=c(f.matches[0].replace(no,pe),ett.test(u[0].type)&&stt(t.parentNode)||t))){if(u.splice(e,1),!(n=r.length&&vp(u)))return ge.apply(i,r),i;break}}return(s||rtt(n,o))(r,t,!uf,i,ett.test(n)&&stt(t.parentNode)||t),i};wt.sortStable=oi.split("").sort(utt).join("")===oi;wt.detectDuplicates=!!rc;be();wt.sortDetached=!0;var hvt=document,att=Array.prototype.push,bai=Array.prototype.slice,kai=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ha=ic.Event,dai=r.makeMap("children,contents,next,prev"),fc=function(n,t,i,r){var u;if(ltt(t))t=uvt(t,ptt(n[0]));else if(t.length&&!t.nodeType){if(t=a.makeArray(t),r)for(u=t.length-1;0<=u;u--)fc(n,t[u],i,r);else for(u=0;u<t.length;u++)fc(n,t[u],i,r);return n}if(t.nodeType)for(u=n.length;u--;)i.call(n[u],t);return n},gai=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),nvi=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),tvi={"for":"htmlFor","class":"className",readonly:"readOnly"},ivi={float:"cssFloat"},vtt={},ytt={},rvi=/^\s*|\s*$/g,ptt=function(n){return n?9===n.nodeType?n:n.ownerDocument:hvt};lr.fn=lr.prototype={constructor:lr,selector:"",context:null,length:0,init:function(n,t){var u,r,i=this;if(!n)return i;if(n.nodeType)return i.context=i[0]=n,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return a(n).attr(t);i.context=t=document}if(ltt(n)){if(!(u="<"===(i.selector=n).charAt(0)&&">"===n.charAt(n.length-1)&&3<=n.length?[null,n,null]:kai.exec(n)))return a(t).find(n);if(u[1])for(r=uvt(n,ptt(t)).firstChild;r;)att.call(i,r),r=r.nextSibling;else{if(!(r=ptt(t).getElementById(u[2])))return i;if(r.id!==u[2])return i.find(n);i.length=1;i[0]=r}}else this.add(n,!1);return i},toArray:function(){return r.toArray(this)},add:function(n,t){var r,i;if(ltt(n))return this.add(a(n));if(!1!==t)for(r=a.unique(this.toArray().concat(a.makeArray(n))),this.length=r.length,i=0;i<r.length;i++)this[i]=r[i];else att.apply(this,a.makeArray(n));return this},attr:function(n,t){var r,i=this;if("object"==typeof n)kf(n,function(n,t){i.attr(n,t)});else{if(!sa(t)){if(i[0]&&1===i[0].nodeType){if((r=vtt[n])&&r.get)return r.get(i[0],n);if(nvi[n])return i.prop(n)?n:void 0;null===(t=i[0].getAttribute(n,2))&&(t=void 0)}return t}this.each(function(){var i;1===this.nodeType&&((i=vtt[n])&&i.set?i.set(this,t):null===t?this.removeAttribute(n,2):this.setAttribute(n,t,2))})}return i},removeAttr:function(n){return this.attr(n,null)},prop:function(n,t){var i=this;if("object"==typeof(n=tvi[n]||n))kf(n,function(n,t){i.prop(n,t)});else{if(!sa(t))return i[0]&&i[0].nodeType&&n in i[0]?i[0][n]:t;this.each(function(){1===this.nodeType&&(this[n]=t)})}return i},css:function(n,t){function f(n){return n.replace(/-(\D)/g,function(n,t){return t.toUpperCase()})}function e(n){return n.replace(/[A-Z]/g,function(n){return"-"+n})}var i,r,u=this;if("object"==typeof n)kf(n,function(n,t){u.css(n,t)});else if(sa(t))n=f(n),"number"!=typeof t||gai[n]||(t=t.toString()+"px"),u.each(function(){var i=this.style;if((r=ytt[n])&&r.set)r.set(this,t);else{try{this.style[ivi[n]||n]=t}catch(i){}null!==t&&""!==t||(i.removeProperty?i.removeProperty(e(n)):i.removeAttribute(n))}});else{if(i=u[0],(r=ytt[n])&&r.get)return r.get(i);if(!i.ownerDocument.defaultView)return i.currentStyle?i.currentStyle[f(n)]:"";try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(e(n))}catch(f){return}}return u},remove:function(){for(var n,t=this.length;t--;)n=this[t],ha.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var n,t=this.length;t--;)for(n=this[t];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(n){var t;if(sa(n)){t=this.length;try{for(;t--;)this[t].innerHTML=n}catch(i){a(this[t]).empty().append(n)}return this}return this[0]?this[0].innerHTML:""},text:function(n){var t;if(sa(n)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=n:this[0].textContent=n;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return fc(this,arguments,function(n){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(n)})},prepend:function(){return fc(this,arguments,function(n){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(n,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?fc(this,arguments,function(n){this.parentNode.insertBefore(n,this)}):this},after:function(){return this[0]&&this[0].parentNode?fc(this,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):this},appendTo:function(n){return a(n).append(this),this},prependTo:function(n){return a(n).prepend(this),this},replaceWith:function(n){return this.before(n).remove()},wrap:function(n){return evt(this,n)},wrapAll:function(n){return evt(this,n,!0)},wrapInner:function(n){return this.each(function(){a(this).contents().wrapAll(n)}),this},unwrap:function(){return this.parent().each(function(){a(this).replaceWith(this.childNodes)})},clone:function(){var n=[];return this.each(function(){n.push(this.cloneNode(!0))}),a(n)},addClass:function(n){return this.toggleClass(n,!0)},removeClass:function(n){return this.toggleClass(n,!1)},toggleClass:function(n,t){var i=this;return"string"!=typeof n||(-1!==n.indexOf(" ")?kf(n.split(" "),function(){i.toggleClass(this,t)}):i.each(function(i,r){var u,f=fvt(r,n);f!==t&&(u=r.className,f?r.className=ovt((" "+u+" ").replace(" "+n+" "," ")):r.className+=u?" "+n:n)})),i},hasClass:function(n){return fvt(this[0],n)},each:function(n){return kf(this,n)},on:function(n,t){return this.each(function(){ha.bind(this,n,t)})},off:function(n,t){return this.each(function(){ha.unbind(this,n,t)})},trigger:function(n){return this.each(function(){"object"==typeof n?ha.fire(this,n.type,n):ha.fire(this,n)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return a(bai.apply(this,arguments))},eq:function(n){return-1===n?this.slice(n):this.slice(n,+n+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(n){for(var i=[],t=0,r=this.length;t<r;t++)a.find(n,this[t],i);return a(i)},filter:function(n){return a("function"==typeof n?svt(this.toArray(),function(t,i){return n(i,t)}):a.filter(n,this.toArray()))},closest:function(n){var t=[];return n instanceof a&&(n=n[0]),this.each(function(i,r){for(;r;){if("string"==typeof n&&a(r).is(n)){t.push(r);break}if(r===n){t.push(r);break}r=r.parentNode}}),a(t)},offset:function(n){var i,r,t,u,f=0,e=0;return n?this.css(n):((i=this[0])&&(t=(r=i.ownerDocument).documentElement,i.getBoundingClientRect&&(f=(u=i.getBoundingClientRect()).left+(t.scrollLeft||r.body.scrollLeft)-t.clientLeft,e=u.top+(t.scrollTop||r.body.scrollTop)-t.clientTop)),{left:f,top:e})},push:att,sort:Array.prototype.sort,splice:Array.prototype.splice};r.extend(lr,{extend:r.extend,makeArray:function(n){return n&&n===n.window||n.nodeType?[n]:r.toArray(n)},inArray:function(n,t){var i;if(t.indexOf)return t.indexOf(n);for(i=t.length;i--;)if(t[i]===n)return i;return-1},isArray:r.isArray,each:kf,trim:ovt,grep:svt,find:k,expr:k.selectors,unique:k.uniqueSort,text:k.getText,contains:k.contains,filter:function(n,t,i){var r=t.length;for(i&&(n=":not("+n+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?a.find.matchesSelector(t[0],n)?[t[0]]:[]:a.find.matches(n,t)}});kf({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return cvt(n,"parentNode")},next:function(n){return lvt(n,"nextSibling",1)},prev:function(n){return lvt(n,"previousSibling",1)},children:function(n){return wtt(n.firstChild,"nextSibling",1)},contents:function(n){return r.toArray(("iframe"===n.nodeName?n.contentDocument||n.contentWindow.document:n).childNodes)}},function(n,t){lr.fn[n]=function(i){var r=[],u;return this.each(function(){var n=t.call(r,this,i,r);n&&(a.isArray(n)?r.push.apply(r,n):r.push(n))}),1<this.length&&(dai[n]||(r=a.unique(r)),0===n.indexOf("parents")&&(r=r.reverse())),u=a(r),i?u.filter(i):u}});kf({parentsUntil:function(n,t){return cvt(n,"parentNode",t)},nextUntil:function(n,t){return wtt(n,"nextSibling",1,t).slice(1)},prevUntil:function(n,t){return wtt(n,"previousSibling",1,t).slice(1)}},function(n,t){lr.fn[n]=function(i,r){var u=[],f;return this.each(function(){var n=t.call(u,this,i,u);n&&(a.isArray(n)?u.push.apply(u,n):u.push(n))}),1<this.length&&(u=a.unique(u),0!==n.indexOf("parents")&&"prevUntil"!==n||(u=u.reverse())),f=a(u),r?f.filter(r):f}});lr.fn.is=function(n){return!!n&&0<this.filter(n).length};lr.fn.init.prototype=lr.fn;lr.overrideDefaults=function(n){var t,i=function(r,u){return t=t||n(),0===arguments.length&&(r=t.element),u=u||t.context,new i.fn.init(r,u)};return a.extend(i,this),i};lr.attrHooks=vtt;lr.cssHooks=ytt;var a=lr,ca=r.each,uvi=r.grep,btt=l.ie,fvi=/^([a-z0-9],?)+$/i,d=function(n,i){function o(t){return t&&n&&ht(t)?n.getElementById(t):t}function u(n){return vi("string"==typeof n?o(n):n)}function c(n,t,i){var r,f,e=u(n);return void 0===(f=e.length?(r=bi[t])&&r.get?r.get(e,t):e.attr(t):f)?i||"":f}function ot(n){var t=o(n);return t?t.attributes:[]}function nt(n,t,r){""===r&&(r=null);var e,f=u(n),o=f.attr(t);f.length&&((e=bi[t])&&e.set?e.set(f,r,t):f.attr(t,r),o!==r&&i.onSetAttrib&&i.onSetAttrib({attrElm:f,attrName:t,attrValue:r}))}function tt(){return i.root_element||n.body}function bt(i,r){return function(n,i,r){var h,e=0,f=0,o=n.ownerDocument,c,u,s;if(r=r||n,i){if(r===n&&i.getBoundingClientRect&&"static"===bf(t.fromDom(n),"position"))return c=i.getBoundingClientRect(),{x:e=c.left+(o.documentElement.scrollLeft||n.scrollLeft)-o.documentElement.clientLeft,y:f=c.top+(o.documentElement.scrollTop||n.scrollTop)-o.documentElement.clientTop};for(u=i;u&&u!==r&&u.nodeType&&!olt(u,r);)s=u,e+=s.offsetLeft||0,f+=s.offsetTop||0,u=s.offsetParent;for(u=i.parentNode;u&&u!==r&&u.nodeType&&!olt(u,r);)e-=u.scrollLeft||0,f-=u.scrollTop||0,u=u.parentNode;f+=(h=t.fromDom(i),gci.isFirefox()&&"table"===vt(h)?elt(nu(h)).filter(function(n){return"caption"===vt(n)}).bind(function(n){return elt(act(n)).map(function(t){var i=t.dom.offsetTop,r=n.dom.offsetTop,u=n.dom.offsetHeight;return i<=r?-u:0})}).getOr(0):0)}return{x:e,y:f}}(n.body,o(i),r)}function st(n,t,i){var r=u(n);return i?r.css(t):("float"===(t=t.replace(/-(\D)/g,function(n,t){return t.toUpperCase()}))&&(t=l.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)}function kt(n){var t=st(n=o(n),"width"),i=st(n,"height");return-1===t.indexOf("px")&&(t=0),-1===i.indexOf("px")&&(i=0),{w:parseInt(t,10)||n.offsetWidth||n.clientWidth,h:parseInt(i,10)||n.offsetHeight||n.clientHeight}}function ct(n,t){var i;if(!n)return!1;if(!Array.isArray(n)){if("*"===t)return 1===n.nodeType;if(fvi.test(t)){for(var u=t.toLowerCase().split(/,/),f=n.nodeName.toLowerCase(),r=u.length-1;0<=r;r--)if(u[r]===f)return!0;return!1}if(n.nodeType&&1!==n.nodeType)return!1}return i=Array.isArray(n)?n:[n],0<k(t,i[0].ownerDocument||i[0],null,i).length}function dt(n,t,i,u){var e,s=[],f=o(n);for(u=void 0===u,i=i||("BODY"!==tt().nodeName?tt().parentNode:null),r.is(t,"string")&&(t="*"===(e=t)?function(n){return 1===n.nodeType}:function(n){return ct(n,e)});f&&!(f===i||wu(f.nodeType)||nn(f)||tn(f));){if(!t||"function"==typeof t&&t(f)){if(!u)return[f];s.push(f)}f=f.parentNode}return u?s:null}function gt(n,t,i){var r=t;if(n)for("string"==typeof t&&(r=function(n){return ct(n,t)}),n=n[i];n;n=n[i])if("function"==typeof r&&r(n))return n;return null}function g(n,t,i){var f,u="string"==typeof n?o(n):n;return!!u&&(r.isArray(u)&&(u.length||0===u.length)?(f=[],ca(u,function(n,r){n&&f.push(t.call(i,"string"==typeof n?o(n):n,r))}),f):t.call(i||this,u))}function ni(n,t){u(n).each(function(n,i){ca(t,function(n,t){nt(i,t,n)})})}function ti(n,t){var i=u(n);btt?i.each(function(n,i){if(!1!==i.canHaveHTML){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+t;i.removeChild(i.firstChild)}catch(n){a("<div><\/div>").html("<br>"+t).contents().slice(1).appendTo(i)}return t}}):i.html(t)}function ii(t,i,r,u,f){return g(t,function(t){var e="string"==typeof i?n.createElement(i):i;return ni(e,r),u&&("string"!=typeof u&&u.nodeType?e.appendChild(u):"string"==typeof u&&ti(e,u)),f?e:t.appendChild(e)})}function ri(t,i,r){return ii(n.createElement(t),t,i,r,!0)}function lt(n,t){var i=u(n);return(t?i.each(function(){for(var n;n=this.firstChild;)3===n.nodeType&&0===n.data.length?this.removeChild(n):this.parentNode.insertBefore(n,this)}):i).remove(),1<i.length?i.toArray():i[0]}function ui(n,t,i){u(n).toggleClass(t,i).each(function(){""===this.className&&a(this).attr("class",null)})}function fi(n,t,i){return g(t,function(t){return r.is(t,"array")&&(n=n.cloneNode(!0)),i&&ca(uvi(t.childNodes),function(t){n.appendChild(t)}),t.parentNode.replaceChild(n,t)})}function ei(n){if(h(n)){var t="a"===n.nodeName.toLowerCase()&&!c(n,"href")&&c(n,"id");return c(n,"name")||c(n,"data-mce-bookmark")||t?1:void 0}}function at(){return n.createRange()}function oi(n){if(n&&h(n)){var t=n.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==n.contentEditable?n.contentEditable:null}return null}void 0===i&&(i={});var it,rt,si,hi,ci,ut,li={},pt=window,ft={},ki=0,wt=glt.forElement(t.fromDom(n),{contentCssCors:i.contentCssCors,referrerPolicy:i.referrerPolicy}),s=[],w=i.schema||ae({}),v=pn({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema),b=i.ownEvents?new ic:ic.Event,ai=w.getBlockElements(),vi=a.overrideDefaults(function(){return{context:n,element:p.getRoot()}}),yi=ye.encodeAllRaw,pi=function(t,u,f,e){if(r.isArray(t)){for(var o=t.length,h=[];o--;)h[o]=pi(t[o],u,f,e);return h}return!i.collect||t!==n&&t!==pt||s.push([t,u,f,e]),b.bind(t,u,f,e||p)},wi=function(t,i,u){var f,o,e;if(r.isArray(t)){for(f=t.length,o=[];f--;)o[f]=wi(t[f],i,u);return o}if(0<s.length&&(t===n||t===pt))for(f=s.length;f--;)e=s[f],t!==e[0]||i&&i!==e[1]||u&&u!==e[2]||b.unbind(e[0],e[1],e[2]);return b.unbind(t,i,u)},p={doc:n,settings:i,win:pt,files:ft,stdMode:!0,boxModel:!0,styleSheetLoader:wt,boundEvents:s,styles:v,schema:w,events:b,isBlock:function(n){if("string"==typeof n)return!!ai[n];if(n){var t=n.nodeType;if(t)return!(1!==t||!ai[n.nodeName])}return!1},$:vi,$$:u,root:null,clone:function(t,i){if(!btt||1!==t.nodeType||i)return t.cloneNode(i);var r=n.createElement(t.nodeName);return ca(ot(t),function(n){nt(r,n.nodeName,c(t,n.nodeName))}),r},getRoot:tt,getViewPort:function(n){var t=nlt(n);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(n){var t=bt(n=o(n)),i=kt(n);return{x:t.x,y:t.y,w:i.w,h:i.h}},getSize:kt,getParent:function(n,t,i){var r=dt(n,t,i,!1);return r&&0<r.length?r[0]:null},getParents:dt,get:o,getNext:function(n,t){return gt(n,t,"nextSibling")},getPrev:function(n,t){return gt(n,t,"previousSibling")},select:function(t,r){return k(t,o(r)||i.root_element||n,[])},is:ct,add:ii,create:ri,createHTML:function(n,t,i){var r,u="";for(r in u+="<"+n,t)hh(t,r)&&(u+=" "+r+'="'+yi(t[r])+'"');return void 0!==i?u+">"+i+"<\/"+n+">":u+" />"},createFragment:function(t){var u,i=n.createElement("div"),r=n.createDocumentFragment();for(r.appendChild(i),t&&(i.innerHTML=t);u=i.firstChild;)r.appendChild(u);return r.removeChild(i),r},remove:lt,setStyle:function(n,t,r){var f=ht(t)?u(n).css(t,r):u(n).css(t);i.update_styles&&avt(v,f)},getStyle:st,setStyles:function(n,t){var r=u(n).css(t);i.update_styles&&avt(v,r)},removeAllAttribs:function(n){return g(n,function(n){for(var i=n.attributes,t=i.length-1;0<=t;t--)n.removeAttributeNode(i.item(t))})},setAttrib:nt,setAttribs:ni,getAttrib:c,getPos:bt,parseStyle:function(n){return v.parse(n)},serializeStyle:function(n,t){return v.serialize(n,t)},addStyle:function(t){var r,i;if(p!==d.DOM&&n===document){if(li[t])return;li[t]=!0}(i=n.getElementById("mceDefaultStyles"))||((i=n.createElement("style")).id="mceDefaultStyles",i.type="text/css",(r=n.getElementsByTagName("head")[0]).firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i));i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(n.createTextNode(t))},loadCSS:function(n){e((n=n||"").split(","),function(n){ft[n]=!0;wt.load(n,y)})},addClass:function(n,t){u(n).addClass(t)},removeClass:function(n,t){ui(n,t,!1)},hasClass:function(n,t){return u(n).hasClass(t)},toggleClass:ui,show:function(n){u(n).show()},hide:function(n){u(n).hide()},isHidden:function(n){return"none"===u(n).css("display")},uniqueId:function(n){return(n||"mce_")+ki++},setHTML:ti,getOuterHTML:function(n){var t="string"==typeof n?o(n):n;return h(t)?t.outerHTML:a("<div><\/div>").append(a(t).clone()).html()},setOuterHTML:function(n,t){u(n).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(n){}lt(a(this).html(t),!0)})},decode:ye.decode,encode:yi,insertAfter:function(n,t){var i=o(t);return g(n,function(n){var t=i.parentNode,r=i.nextSibling;return r?t.insertBefore(n,r):t.appendChild(n),n})},replace:fi,rename:function(n,t){var i;return n.nodeName!==t.toUpperCase()&&(i=ri(t),ca(ot(n),function(t){nt(i,t.nodeName,c(n,t.nodeName))}),fi(i,n,!0)),i||n},findCommonAncestor:function(n,t){for(var r,i=n;i;){for(r=t;r&&i!==r;)r=r.parentNode;if(i===r)break;i=i.parentNode}return!i&&n.ownerDocument?n.ownerDocument.documentElement:i},toHex:function(n){return v.toHex(r.trim(n))},run:g,getAttribs:ot,isEmpty:function(n,t){var i,u,e=0,r,o,f;if(ei(n))return!1;if(n=n.firstChild){r=new yt(n,n.parentNode);o=w?w.getWhiteSpaceElements():{};t=t||(w?w.getNonEmptyElements():null);do{if(i=n.nodeType,h(n)){if(f=n.getAttribute("data-mce-bogus"),f){n=r.next("all"===f);continue}if(u=n.nodeName.toLowerCase(),t&&t[u]){if("br"!==u)return!1;e++;n=r.next();continue}if(ei(n))return!1}if(8===i||3===i&&!ts(n.nodeValue)||3===i&&n.parentNode&&o[n.parentNode.nodeName]&&ts(n.nodeValue))return!1;n=r.next()}while(n)}return e<=1},createRng:at,nodeIndex:ec,split:function(n,t,i){var f,e,u,r=at();if(n&&t)return r.setStart(n.parentNode,ec(n)),r.setEnd(t.parentNode,ec(t)),f=r.extractContents(),(r=at()).setStart(t.parentNode,ec(t)+1),r.setEnd(n.parentNode,ec(n)+1),e=r.extractContents(),(u=n.parentNode).insertBefore(ntt(p,f),n),i?u.insertBefore(i,n):u.insertBefore(t,n),u.insertBefore(ntt(p,e),n),lt(n),i||t},bind:pi,unbind:wi,fire:function(n,t,i){return b.fire(n,t,i)},getContentEditable:oi,getContentEditableParent:function(n){for(var i=tt(),t=null;n&&n!==i&&null===(t=oi(n));n=n.parentNode);return t},destroy:function(){var t,n;if(0<s.length)for(t=s.length;t--;)n=s[t],b.unbind(n[0],n[1],n[2]);et(ft,function(n,t){wt.unload(t);delete ft[t]});k.setDocument&&k.setDocument()},isChildOf:function(n,t){if(btt){for(;n;){if(t===n)return!0;n=n.parentNode}return!1}return n===t||t.contains(n)},dumpRng:function(n){return"startContainer: "+n.startContainer.nodeName+", startOffset: "+n.startOffset+", endContainer: "+n.endContainer.nodeName+", endOffset: "+n.endOffset}},bi=(it=v,si=f(p),ci={set:function(n,t,i){rt.url_converter&&null!==t&&(t=rt.url_converter.call(rt.url_converter_scope||si(),t,i,n[0]));n.attr("data-mce-"+i,t).attr(i,t)},get:function(n,t){return n.attr("data-mce-"+t)||n.attr(t)}},ut={style:{set:function(n,t){null===t||"object"!=typeof t?(hi&&n.attr("data-mce-style",t),null!==t&&"string"==typeof t?(n.removeAttr("style"),n.css(it.parse(t))):n.attr("style",t)):n.css(t)},get:function(n){var t=n.attr("data-mce-style")||n.attr("style");return it.serialize(it.parse(t),n[0].nodeName)}}},(hi=(rt=i).keep_values)&&(ut.href=ut.src=ci),ut);return p};d.DOM=d(document);d.nodeIndex=ec;var evi=d.DOM,ktt=r.each,ovi=r.grep,df=(iu.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},iu.prototype.loadScript=function(n,t,i){function e(){f.remove(o);u&&(u.onerror=u.onload=u=null)}var f=evi,o=f.uniqueId(),u=document.createElement("script");u.id=o;u.type="text/javascript";u.src=r._addCacheSuffix(n);this.settings.referrerPolicy&&f.setAttrib(u,"referrerpolicy",this.settings.referrerPolicy);u.onload=function(){e();t()};u.onerror=function(){e();ft(i)?i():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+n)};(document.getElementsByTagName("head")[0]||document.body).appendChild(u)},iu.prototype.isDone=function(n){return 2===this.states[n]},iu.prototype.markDone=function(n){this.states[n]=2},iu.prototype.add=function(n,t,i,r){var u=this.states[n];this.queue.push(n);void 0===u&&(this.states[n]=0);t&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:t,failure:r,scope:i||this}))},iu.prototype.load=function(n,t,i,r){return this.add(n,t,i,r)},iu.prototype.remove=function(n){delete this.states[n];delete this.scriptLoadedCallbacks[n]},iu.prototype.loadQueue=function(n,t,i){this.loadScripts(this.queue,n,t,i)},iu.prototype.loadScripts=function(n,t,i,r){function f(n,t){ktt(u.scriptLoadedCallbacks[t],function(t){ft(t[n])&&t[n].call(t.scope)});u.scriptLoadedCallbacks[t]=void 0}var u=this,o=[],e;u.queueLoadedCallbacks.push({success:t,failure:r,scope:i||this});e=function(){var t,i=ovi(n);n.length=0;ktt(i,function(n){2!==u.states[n]?3!==u.states[n]?1!==u.states[n]&&(u.states[n]=1,u.loading++,u.loadScript(n,function(){u.states[n]=2;u.loading--;f("success",n);e()},function(){u.states[n]=3;u.loading--;o.push(n);f("failure",n);e()})):f("failure",n):f("success",n)});u.loading||(t=u.queueLoadedCallbacks.slice(0),u.queueLoadedCallbacks.length=0,ktt(t,function(n){0===o.length?ft(n.success)&&n.success.call(n.scope):ft(n.failure)&&n.failure.call(n.scope,o)}))};e()},iu.ScriptLoader=new iu,iu);var la={},dtt=hi("en"),lu={getData:function(){return fht(la,function(n){return c({},n)})},setCode:function(n){n&&dtt.set(n)},getCode:function(){return dtt.get()},add:function(n,t){var i=la[n];i||(la[n]=i={});et(t,function(n,t){i[t.toLowerCase()]=n})},translate:function(n){function t(n){return ft(n)?Object.prototype.toString.call(n):o(n)?"":""+n}function r(n){var i=t(n);return at(s,i.toLowerCase()).map(t).getOr(i)}function u(n){return n.replace(/{context:\w+}$/,"")}var f,e,s=vvt().getOr({}),o=function(n){return""===n||null==n},i;return o(n)?"":eh(f=n)&&w(f,"raw")?t(n.raw):br(e=n)&&1<e.length?(i=n.slice(1),u(r(n[0]).replace(/\{([0-9]+)\}/g,function(n,r){return w(i,r)?t(i[r]):n}))):u(r(n))},isRtl:function(){return vvt().bind(function(n){return at(n,"_dir")}).exists(function(n){return"rtl"===n})},hasCode:function(n){return w(la,n)}},rr=function(){function r(n,t){e(p(i,function(i){return i.name===n&&i.state===t}),function(n){return n.callback()})}function u(t){var i;return(n[t]?n[t].dependencies:i)||[]}function f(n,t){return"object"==typeof t?t:"string"==typeof n?{prefix:"",resource:t,suffix:""}:{prefix:n.prefix,resource:t,suffix:n.suffix}}function o(r,u,f){void 0===f&&(f="added");w(n,r)&&"added"===f||w(t,r)&&"loaded"===f?u():i.push({name:r,state:f,callback:u})}var s=[],t={},n={},i=[],h=function(i,o,s,c,l){var a,v;t[i]||(0!==(a="string"==typeof o?o:o.prefix+o.resource+o.suffix).indexOf("/")&&-1===a.indexOf("://")&&(a=rr.baseURL+"/"+a),t[i]=a.substring(0,a.lastIndexOf("/")),v=function(){var l,n,t;r(i,"loaded");l=o;n=s;t=c;e(u(i),function(n){var t=f(l,n);h(t.resource,t,void 0,void 0)});n&&(t?n.call(t):n.call(df))},n[i]?v():df.ScriptLoader.add(a,v,c,l))};return{items:s,urls:t,lookup:n,_listeners:i,get:function(t){if(n[t])return n[t].instance},dependencies:u,requireLangPack:function(n,i){!1!==rr.languageLoad&&o(n,function(){var r=lu.getCode();!r||i&&-1===(","+(i||"")+",").indexOf(","+r+",")||df.ScriptLoader.add(t[n]+"/langs/"+r+".js")},"loaded")},add:function(t,i,u){var f=i;return s.push(f),n[t]={instance:f,dependencies:u},r(t,"added"),f},remove:function(i){delete t[i];delete n[i]},createUrl:f,addComponents:function(n,i){var r=t[n];e(i,function(n){df.ScriptLoader.add(r+"/"+n)})},load:h,waitFor:o}};rr.languageLoad=!0;rr.baseURL="";rr.PluginManager=rr();rr.ThemeManager=rr();var syt=function(n,t){var i=[];return e(nu(n),function(n){i=(i=t(n)?i.concat([n]):i).concat(syt(n,t))}),i},uit=f("mce-annotation"),aa=f("data-mce-annotation"),kp=f("data-mce-annotation-uid"),hvi=function(n,i){return gi(t.fromDom(n.getBody()),"["+kp()+'="'+i+'"]')},cvi=0,lc=Math.round,lvi=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),hyt=h,avi=nf,cyt=ly("display","block table"),vvi=ly("float","left right"),va=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){for(var i=0;i<t.length;i++)if(!t[i](n))return!1;return!0}}(hyt,avi,ng(vvi)),yvi=ng(ly("white-space","pre pre-line pre-wrap")),ya=o,fit=st,lyt=d.nodeIndex,dp=function(n,t){if(!(t<0&&h(n)&&n.hasChildNodes()))return to(n,t)},io=function(n){var i=n.getClientRects(),t=0<i.length?os(i[0]):os(n.getBoundingClientRect());return!eyt(n)&&fit(n)&&oyt(t)?function(n){var r=n.ownerDocument,i=tit(r),t=r.createTextNode(ir),u=n.parentNode,f;return u.insertBefore(t,n),i.setStart(t,0),i.setEnd(t,1),f=os(i.getBoundingClientRect()),u.removeChild(t),f}(n):oyt(t)&&eyt(n)?function(n){var r=n.startContainer,t=n.endContainer,u=n.startOffset,f=n.endOffset,i;return r===t&&o(t)&&0===u&&1===f?(i=n.cloneRange(),i.setEndAfter(t),io(i)):null}(n):t},i=function(n,t,r){function u(){return r=r||function(n){function r(n){var t;0!==n.height&&(0<i.length&&(t=i[i.length-1],n.left===t.left&&n.top===t.top&&n.bottom===t.bottom&&n.right===t.right)||i.push(n))}function e(n,t){var u=tit(n.ownerDocument);if(t<n.data.length){if(fyt(n.data[t]))return i;if(fyt(n.data[t-1])&&(u.setStart(n,t),u.setEnd(n,t+1),!rit(u)))return r(ss(io(u),!1)),i}0<t&&(u.setStart(n,t-1),u.setEnd(n,t),rit(u)||r(ss(io(u),!1)));t<n.data.length&&(u.setStart(n,t),u.setEnd(n,t+1),rit(u)||r(ss(io(u),!0)))}var i=[],u=n.container(),o=n.offset(),t,f;if(ya(u))return e(u,o),i;if(hyt(u))if(n.isAtEnd())t=dp(u,o),ya(t)&&e(t,t.data.length),va(t)&&!fit(t)&&r(ss(io(t),!1));else{if(t=dp(u,o),ya(t)&&e(t,0),va(t)&&n.isAtEnd())return r(ss(io(t),!1)),i;f=dp(n.container(),n.offset()-1);va(f)&&!fit(f)&&(!cyt(f)&&!cyt(t)&&va(t)||r(ss(io(f),!1)));va(t)&&r(ss(io(t),!0))}return i}(i(n,t))}return{container:f(n),offset:f(t),toRange:function(){var i=tit(n.ownerDocument);return i.setStart(n,t),i.setEnd(n,t),i},getClientRects:u,isVisible:function(){return 0<u().length},isAtStart:function(){return ya(n),0===t},isAtEnd:function(){return ya(n)?t>=n.data.length:t>=n.childNodes.length},isEqual:function(i){return i&&n===i.container()&&t===i.offset()},getNode:function(i){return dp(n,i?t-1:t)}}};i.fromRangeStart=function(n){return i(n.startContainer,n.startOffset)};i.fromRangeEnd=function(n){return i(n.endContainer,n.endOffset)};i.after=function(n){return i(n.parentNode,lyt(n)+1)};i.before=function(n){return i(n.parentNode,lyt(n))};i.isAbove=function(n,t){return di(or(t.getClientRects()),yo(n.getClientRects()),hc).getOr(!1)};i.isBelow=function(n,t){return di(yo(t.getClientRects()),or(n.getClientRects()),cc).getOr(!1)};i.isAtStart=function(n){return!!n&&n.isAtStart()};i.isAtEnd=function(n){return!!n&&n.isAtEnd()};i.isTextPosition=function(n){return!!n&&o(n.container())};i.isElementPosition=function(n){return!1===i.isTextPosition(n)};var bt,rw,au=o,nwt=ko,twt=d.nodeIndex,iwt=function(n){var t=n.parentNode;return nwt(t)?iwt(t):t},ait=function(n){return n?uy(n.childNodes,function(n,t){return nwt(t)&&"BR"!==t.nodeName?n=n.concat(ait(t)):n.push(t),n},[]):[]},uw=rt,rwt=u(gyt,ki,!0),kvi=d.DOM,dvi=h,uwt=o,cs=function(n){dvi(n)&&hr(n)&&(nat(n)?n.removeAttribute("data-mce-caret"):apt(n));uwt(n)&&(ypt(n),0===n.data.length&&apt(n))},vit=kr().browser,gvi=rt,nyi=tu,tyi=yy,da=function(n){return gvi(n)||nyi(n)},yit=rt,iyi=tu,ryi=ly("display","block table table-cell table-caption list-item"),fwt=hr,ewt=kh,owt=h,uyi=nf,ga=u(kpt,!0),nv=u(kpt,!1);(rw=bt=bt||{})[rw.Backwards=-1]="Backwards";rw[rw.Forwards=1]="Forwards";var hbt,lw,cbt,cyi=rt,cf=o,lbt=h,ort=st,kc=nf,aw=ky,srt=function(n,t,r){var h,e,s,a,v,c,f,o,u,l;if(!lbt(r)||!t)return null;if(t.isEqual(i.after(r))&&r.lastChild){if(s=i.after(r.lastChild),n<0&&kc(r.lastChild)&&lbt(r.lastChild))return ort(r.lastChild)?i.before(r.lastChild):s}else s=t;if(f=s.container(),o=s.offset(),cf(f)){if(n<0&&0<o)return i(f,--o);if(0<n&&o<f.length)return i(f,++o);h=f}else{if(n<0&&0<o&&(u=swt(f,o-1),kc(u)))return!sbt(u)&&(e=ac(u,n,aw,u))?cf(e)?i(e,e.data.length):i.after(e):cf(u)?i(u,u.data.length):i.before(u);if(0<n&&o<f.childNodes.length&&(u=swt(f,o),kc(u)))return ort(u)?(a=r,(c=(v=u).nextSibling)&&kc(c)?cf(c)?i(c,0):i.before(c):srt(bt.Forwards,i.after(v),a)):!sbt(u)&&(e=ac(u,n,aw,u))?cf(e)?i(e,0):i.before(e):cf(u)?i(u,0):i.after(u);h=u||s.getNode()}return(0<n&&s.isAtEnd()||n<0&&s.isAtStart())&&(h=ac(h,n,lt,r,!0),aw(h,r))?hwt(n,h):(u=ac(h,n,aw,r),l=po(p(function(n,t){for(var i=[];n&&n!==t;)i.push(n),n=n.parentNode;return i}(f,r),cyi)),!l||u&&l.contains(u)?u?hwt(n,u):null:0<n?i.after(l):i.before(l))},vr=function(t,i,r){var u=vu(i);return n.from(t?u.next(r):u.prev(r))},abt=function(t,i,r,u){return fw(t,i,r).bind(function(r){return u(r)?abt(t,i,r,u):n.some(r)})},yu=u(vr,!0),lf=u(vr,!1),wi=u(vc,!0),af=u(vc,!1),vbt="_mce_caret",lyi=function(n,t,r){return 2===t?gyt(ve,r,n):3===t?(f=(u=n).getRng(),{start:yyt(u.dom.getRoot(),i.fromRangeStart(f)),end:yyt(u.dom.getRoot(),i.fromRangeEnd(f))}):t?{rng:n.getRng()}:tpt(n,!1);var u,f},uv=(hbt=ir,function(n){return hbt===n}),hrt=function(n,t){return void 0===t&&(t=!1),!(!g(n)||!o(n))&&ts(t?n.data.replace(/ /g," "):n.data)},dc=ar,ybt=sw,pbt=hrt,ayi=kit,wbt=function(n,t,i,r){var u=i.parentNode;return!g(i[r])&&(!(u!==t&&!wu(u)&&!n.isBlock(u))||wbt(n,t,u,r))},bbt=function(n){return vct(n).fold(f([n]),function(t){return[n].concat(bbt(t))})},crt=function(n){return yg(n).fold(f([n]),function(t){return"br"===vt(t)?bo(t).map(function(t){return[n].concat(crt(t))}).getOr([]):[n].concat(crt(t))})},vyi=(lw=gr,{get:function(n){if(!lw(n))throw new Error("Can only get text value of a text node");return cbt(n).getOr("")},getOption:cbt=function(t){return lw(t)?n.from(t.dom.nodeValue):n.none()},set:function(n,t){if(!lw(n))throw new Error("Can only set raw text value of a text node");n.dom.nodeValue=t}});rv.isBookmarkNode=ar;s={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(n){return n.shiftKey||n.ctrlKey||n.altKey||s.metaKeyPressed(n)},metaKeyPressed:function(n){return l.mac?n.metaKey:n.ctrlKey&&!n.altKey}};rkt=rt;fv.compareRanges=yrt;fv.getCaretRangeFromPoint=vrt;fv.getSelectedNode=bp;fv.getNode=to;fkt=(ww="height",ukt=function(n){var t=n.dom;return ta(n)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(n,t){if(!oh(t)&&!t.match(/^[0-9]+$/))throw new Error(ww+".set accepts only positive integer values. Value was "+t);var i=n.dom;vy(i)&&(i.style[ww]=t+"px")},get:ekt,getOuter:ekt,aggregate:okt,max:function(n,t,i){var r=okt(n,i);return r<t?t-r:0}});var ov,fdt=function(n,t){return n.view(t).fold(f([]),function(t){var i=n.owner(t),r=fdt(n,i);return[t].concat(r)})},rpi=Object.freeze({__proto__:null,view:function(i){var r;return(i.dom===document?n.none():n.from(null===(r=i.dom.defaultView)||void 0===r?void 0:r.frameElement)).map(t.fromDom)},owner:vh}),upi=function(n,i,r,u){var c=t.fromDom(n.getBody()),l=t.fromDom(n.getDoc()),o,s,h,f,e;c.dom.offsetWidth;e=(o=t.fromDom(r.startContainer),s=r.startOffset,h=function(n,t){var r=nu(n),i;return 0===r.length||brt(n)?{element:n,offset:t}:t<r.length&&!brt(r[t])?{element:r[t],offset:0}:(i=r[r.length-1],brt(i)?{element:n,offset:t}:"img"===vt(i)?{element:i,offset:1}:gr(i)?{element:i,offset:ert(i).length}:{element:i,offset:nu(i).length})}(o,s),f=t.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">﻿<\/span>'),ou(h.element,f),skt(f,function(){return ni(f)}));ckt(n,l,i,e,u);e.cleanup()},fpi=function(n,i,r){var f=r.startContainer,o=r.startOffset,e=r.endContainer,s=r.endOffset,u;i(t.fromDom(f),t.fromDom(e));u=n.dom.createRng();u.setStart(f,o);u.setEnd(e,s);n.selection.setRng(r)},rut=ce([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),epi=(rut.before,rut.on,rut.after,function(n){return n.fold(ki,ki,ki)}),gw=ce([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),edt={domRange:gw.domRange,relative:gw.relative,exact:gw.exact,exactFromRange:function(n){return gw.exact(n.start,n.soffset,n.finish,n.foffset)},getWin:function(n){return cct(n.match({domRange:function(n){return t.fromDom(n.startContainer)},relative:function(n){return epi(n)},exact:function(n){return n}}))},range:function(n,t,i,r){return{start:n,soffset:t,finish:i,foffset:r}}},opi=kr().browser,odt={isEditorUIElement:function(n){var t=n.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},uut=d.DOM,fut=function(n){return n.editorManager.setActive(n)},spi={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ru=(ci.create=function(n,t){var i=new ci(n,spi[n]||1);return t&&et(t,function(n,t){i.attr(t,n)}),i},ci.prototype.replace=function(n){return n.parent&&n.remove(),this.insert(n,this),this.remove(),this},ci.prototype.attr=function(n,t){var i,u=this,r;if("string"!=typeof n)return null!=n&&et(n,function(n,t){u.attr(t,n)}),u;if(i=u.attributes){if(void 0===t)return i.map[n];if(null===t){if(n in i.map)for(delete i.map[n],r=i.length;r--;)if(i[r].name===n)return i.splice(r,1),u;return u}if(n in i.map){for(r=i.length;r--;)if(i[r].name===n){i[r].value=t;break}}else i.push({name:n,value:t});return i.map[n]=t,u}},ci.prototype.clone=function(){var u,i=new ci(this.name,this.type),n,r,f,t;if(u=this.attributes){for(n=[],n.map={},r=0,f=u.length;r<f;r++)t=u[r],"id"!==t.name&&(n[n.length]={name:t.name,value:t.value},n.map[t.name]=t.value);i.attributes=n}return i.value=this.value,i.shortEnded=this.shortEnded,i},ci.prototype.wrap=function(n){return this.parent.insert(n,this),n.append(this),this},ci.prototype.unwrap=function(){for(var t,n=this.firstChild;n;)t=n.next,this.insert(n,this,!0),n=t;this.remove()},ci.prototype.remove=function(){var n=this.parent,t=this.next,i=this.prev;return n&&(n.firstChild===this?(n.firstChild=t)&&(t.prev=null):i.next=t,n.lastChild===this?(n.lastChild=i)&&(i.next=null):t.prev=i,this.parent=this.next=this.prev=null),this},ci.prototype.append=function(n){n.parent&&n.remove();var t=this.lastChild;return t?((t.next=n).prev=t,this.lastChild=n):this.lastChild=this.firstChild=n,n.parent=this,n},ci.prototype.insert=function(n,t,i){n.parent&&n.remove();var r=t.parent||this;return i?(t===r.firstChild?r.firstChild=n:t.prev.next=n,n.prev=t.prev,(n.next=t).prev=n):(t===r.lastChild?r.lastChild=n:t.next.prev=n,n.next=t.next,(n.prev=t).next=n),n.parent=r,n},ci.prototype.getAll=function(n){for(var i=[],t=this.firstChild;t;t=dw(t,this))t.name===n&&i.push(t);return i},ci.prototype.children=function(){for(var t=[],n=this.firstChild;n;n=n.next)t.push(n);return t},ci.prototype.empty=function(){var t,n,i;if(this.firstChild){for(t=[],n=this.firstChild;n;n=dw(n,this))t.push(n);for(i=t.length;i--;)(n=t[i]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},ci.prototype.isEmpty=function(n,t,i){void 0===t&&(t={});var r=this.firstChild;if(udt(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(n[r.name]||udt(r))return!1}if(8===r.type||3===r.type&&!function(n){if(ts(n.value)){var t=n.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(n.value)}}(r)||3===r.type&&r.parent&&t[r.parent.name]&&ts(r.value)||i&&i(r))return!1}while(r=dw(r,this));return!0},ci.prototype.walk=function(n){return dw(this,null,n)},ci);var sdt=r.each,hpi=r.trim,cpi="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),lpi={ftp:21,http:80,https:443,mailto:25},api=["img","video"],uo=(fr.parseDataUri=function(n){var t,i=decodeURIComponent(n).split(","),r=/data:([^;]+)/.exec(i[0]);return{type:t=r?r[1]:t,data:i[1]}},fr.isDomSafe=function(n,t,i){if((i=void 0===i?{}:i).allow_script_urls)return!0;var e,u,f,o,r=ye.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{r=decodeURIComponent(r)}catch(n){r=unescape(r)}return!(/((java|vb)script|mhtml):/i.test(r)||(u=r,f=t,!(e=i).allow_html_data_urls&&(/^data:image\//i.test(u)?(g(o=e.allow_svg_data_urls)?!o:!g(f)||!dt(api,f))&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u))))},fr.getDocumentBaseUrl=function(n){var t=0!==n.protocol.indexOf("http")&&"file:"!==n.protocol?n.href:n.protocol+"//"+n.host+n.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},fr.prototype.setPath=function(n){var t=/^(.*?)\/?(\w+)?$/.exec(n);this.path=t[0];this.directory=t[1];this.file=t[2];this.source="";this.getURI()},fr.prototype.toRelative=function(n){var r,t,i,u;return"./"===n?n:(t=new fr(n,{base_uri:this}),"mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)?t.getURI():(i=this.getURI(),u=t.getURI(),i===u||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===u?i:(r=this.toRelPath(this.path,t.path),t.query&&(r+="?"+t.query),t.anchor&&(r+="#"+t.anchor),r))},fr.prototype.toAbsolute=function(n,t){var i=new fr(n,{base_uri:this});return i.getURI(t&&this.isSameOrigin(i))},fr.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var t=lpi[this.protocol];if(t&&(this.port||t)==(n.port||t))return!0}return!1},fr.prototype.toRelPath=function(n,t){var i,u,e=0,o="",f=n.substring(0,n.lastIndexOf("/")).split("/"),r=t.split("/");if(f.length>=r.length)for(i=0,u=f.length;i<u;i++)if(i>=r.length||f[i]!==r[i]){e=i+1;break}if(f.length<r.length)for(i=0,u=r.length;i<u;i++)if(i>=f.length||f[i]!==r[i]){e=i+1;break}if(1===e)return t;for(i=0,u=f.length-(e-1);i<u;i++)o+="../";for(i=e-1,u=r.length;i<u;i++)o+=i!==e-1?"/"+r[i]:r[i];return o},fr.prototype.toAbsPath=function(n,t){var i,r,e=0,u=[],s=/\/$/.test(t)?"/":"",o=n.split("/"),f=t.split("/");for(sdt(o,function(n){n&&u.push(n)}),o=u,i=f.length-1,u=[];0<=i;i--)0!==f[i].length&&"."!==f[i]&&(".."!==f[i]?0<e?e--:u.push(f[i]):e++);return 0!==(r=(i=o.length-e)<=0?ry(u).join("/"):o.slice(0,i).join("/")+"/"+ry(u).join("/")).indexOf("/")&&(r="/"+r),s&&r.lastIndexOf("/")!==r.length-1&&(r+=s),r},fr.prototype.getURI=function(n){var t;return void 0===n&&(n=!1),this.source&&!n||(t="",n||(t+=this.protocol?this.protocol+"://":"//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},fr);hdt=r.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea");tb=function(n,t,i){var r,o,f,e,s,u;return(void 0===i&&(i=0),r=n.toLowerCase(),-1!==r.indexOf("[if ",i)&&(s=i,/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(s))))?(o=r.indexOf("[endif]",i),r.indexOf(">",o)):t?(f=r.indexOf(">",i),-1!==f?f:r.length):(e=/--!?>/g,e.lastIndex=i,u=e.exec(n),u?u.index+u[0].length:r.length)};nb.findEndTag=out;var vpi=cdt,ypi=r.each,vdt=r.makeMap,ydt=new Set;e(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(n){ydt.add(n)});var hnt,cnt=["font","text-decoration","text-emphasis"],cft=u(pdt,!0,yc),lft=u(pdt,!1,yc),wwi=fo(!0,wdt),bwi=fo(!1,wdt),tl=fo(!0,tu),il=fo(!1,tu),lnt=fo(!0,yh),ant=fo(!1,yh),eo=fo(!0,bdt),oo=fo(!1,bdt),aft=u(ngt,!1),vnt=u(ngt,!0),kwi=u(gdt,!1),dwi=u(gdt,!0),gwi=u(ib,!1),nbi=u(ib,!0),sv=ce([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ynt=function(t){var i;return(8===sct(i=t)||"#comment"===vt(i)?bo:yg)(t).bind(ynt).orThunk(function(){return n.some(t)})},vft=function(n,i,r,u){void 0===u&&(u=!0);i.deleteContents();var o,s=ynt(r).getOr(r),f=t.fromDom(n.dom.getParent(s.dom,n.dom.isBlock));return pt(f)&&(vs(f),u&&n.selection.setCursorLocation(f.dom,0)),nt(r,f)||e((ay(eu(f),r)?[]:eu(o=f).map(nu).map(function(n){return p(n,function(n){return!nt(o,n)})}).getOr([])).concat(nu(r)),function(n){nt(n,f)||oe(n,f)||!pt(n)||ni(n)}),!0},yft=function(n,t){return gt(ne(t,n),function(n){return su(n)&&"caption"===vt(n)})},sb=function(t,i){return vs(i),t.selection.setCursorLocation(i.dom,0),n.some(!0)},pft=yy,wft=function(n,t){t(n);n.firstChild&&wft(n.firstChild,t);n.next&&wft(n.next,t)},bft=dit,vf=function(n,t,i,r,u){var h=n.formatter.get(i),c=n.dom,e,f,o,s;if(h&&t)for(e=0;e<h.length;e++)if(f=h[e],fft(n.dom,t,f)&&unt(c,t,f,"attributes",u,r)&&unt(c,t,f,"styles",u,r)){if(o=f.classes,o)for(s=0;s<o.length;s++)if(!n.dom.hasClass(t,gf(o[s],r)))return;return f}},rl=fi,pnt="_mce_caret",hb={},wnt=ch,bnt=pl;hnt=function(n){var t,r=n.selection.getRng(),i=dr(["pre"]);r.collapsed||(t=n.selection.getSelectedBlocks(),bnt(wnt(wnt(t,i),function(n){return i(n.previousSibling)&&-1!==oht(t,n.previousSibling)}),function(n){var t,i=n.previousSibling;a(t=n).remove();a(i).append("<br><br>").append(t.childNodes)}))};hb.pre||(hb.pre=[]);hb.pre.push(hnt);var eet=r.each,oet=function(n,t,i){eet(n.childNodes,function(n){kft(n)&&(t(n)&&i(n),n.hasChildNodes()&&oet(n,t,i))})},hv=ce([{keep:[]},{rename:["name"]},{removed:[]}]),cbi=/^(src|href|style)$/,set=r.each,fl=dit,uii=r.each,yb=r.each,het=function(i,u,f,s){function y(n,t){var i;ft((t=void 0===t?c:t).onformat)&&t.onformat(n,t,f,s);yb(t.styles,function(t,i){l.setStyle(n,i,gf(t,f))});!t.styles||(i=l.getAttrib(n,"style"))&&l.setAttrib(n,"data-mce-style",i);yb(t.attributes,function(t,i){l.setAttrib(n,i,gf(t,f))});yb(t.classes,function(t){t=gf(t,f);l.hasClass(n,t)||l.addClass(n,t)})}function b(n,t){var i=!1;return yb(n,function(n){return!!ur(n)&&(g(n.collapsed)&&n.collapsed!==ut||!l.is(t,n.selector)||sf(t)?void 0:(y(t,n),!(i=!0)))}),i}function k(s,v,p){var k=[],w=!0,d=c.inline||c.block,tt=function(n){if(ht(n)){var t=l.create(n);return y(t),t}return null}(d);tv(s,v,function(r){var l,v=function(r){var it=!1,ot=w,ht=r.nodeName.toLowerCase(),ut=r.parentNode,ft=ut.nodeName.toLowerCase(),et,rt;if(h(r)&&s.getContentEditable(r)&&(ot=w,w="true"===s.getContentEditable(r),it=!0),st(r)&&!function(i,r,u,f){var e,o,s,h,c,l;if(i.getParam("format_empty_lines",!1,"boolean")&&kt(r))return e=sat(i.schema),o=(s=t.fromDom(u),c=function(n){return sf(n.dom)},((l=(h=s).dom).parentNode?ili(t.fromDom(l.parentNode),function(n){return!nt(h,n)&&c(n)}):n.none()).isSome()),hh(e,f)&&pt(t.fromDom(u.parentNode),!1)&&!o}(i,c,r,ft))return l=null,void(hf(c)&&s.remove(r));if(hf(c)&&c.wrapper&&vf(i,r,u,f))l=null;else{if(w&&!it&&hf(c)&&!c.wrapper&&kit(i,ht)&&pc(i,ft,d))return et=s.rename(r,d),y(et),k.push(et),void(l=null);if(ur(c)&&(rt=b(a,r),!rt&&g(ut)&&nrt(c)&&(rt=b(a,ut)),!kt(c)||rt))return void(l=null);!w||it||!pc(i,d,ht)||!pc(i,ft,d)||!p&&o(r)&&ip(r.data)||sf(r)||kt(c)&&s.isBlock(r)?(l=null,e(bu(r.childNodes),v),it&&(w=ot),l=null):(l||(l=s.clone(tt,!1),r.parentNode.insertBefore(l,r),k.push(l)),l.appendChild(r))}};e(r,v)});!0===c.links&&e(k,function(n){var t=function(n){"A"===n.nodeName&&y(n,c);e(bu(n.childNodes),t)};t(n)});e(k,function(n){function lt(n){var i;1===n.nodeType&&n.parentNode&&1===n.parentNode.nodeType&&(i=dwt(t,n.parentNode),t.getStyle(n,"color")&&i?t.setStyle(n,"text-decoration",i):t.getStyle(n,"text-decoration")===i&&t.setStyle(n,"text-decoration",null))}var nt,h,v,tt,it,ot,l,p,st,w,b,rt,t,ut,ft,d,ht,et,ct=(nt=0,e(n.childNodes,function(n){var t;g(t=n)&&o(t)&&0===t.length||ar(n)||nt++}),nt);!(1<k.length)&&s.isBlock(n)||0!==ct?(kt(c)||hf(c)&&c.wrapper)&&(c.exact||1!==ct||(n=gt((rt=n).childNodes,tbi).filter(function(n){return fft(s,n,c)}).map(function(n){var t=s.clone(n,!1);return y(t),s.replace(t,rt,!0),s.remove(n,!0),t}).getOr(rt)),d=i,ht=f,et=n,uii(a,function(n){var t,i,r;kt(n)&&uii(d.dom.select(n.inline,et),function(t){kft(t)&&ul(d,n,ht,t,n.exact?t:null)});t=d.dom;(i=n).clear_child_styles&&(r=i.links?"*:not(a)":"*",eet(t.select(r,et),function(n){kft(n)&&eet(i.styles,function(i,r){t.setStyle(n,r,"")})}))}),p=c,vf(l=i,(b=n).parentNode,st=u,w=f)&&ul(l,p,w,b)||p.merge_with_parents&&l.dom.getParent(b.parentNode,function(n){if(vf(l,n,st,w))return ul(l,p,w,b),!0}),ot=n,(it=c).styles&&it.styles.backgroundColor&&oet(ot,nti(s,"fontSize"),tti(s,"backgroundColor",gf(it.styles.backgroundColor,f))),t=s,ft=n,(ut=c).styles&&(ut.styles.color||ut.styles.textDecoration)&&(r.walk(ft,lt,"childNodes"),lt(ft)),h=s,tt=n,!kt(v=c)||"sub"!==v.inline&&"sup"!==v.inline||(oet(tt,nti(h,"fontSize"),tti(h,"fontSize","")),h.remove(h.select("sup"===v.inline?"sub":"sup",tt),!0)),gnt(s,c,0,n)):s.remove(n,!0)})}var d,it,tt,rt,a=i.formatter.get(u),c=a[0],ut=!s&&i.selection.isCollapsed(),l=i.dom,v=i.selection,w,et,p;if("false"!==l.getContentEditable(v.getNode()))c&&(s?ew(s)?b(a,s)||((d=l.createRng()).setStartBefore(s),d.setEndAfter(s),k(l,wc(i,d,a),!0)):k(l,s,!0):ut&&kt(c)&&!bc(i).length?function(n,t,i){var o,f=n.selection,e=f.getRng(),r=e.startOffset,s=e.startContainer.nodeValue,u=ls(n.getBody(),f.getStart()),c,l,a,v,h;u&&(o=ent(u));h=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&0<r&&r<s.length&&h.test(s.charAt(r))&&h.test(s.charAt(r-1))?(c=f.getBookmark(),e.collapse(!0),l=pw(wc(n,e,n.formatter.get(t))),n.formatter.apply(t,i,l),f.moveToBookmark(c)):(u&&o.nodeValue===rl||(a=n.getDoc(),v=oft(!0).dom,o=(u=a.importNode(v,!0)).firstChild,e.insertNode(u),r=1),n.formatter.apply(t,i,u),f.setCursorLocation(o,r))}(i,u,f):(it=v.getNode(),tt=a[0],i.settings.forced_root_block||!tt.defaultBlock||l.getParent(it,l.isBlock)||het(i,tt.defaultBlock),v.setRng(gut(v.getRng())),frt(v,!0,function(){urt(i,function(n,t){var r=t?n:wc(i,n,a);k(l,r,!1)})}),kwt(l,v,v.getRng()),i.nodeChanged()),rt=i,bnt(hb[u],function(n){n(rt)})),dbt(i,u,s,f);else{for(s=v.getNode(),w=0,et=a.length;w<et;w++)if(p=a[w],p.ceFalseOverride&&ur(p)&&l.is(s,p.selector)){y(s,p);break}dbt(i,u,s,f)}},fii=function(n){return n.selection.getStart()},eii=function(n,t,i){var r=cti(n,t);et(i,function(i,u){function f(i){var o,s=hti(n,r,u,i.similar,sti(i)?i.vars:void 0),f=s.isSome();i.state.get()!==f&&(i.state.set(f),o=s.getOr(t),sti(i)?i.callback(f,{node:o,format:u,parents:r}):e(i.callbacks,function(n){return n(f,{node:o,format:u,parents:r})}))}e([i.withSimilar,i.withoutSimilar],f);e(i.withVars,f)})},lbi=hht(function(){return document.implementation.createHTMLDocument("undo")});var kii,bb,gbi=0,dii=function(n,t){return n&&n.firstChild&&n.firstChild===n.lastChild&&n.firstChild.name===t},gii=r.makeMap,nri=r.each,tri=r.explode,nki=r.extend,kb=d.DOM,iri=(kii=function(n,t){return eh(n)&&eh(t)?iri(n,t):t},function(){for(var r,u,i,f,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(0===n.length)throw new Error("Can't merge zero objects");for(r={},u=0;u<n.length;u++){f=n[u];for(i in f)w(f,i)&&(r[i]=kii(r[i],f[i]))}return r}),tki="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),iki="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),rki="imagetools,toc".split(","),wet=kr().deviceType,uki=wet.isTouch(),rri=wet.isPhone(),fki=wet.isTablet(),eki=["lists","autolink","autosave"],uri={table_grid:!1,object_resizing:!1,resize:!1},db=(bb={},{add:function(n,t){bb[n]=t},get:function(n){return bb[n]||{icons:{}}},has:function(n){return w(bb,n)}}),oki=u(yii,"clientWidth"),ski=u(yii,"clientHeight"),hki=u(pii,"margin-top"),cki=u(pii,"margin-left"),pu=rr.PluginManager,so=rr.ThemeManager;var re,co,kui=function(n,t){var i=n.editorManager.baseURL+"/skins/content",r="content"+n.editorManager.suffix+".css",u=!0===n.inline;return ut(t,function(t){return/^[a-z0-9\-]+$/i.test(t)&&!u?i+"/"+t+"/"+r:n.documentBaseURI.toAbsolute(t)})},vdi=0,hk=r.each,li=d.DOM,ydi=[9,27,s.HOME,s.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,s.DOWN,s.UP,s.LEFT,s.RIGHT].concat(l.browser.isFirefox()?[224]:[]),dui="data-mce-placeholder",pdi=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,gui=u(yr,!0),nfi=u(yr,!1),wdi=gu,bdi=rt,pr=ce([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),ol=o,kdi=u(ek,!0),ddi=u(ek,!1),ai=ce([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),uot=function(n){return n.fold(ki,ki,ki,ki)};u(rot,!1);u(rot,!0);(co=re={})[co.Br=0]="Br";co[co.Block=1]="Block";co[co.Wrap=2]="Wrap";co[co.Eol=3]="Eol";var bs,lk,av=u(ifi,i.isAbove,-1),vv=u(ifi,i.isBelow,1),ngi=u(rfi,-1,av),tgi=u(rfi,1,vv);(lk=bs=bs||{})[lk.Up=-1]="Up";lk[lk.Down=1]="Down";var ini=u(ffi,bs.Up,hc,cc),rni=u(ffi,bs.Down,cc,hc),uni=rt,woi=ac,dot=function(n,t){var f=n.selection.getRng(),e=n.getBody(),r,u;return t?(r=i.fromRangeEnd(f),u=vv(e,r),yo(u.positions)):(r=i.fromRangeStart(f),or((u=av(e,r)).positions))},fni=u(pfi,!0),eni=u(pfi,!1),boi=function(n){return p(ut(n.selection.getSelectedBlocks(),t.fromDom),function(n){return!gfi(n)&&!eu(n).exists(gfi)&&py(n,function(n){return gu(n.dom)||rt(n.dom)}).exists(function(n){return gu(n.dom)})})},koi=rt,oni=u(pei,function(n){return n.bottom},function(n,t){return n.y<t}),sni=u(pei,function(n){return n.top},function(n,t){return n.y>t}),hni=u(wei,av),cni=u(wei,vv),lni=function(n,t){return r=i.after(t),!!st(r.getNode())||yu(n,i.after(t)).map(function(n){return st(n.getNode())}).getOr(!1);var r},er=ce([{br:[]},{block:[]},{none:[]}]),ani=kr().browser,vni=kr(),yni=u(poi,ir),pni=u(poi," "),wni=(got.prototype.nodeChanged=function(n){var t,r,i,u=this.editor.selection;this.editor.initialized&&u&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),(t=u.getStart(!0)||i).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,i)||(t=i),r=[],this.editor.dom.getParent(t,function(n){return n===i||void r.push(n)}),(n=n||{}).element=t,n.parents=r,this.editor.fire("NodeChange",n))},got.prototype.isSameElementPath=function(n){var t,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(t=i.length;0<=t&&i[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=i,!0}return this.lastPath=i,!1},got);var id=rt,etr=gu,asi=function(n){n.on(function(n){nsi(n.ghost)});n.clear()},vsi=gu,ks=rt,ust=d.DOM,bv=d.DOM,ysi=d.DOM,psi=function(n,t,i){var o,s,h,u,f=pu.get(i),c=pu.urls[i]||n.documentBaseUrl.replace(/\/$/,""),e;if(i=r.trim(i),f&&-1===r.inArray(t,i)&&(r.each(pu.dependencies(i),function(i){psi(n,t,i)}),!n.plugins[i]))try{e=new f(n,c,n.$);(n.plugins[i]=e).init&&(e.init(n,c),t.push(i))}catch(f){s=i;h=f;kbt(o=n,"PluginLoadError",{message:u=lu.translate(["Failed to initialize plugin: {0}",s])});sk(u,h);gb(o,u)}},ds=d.DOM,otr={"font-size":"size","font-family":"face"},str=csi("font-size"),htr=vo(function(n){return n.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},csi("font-family")),rd=r.each,ctr=r.map,ltr=r.inArray,wsi=(bi.prototype.execCommand=function(n,t,i,r){var o,s,f=!1,u=this,e;if(!u.editor.removed){if("mcefocus"!==n.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)||r&&r.skip_focus?nut(s=u.editor).each(function(n){return s.selection.setRng(n)}):u.editor.focus()),(r=u.editor.fire("BeforeExecCommand",{command:n,ui:t,value:i})).isDefaultPrevented())return!1;if(e=n.toLowerCase(),o=u.commands.exec[e])return o(e,t,i),u.editor.fire("ExecCommand",{command:n,ui:t,value:i}),!0;if(rd(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(n,t,i))return u.editor.fire("ExecCommand",{command:n,ui:t,value:i}),!(f=!0)}),f)return f;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(n,t,i))return u.editor.fire("ExecCommand",{command:n,ui:t,value:i}),!0;try{f=u.editor.getDoc().execCommand(n,t,i)}catch(r){}return!!f&&(u.editor.fire("ExecCommand",{command:n,ui:t,value:i}),!0)}},bi.prototype.queryCommandState=function(n){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(n=n.toLowerCase(),t=this.commands.state[n])return t(n);try{return this.editor.getDoc().queryCommandState(n)}catch(n){}return!1}},bi.prototype.queryCommandValue=function(n){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(n=n.toLowerCase(),t=this.commands.value[n])return t(n);try{return this.editor.getDoc().queryCommandValue(n)}catch(n){}}},bi.prototype.addCommands=function(n,t){void 0===t&&(t="exec");var i=this;rd(n,function(n,r){rd(r.toLowerCase().split(","),function(r){i.commands[t][r]=n})})},bi.prototype.addCommand=function(n,t,i){var r=this;n=n.toLowerCase();this.commands.exec[n]=function(n,u,f,e){return t.call(i||r.editor,u,f,e)}},bi.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch(n){}return!1},bi.prototype.addQueryStateHandler=function(n,t,i){var r=this;n=n.toLowerCase();this.commands.state[n]=function(){return t.call(i||r.editor)}},bi.prototype.addQueryValueHandler=function(n,t,i){var r=this;n=n.toLowerCase();this.commands.value[n]=function(){return t.call(i||r.editor)}},bi.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},bi.prototype.execNativeCommand=function(n,t,i){return void 0===t&&(t=!1),void 0===i&&(i=null),this.editor.getDoc().execCommand(n,t,i)},bi.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},bi.prototype.toggleFormat=function(n,t){this.editor.formatter.toggle(n,t);this.editor.nodeChanged()},bi.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},bi.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},bi.prototype.setupCommands=function(n){function f(t){return function(){var i=n.selection,r=i.isCollapsed()?[n.dom.getParent(i.getNode(),n.dom.isBlock)]:i.getSelectedBlocks(),u=ctr(r,function(i){return!!n.formatter.matchNode(i,t)});return-1!==ltr(u,!0)}}var i=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":y,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(t,i,r){var u,f;f=r;(u=n).removed||(f?fut:function(n){var f=n.selection,t=n.getBody(),i=f.getRng(),r,e,u;if(n.quirks.refreshContentEditable(),void 0!==n.bookmark&&!1===as(n)&&nut(n).each(function(t){n.selection.setRng(t);i=t}),u=(r=n,e=f.getNode(),r.dom.getParent(e,function(n){return"true"===r.dom.getContentEditable(n)})),n.$.contains(t,u))return tut(u),gkt(n,i),fut(n);n.inline||(l.opera||tut(t),n.getWin().focus());(l.gecko||n.inline)&&(tut(t),gkt(n,i));fut(n)})(u)},"Cut,Copy,Paste":function(t){var u,r,f=n.getDoc();try{i.execNativeCommand(t)}catch(t){u=!0}((u="paste"===t&&!f.queryCommandEnabled(t)||u)||!f.queryCommandSupported(t))&&(r=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),l.mac&&(r=r.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:r,type:"error"}))},unlink:function(){var t;n.selection.isCollapsed()?(t=n.dom.getParent(n.selection.getStart(),"a"))&&n.dom.remove(t,!0):n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var r=t.substring(7);"full"===r&&(r="justify");rd("left,center,right,justify".split(","),function(t){r!==t&&n.formatter.remove("align"+t)});"none"!==r&&i.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(t){var u,r;i.execNativeCommand(t);r=n.dom.getParent(n.selection.getNode(),"ol,ul");r&&(u=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(u.nodeName)&&(i.storeSelection(),n.dom.split(u,r),i.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){i.toggleFormat(n)},"ForeColor,HiliteColor":function(n,t,r){i.toggleFormat(n,{value:r})},FontName:function(t,i,r){var u,f;f=lsi(u=n,r);u.formatter.toggle("fontname",{value:ut(f.split(/\s*,\s*/),function(n){return-1===n.indexOf(" ")||wo(n,'"')||wo(n,"'")?n:"'"+n+"'"}).join(",")});u.nodeChanged()},FontSize:function(t,i,r){var u;(u=n).formatter.toggle("fontsize",{value:lsi(u,r)});u.nodeChanged()},LineHeight:function(t,i,r){var u;(u=n).formatter.toggle("lineheight",{value:String(r)});u.nodeChanged()},Lang:function(n,t,r){i.toggleFormat(n,{value:r.code,customValue:r.customCode})},RemoveFormat:function(t){n.formatter.remove(t)},mceBlockQuote:function(){i.toggleFormat("blockquote")},FormatBlock:function(n,t,r){return i.toggleFormat(r||"p")},mceCleanup:function(){var t=n.selection.getBookmark();n.setContent(n.getContent());n.selection.moveToBookmark(t)},mceRemoveNode:function(t,r,u){var f=u||n.selection.getNode();f!==n.getBody()&&(i.storeSelection(),n.dom.remove(f,!0),i.restoreSelection())},mceSelectNodeDepth:function(t,i,r){var u=0;n.dom.getParent(n.selection.getNode(),function(t){if(1===t.nodeType&&u++===r)return n.selection.select(t),!1},n.getBody())},mceSelectNode:function(t,i,r){n.selection.select(r)},mceInsertContent:function(t,i,u){var e,f,o,s;e=n;f=function(n){if("string"==typeof n)return{content:n,details:{}};var t=r.extend({paste:n.paste,data:{paste:n.paste}},n);return{content:n.content,details:t}}(u);o=f.content;s=f.details;fet(e).editor.insertContent(o,s)},mceInsertRawHTML:function(t,i,r){n.selection.setContent("tiny_mce_marker");var u=n.getContent();n.setContent(u.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,i,r){loi(n,r)},mceToggleFormat:function(n,t,r){i.toggleFormat(r)},mceSetContent:function(t,i,r){n.setContent(r)},"Indent,Outdent":function(t){nei(n,t)},mceRepaint:y,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual;n.addVisual()},mceReplaceContent:function(t,i,r){n.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(t,i,r){"string"==typeof r&&(r={href:r});var u=n.dom.getParent(n.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20");u&&r.href||n.formatter.remove("link");r.href&&n.formatter.apply("link",r,u)},selectAll:function(){var t,i=n.dom.getParent(n.selection.getStart(),gu);i&&((t=n.dom.createRng()).selectNodeContents(i),n.selection.setRng(t))},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(t,i,r){return eoi(n,r),!0}});i.addCommands({JustifyLeft:f("alignleft"),JustifyCenter:f("aligncenter"),JustifyRight:f("alignright"),JustifyFull:f("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return i.isFormatMatch(n)},mceBlockQuote:function(){return i.isFormatMatch("blockquote")},Outdent:function(){return dfi(n)},"InsertUnorderedList,InsertOrderedList":function(t){var i=n.dom.getParent(n.selection.getNode(),"ul,ol");return i&&("insertunorderedlist"===t&&"UL"===i.tagName||"insertorderedlist"===t&&"OL"===i.tagName)}},"state");i.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}});i.addQueryValueHandler("FontName",function(){return rst(t=n,function(n){return htr(t.getBody(),n.dom)}).getOr("");var t},this);i.addQueryValueHandler("FontSize",function(){return rst(t=n,function(n){return str(t.getBody(),n.dom)}).getOr("");var t},this);i.addQueryValueHandler("LineHeight",function(){return rst(i=n,function(n){var r=t.fromDom(i.getBody());return rft(n,function(n){return kg(n,"line-height")},u(nt,r)).getOrThunk(function(){var t=parseFloat(bf(n,"line-height")),i=parseFloat(bf(n,"font-size"));return String(t/i)})}).getOr("");var i},this)},bi);var nh="data-mce-contenteditable",ytr=r.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),est=(th.isNative=function(n){return!!ytr[n.toLowerCase()]},th.prototype.fire=function(n,t){var e=n.toLowerCase(),i=cat(e,t||{},this.scope),u,f,o,r;if(this.settings.beforeFire&&this.settings.beforeFire(i),u=this.bindings[e],u)for(f=0,o=u.length;f<o;f++)if(r=u[f],!r.removed){if(r.once&&this.off(e,r.func),i.isImmediatePropagationStopped())return i;if(!1===r.func.call(this.scope,i))return i.preventDefault(),i}return i},th.prototype.on=function(n,t,i,u){var e,s,h,o,f;if(t=!1===t?it:t)for(e={func:t,removed:!1},u&&r.extend(e,u),s=n.toLowerCase().split(" "),h=s.length;h--;)o=s[h],f=this.bindings[o],f||(f=[],this.toggleEvent(o,!0)),f=i?ee([e],f,!0):ee(ee([],f,!0),[e],!1),this.bindings[o]=f;return this},th.prototype.off=function(n,t){var u=this,f,o,s,r,i;if(n)for(f=n.toLowerCase().split(" "),o=f.length;o--;){if(r=f[o],i=this.bindings[r],!r)return et(this.bindings,function(n,t){u.toggleEvent(t,!1);delete u.bindings[t]}),this;i&&(t?(i=(s=nht(i,function(n){return n.func===t})).fail,this.bindings[r]=i,e(s.pass,function(n){n.removed=!0})):i.length=0,i.length||(this.toggleEvent(n,!1),delete this.bindings[r]))}else et(this.bindings,function(n,t){u.toggleEvent(t,!1)}),this.bindings={};return this},th.prototype.once=function(n,t,i){return this.on(n,t,i,{once:!0})},th.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||0===this.bindings[n].length)},th);var ih,ed={fire:function(n,t,i){var u,r;if(this.removed&&"remove"!==n&&"detach"!==n)return t;if(u=kv(this).fire(n,t),!1!==i&&this.parent)for(r=this.parent();r&&!u.isPropagationStopped();)r.fire(n,u,!1),r=r.parent();return u},on:function(n,t,i){return kv(this).on(n,t,i)},off:function(n,t){return kv(this).off(n,t)},once:function(n,t){return kv(this).once(n,t)},hasEventListeners:function(n){return kv(this).has(n)}},od=d.DOM,nhi=c(c({},ed),{bindPendingEventDelegates:function(){var n=this;r.each(n._pendingNativeEvents,function(t){dsi(n,t)})},toggleNativeEvent:function(n,t){var i=this;"focus"!==n&&"blur"!==n&&(i.removed||(t?i.initialized?dsi(i,n):i._pendingNativeEvents?i._pendingNativeEvents.push(n):i._pendingNativeEvents=[n]:i.initialized&&(i.dom.unbind(fd(i,n),n,i.delegates[n]),delete i.delegates[n])))},unbindAllNativeEvents:function(){var n=this,i=n.getBody(),t=n.dom;n.delegates&&(et(n.delegates,function(t,i){n.dom.unbind(fd(n,i),i,t)}),delete n.delegates);!n.inline&&i&&t&&(i.onload=null,t.unbind(n.getWin()),t.unbind(n.getDoc()));t&&(t.unbind(i),t.unbind(n.getContainer()))}}),wtr=["design","readonly"],ost=r.each,sst=r.explode,btr={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},thi=r.makeMap("alt,ctrl,shift,meta,access"),ihi=(fe.prototype.add=function(n,t,i,u){var f=this,e=f.normalizeCommandFunc(i);return ost(sst(r.trim(n)),function(n){var i=f.createShortcut(n,t,e,u);f.shortcuts[i.id]=i}),!0},fe.prototype.remove=function(n){var t=this.createShortcut(n);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},fe.prototype.normalizeCommandFunc=function(n){var i=this,t=n;return"string"==typeof t?function(){i.editor.execCommand(t,!1,null)}:r.isArray(t)?function(){i.editor.execCommand(t[0],t[1],t[2])}:t},fe.prototype.createShortcut=function(n,t,i,u){var f=r.map(sst(n,">"),ptr);return f[f.length-1]=r.extend(f[f.length-1],{func:i,scope:u||this.editor}),r.extend(f[0],{desc:this.editor.translate(t),subpatterns:f.slice(1)})},fe.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},fe.prototype.isFunctionKey=function(n){return"keydown"===n.type&&112<=n.keyCode&&n.keyCode<=123},fe.prototype.matchShortcut=function(n,t){return!!t&&t.ctrl===n.ctrlKey&&t.meta===n.metaKey&&t.alt===n.altKey&&t.shift===n.shiftKey&&!!(n.keyCode===t.keyCode||n.charCode&&n.charCode===t.charCode)&&(n.preventDefault(),!0)},fe.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},fe);var rh=d.DOM,rhi=r.extend,ktr=r.each,uhi=r.resolve,dtr=l.ie,sd=(b.prototype.render=function(){!function(n){var u=n.id,r,e,o,i,f;lu.setCode(opt(n));f=function(){ds.unbind(window,"ready",f);n.render()};ic.Event.domLoaded?n.getElement()&&l.contentEditable&&(r=t.fromDom(n.getElement()),e=fu(r.dom.attributes,function(n,t){return n[t.name]=t.value,n},{}),n.on("remove",function(){gst(r.dom.attributes,function(n){return he(r,n.name),0});se(r,e)}),n.ui.styleSheetLoader=glt.forElement(r,{contentCssCors:(o=n).getParam("content_css_cors"),referrerPolicy:ept(o)}),n.getParam("inline")?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden"),(i=n.getElement().form||ds.getParent(u,"form"))&&(n.formElement=i,n.getParam("hidden_input")&&!gg(n.getElement())&&(ds.insertAfter(ds.create("input",{type:"hidden",name:u}),u),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},ds.bind(i,"submit reset",n.formEventDelegate),n.on("reset",function(){n.resetContent()}),!n.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),i._mceOldSubmit(i)})),n.windowManager=fri(n),n.notificationManager=bii(n),"xml"===n.getParam("encoding")&&n.on("GetContent",function(n){n.save&&(n.content=ds.encode(n.content))}),n.getParam("add_form_submit_trigger")&&n.on("submit",function(){n.initialized&&n.save()}),n.getParam("add_unload_trigger")&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),utr(n,n.suffix)):ds.bind(window,"ready",f)}(this)},b.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},b.prototype.hasFocus=function(){return as(this)},b.prototype.execCallback=function(n){for(var t,i,u=[],r=1;r<arguments.length;r++)u[r-1]=arguments[r];return i=this.settings[n],i?(this.callbackLookup&&(t=this.callbackLookup[n])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=(t=i.replace(/\.\w+$/,""))?uhi(t):0,i=uhi(i),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[n]={func:i,scope:t}),i.apply(t||this,u)):void 0},b.prototype.translate=function(n){return lu.translate(n)},b.prototype.getParam=function(n,t,i){return o=t,s=i,l=(f=n)in(u=this).settings?u.settings[f]:o,"hash"===s?(c={},"string"==typeof(h=l)?e(0<h.indexOf("=")?h.split(/[;,](?![^=;,]*(?:[;,]|$))/):h.split(","),function(n){var t=n.split("=");c[r.trim(t[0])]=1<t.length?r.trim(t[1]):r.trim(t[0])}):c=h,c):"string"===s?ps(ht,u,f).getOr(o):"number"===s?ps(oh,u,f).getOr(o):"boolean"===s?ps(bst,u,f).getOr(o):"object"===s?ps(eh,u,f).getOr(o):"array"===s?ps(br,u,f).getOr(o):"string[]"===s?ps((a=ht,function(n){return br(n)&&vl(n,a)}),u,f).getOr(o):"function"===s?ps(ft,u,f).getOr(o):l;var u,f,o,s,a,h,c,l},b.prototype.hasPlugin=function(n,t){return!(!dt(sit(this).split(/[ ,]/),n)||t&&void 0===pu.get(n))},b.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},b.prototype.addCommand=function(n,t,i){this.editorCommands.addCommand(n,t,i)},b.prototype.addQueryStateHandler=function(n,t,i){this.editorCommands.addQueryStateHandler(n,t,i)},b.prototype.addQueryValueHandler=function(n,t,i){this.editorCommands.addQueryValueHandler(n,t,i)},b.prototype.addShortcut=function(n,t,i,r){this.shortcuts.add(n,t,i,r)},b.prototype.execCommand=function(n,t,i,r){return this.editorCommands.execCommand(n,t,i,r)},b.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},b.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},b.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},b.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(rh.show(this.getContainer()),rh.hide(this.id)),this.load(),this.fire("show"))},b.prototype.hide=function(){var n=this,t=n.getDoc();n.hidden||(dtr&&t&&!n.inline&&t.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(rh.hide(n.getContainer()),rh.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},b.prototype.isHidden=function(){return!!this.hidden},b.prototype.setProgressState=function(n,t){this.fire("ProgressState",{state:n,time:t})},b.prototype.load=function(n){var t=this.getElement(),i,r;return this.removed?"":t?((n=n||{}).load=!0,i=gg(t)?t.value:t.innerHTML,r=this.setContent(i,n),n.element=t,n.no_events||this.fire("LoadContent",n),n.element=t=null,r):void 0},b.prototype.save=function(n){var r,u,t=this,i=t.getElement();if(i&&t.initialized&&!t.removed)return(n=n||{}).save=!0,n.element=i,n.content=t.getContent(n),n.no_events||t.fire("SaveContent",n),"raw"===n.format&&t.fire("RawSaveContent",n),r=n.content,gg(i)?i.value=r:(!n.is_removing&&t.inline||(i.innerHTML=r),(u=rh.getParent(t.id,"form"))&&ktr(u.elements,function(n){if(n.name===t.id)return n.value=r,!1})),n.element=i=null,!1!==n.set_dirty&&t.setDirty(!1),r},b.prototype.setContent=function(n,t){return pet(this,n,t)},b.prototype.getContent=function(n){return i=this,r=(t=void 0===(t=n)?{}:t).format||"html",u=t,fet(i).editor.getContent(u,r);var i,t,r,u},b.prototype.insertContent=function(n,t){t&&(n=rhi({content:n},t));this.execCommand("mceInsertContent",!1,n)},b.prototype.resetContent=function(n){void 0===n?pet(this,this.startContent,{format:"raw"}):pet(this,n);this.undoManager.reset();this.setDirty(!1);this.nodeChanged()},b.prototype.isDirty=function(){return!this.isNotDirty},b.prototype.setDirty=function(n){var t=!this.isNotDirty;this.isNotDirty=!n;n&&n!==t&&this.fire("dirty")},b.prototype.getContainer=function(){return this.container||(this.container=rh.get(this.editorContainer||this.id+"_parent")),this.container},b.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},b.prototype.getElement=function(){return this.targetElm||(this.targetElm=rh.get(this.id)),this.targetElm},b.prototype.getWin=function(){var n;return this.contentWindow||(n=this.iframeElement)&&(this.contentWindow=n.contentWindow),this.contentWindow},b.prototype.getDoc=function(){var n;return this.contentDocument||(n=this.getWin())&&(this.contentDocument=n.document),this.contentDocument},b.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},b.prototype.convertURL=function(n,t,i){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",n,i,!0,t):!r.convert_urls||i&&"LINK"===i.nodeName||0===n.indexOf("file:")||0===n.length?n:r.relative_urls?this.documentBaseURI.toRelative(n):this.documentBaseURI.toAbsolute(n,r.remove_script_host)},b.prototype.addVisual=function(n){var t;t=n;ct(this).editor.addVisual(t)},b.prototype.remove=function(){var n,r,u,t,i;(n=this).removed||(r=n._selectionOverrides,u=n.editorUpload,t=n.getBody(),i=n.getElement(),t&&n.save({is_removing:!0}),n.removed=!0,n.unbindAllNativeEvents(),n.hasHiddenInput&&i&&kb.remove(i.nextSibling),n.fire("remove"),n.editorManager.remove(n),!n.inline&&t&&kb.setStyle(n.id,"display",n.orgDisplay),n.fire("detach"),kb.remove(n.getContainer()),pb(r),pb(u),n.destroy())},b.prototype.destroy=function(n){var i,u,f,r,t,e,o;u=n;e=(i=this).selection;o=i.dom;i.destroyed||(u||i.removed?(u||(i.editorManager.off("beforeunload",i._beforeUnload),i.theme&&i.theme.destroy&&i.theme.destroy(),pb(e),pb(o)),(r=(f=i).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),kb.unbind(r,"submit reset",f.formEventDelegate)),(t=i).contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null),i.destroyed=!0):i.remove())},b.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},b.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},b.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead");},b.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead");},b.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead");},b.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead");},b);var hd,uu=d.DOM,gtr=r.explode,pf=r.each,nir=r.extend,tir=0,shi=!1,lo=[],nr=[],iir="CSS1Compat"!==document.compatMode,ao=c(c({},ed),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:a,majorVersion:"5",minorVersion:"10.5",releaseDate:"2022-05-25",editors:lo,i18n:lu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var i,f="",t=uo.getDocumentBaseUrl(document.location),r,n,o,e,s;if(/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),r=window.tinymce||window.tinyMCEPreInit,r)i=r.base||r.baseURL,f=r.suffix;else{for(o=document.getElementsByTagName("script"),e=0;e<o.length;e++)if(""!==(n=o[e].src||"")&&(s=n.substring(n.lastIndexOf("/")),/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(n))){-1!==s.indexOf(".min")&&(f=".min");i=n.substring(0,n.lastIndexOf("/"));break}!i&&document.currentScript&&(-1!==(n=document.currentScript.src).indexOf(".min")&&(f=".min"),i=n.substring(0,n.lastIndexOf("/")))}this.baseURL=new uo(t).toAbsolute(i);this.documentBaseURL=t;this.baseURI=new uo(this.baseURL);this.suffix=f;this.on("AddEditor",u(tpi,this));this.on("RemoveEditor",u(ipi,this))},overrideDefaults:function(n){var i=n.base_url,r,t;i&&this._setBaseUrl(i);r=n.suffix;n.suffix&&(this.suffix=r);t=(this.defaultSettings=n).plugin_base_urls;void 0!==t&&et(t,function(n,t){rr.PluginManager.urls[t]=n})},init:function(n){function f(n){var t=n.id;return t||(t=at(n,"name").filter(function(n){return!uu.get(n)}).getOrThunk(uu.uniqueId),n.setAttribute("id",t)),t}function e(n,t){return t.constructor===RegExp?t.test(n.className):uu.hasClass(n,t)}var i,t=this,s=r.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),u=function(n){i=n},o=function(){function h(n,r,f){var e=new sd(n,r,t);v.push(e);e.on("init",function(){++y===i.length&&u(v)});e.targetElm=e.targetElm||f;e.render()}var i,c,y=0,v=[];uu.unbind(window,"ready",o);(c=n.onpageload)&&c.apply(t,[]);i=a.unique(function(n){var t=[],i;if(l.browser.isIE()&&l.browser.version.major<11)return sk("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(iir)return sk("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(n.types)return pf(n.types,function(n){t=t.concat(uu.select(n.selector))}),t;if(n.selector)return uu.select(n.selector);if(n.target)return[n.target];switch(n.mode){case"exact":i=n.elements||"";0<i.length&&pf(gtr(i),function(n){var i=uu.get(n);i?t.push(i):pf(document.forms,function(i){pf(i.elements,function(i){i.name===n&&(n="mce_editor_"+tir++,uu.setAttrib(i,"id",n),t.push(i))})})});break;case"textareas":case"specific_textareas":pf(uu.select("textarea"),function(i){n.editor_deselector&&e(i,n.editor_deselector)||n.editor_selector&&!e(i,n.editor_selector)||t.push(i)})}return t}(n));n.types?pf(n.types,function(t){r.each(i,function(i){return!uu.is(i,t.selector)||(h(f(i),nir({},n,t),i),!1)})}):(r.each(i,function(n){var i;(i=t.get(n.id))&&i.initialized&&!(i.getContainer()||i.getBody()).parentNode&&(ohi(i),i.unbindAllNativeEvents(),i.destroy(!0),i.removed=!0)}),0===(i=r.grep(i,function(n){return!t.get(n.id)})).length?u([]):pf(i,function(t){var i=t;n.inline&&i.tagName.toLowerCase()in s?sk("Could not initialize inline editor on invalid inline target element",t):h(f(t),n,t)}))};return t.settings=n,uu.bind(window,"ready",o),new ri(function(n){i?n(i):u=function(t){n(t)}})},get:function(n){return 0===arguments.length?nr.slice(0):ht(n)?gt(nr,function(t){return t.id===n}).getOr(null):oh(n)&&nr[n]||null},add:function(n){var t=this;return lo[n.id]===n||(null===t.get(n.id)&&("length"!==n.id&&(lo[n.id]=n),lo.push(n),nr.push(n)),ehi(!0),t.activeEditor=n,t.fire("AddEditor",{editor:n}),hd||(hd=function(n){var i=t.fire("BeforeUnload");if(i.returnValue)return n.preventDefault(),n.returnValue=i.returnValue,i.returnValue},window.addEventListener("beforeunload",hd))),n},createEditor:function(n,t){return this.add(new sd(n,t,this))},remove:function(n){var r,t,i=this;if(n){if(!ht(n))return t=n,al(i.get(t.id))?null:(ohi(t)&&i.fire("RemoveEditor",{editor:t}),0===nr.length&&window.removeEventListener("beforeunload",hd),t.remove(),ehi(0<nr.length),t);pf(uu.select(n),function(n){(t=i.get(n.id))&&i.remove(t)})}else for(r=nr.length-1;0<=r;r--)i.remove(nr[r])},execCommand:function(n,t,i){var r=this.get(i);switch(n){case"mceAddEditor":return this.get(i)||new sd(i,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",!1,i),!0}return!!this.activeEditor&&this.activeEditor.execCommand(n,t,i)},triggerSave:function(){pf(nr,function(n){n.save()})},addI18n:function(n,t){lu.add(n,t)},translate:function(n){return lu.translate(n)},setActive:function(n){var t=this.activeEditor;this.activeEditor!==n&&(t&&t.fire("deactivate",{relatedTarget:n}),n.fire("activate",{relatedTarget:t}));this.activeEditor=n},_setBaseUrl:function(n){this.baseURL=new uo(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,""));this.baseURI=new uo(this.baseURL)}});ao.setup();var dv,gv,lhi,hst,ahi=Math.min,cl=Math.max,cd=Math.round,rir={inflate:function(n,t,i){return hl(n.x-t,n.y-i,n.w+2*t,n.h+2*i)},relativePosition:hhi,findBestRelativePosition:function(n,t,i,r){for(var u,f=0;f<r.length;f++)if((u=hhi(n,t,r[f])).x>=i.x&&u.x+u.w<=i.w+i.x&&u.y>=i.y&&u.y+u.h<=i.h+i.y)return r[f];return null},intersect:function(n,t){var i=cl(n.x,t.x),r=cl(n.y,t.y),u=ahi(n.x+n.w,t.x+t.w),f=ahi(n.y+n.h,t.y+t.h);return u-i<0||f-r<0?null:hl(i,r,u-i,f-r)},clamp:function(n,t,i){var r=n.x,u=n.y,f=n.x+n.w,e=n.y+n.h,l=t.x+t.w,a=t.y+t.h,o=cl(0,t.x-r),s=cl(0,t.y-u),h=cl(0,f-l),c=cl(0,e-a);return r+=o,u+=s,i&&(f+=o,e+=s,r-=h,u-=c),hl(r,u,(f-=h)-r,(e-=c)-u)},create:hl,fromClientRect:function(n){return hl(n.left,n.top,n.width,n.height)}},uir=(dv={},gv={},{load:function(n,t){var r='Script at URL "'+t+'" failed to load',u='Script at URL "'+t+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second",i;return void 0!==dv[n]?dv[n]:(i=new ri(function(i,f){var e=function(n,t,i){function f(n){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];u||(u=!0,null!==r&&(clearTimeout(r),r=null),n.apply(null,i))}}void 0===i&&(i=1e3);var u=!1,r=null,o=f(n),e=f(t);return{start:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||null!==r||(r=setTimeout(function(){return e.apply(null,t)},i))},resolve:o,reject:e}}(i,f);gv[n]=e.resolve;df.ScriptLoader.loadScript(t,function(){return e.start(u)},function(){return e.reject(r)})}),dv[n]=i)},add:function(n,t){void 0!==gv[n]&&(gv[n](t),delete gv[n]);dv[n]=ri.resolve(t)}}),ld=r.each,fir=r.extend;chi.extend=lhi=function(n){function i(){var n,t,i;if(!hst&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(n=t.length;n--;)(i=t[n]).init&&i.init.apply(this,arguments)}function u(){return this}var t=this.prototype,r;return hst=!0,r=new this,hst=!1,n.Mixins&&(ld(n.Mixins,function(t){for(var i in t)"init"!==i&&(n[i]=t[i])}),t.Mixins&&(n.Mixins=t.Mixins.concat(n.Mixins))),n.Methods&&ld(n.Methods.split(","),function(t){n[t]=u}),n.Properties&&ld(n.Properties.split(","),function(t){var i="_"+t;n[t]=function(n){return void 0!==n?(this[i]=n,this):this[i]}}),n.Statics&&ld(n.Statics,function(n,t){i[t]=n}),n.Defaults&&t.Defaults&&(n.Defaults=fir({},t.Defaults,n.Defaults)),et(n,function(n,i){var u,f;r[i]="function"==typeof n&&t[i]?(u=i,f=n,function(){var i=this._super,n;return this._super=t[u],n=f.apply(this,arguments),this._super=i,n}):n}),i.prototype=r,(i.constructor=i).extend=lhi,i};var ny,uh,cst,ad=Math.min,vd=Math.max,fh=Math.round,lst={serialize:function(n){var t=JSON.stringify(n);return ht(t)?t.replace(/[\u0080-\uFFFF]/g,function(n){var t=n.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},parse:function(n){try{return JSON.parse(n)}catch(n){}}},eir={callbacks:{},count:0,send:function(n){var t=this,i=d.DOM,r=(void 0!==n.count?n:t).count,u="tinymce_jsonp_"+r;t.callbacks[r]=function(f){i.remove(u);delete t.callbacks[r];n.callback(f)};i.add(i.doc.body,"script",{id:u,src:n.url,type:"text/javascript"});t.count++}},yd=c(c({},ed),{send:function(n){var t,i=0,u=function(){!n.async||4===t.readyState||1e4<i++?(n.success&&i<1e4&&200===t.status?n.success.call(n.success_scope,""+t.responseText,t,n):n.error&&n.error.call(n.error_scope,1e4<i?"TIMED_OUT":"GENERAL",t,n),t=null):ui.setTimeout(u,10)};if(n.scope=n.scope||this,n.success_scope=n.success_scope||n.scope,n.error_scope=n.error_scope||n.scope,n.async=!1!==n.async,n.data=n.data||"",yd.fire("beforeInitialize",{settings:n}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(n.content_type),t.open(n.type||(n.data?"POST":"GET"),n.url,n.async),n.crossDomain&&(t.withCredentials=!0),n.content_type&&t.setRequestHeader("Content-Type",n.content_type),n.requestheaders&&r.each(n.requestheaders,function(n){t.setRequestHeader(n.key,n.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=yd.fire("beforeSend",{xhr:t,settings:n}).xhr).send(n.data),!n.async)return u();ui.setTimeout(u,10)}}),vhi=r.extend,oir=(pd.sendRPC=function(n){return(new pd).send(n)},pd.prototype.send=function(n){var i=n.error,r=n.success,t=vhi(this.settings,n);t.success=function(n,u){(n=void 0===(n=lst.parse(n))?{error:"JSON Parse error."}:n).error?i.call(t.error_scope||t.scope,n.error,u):r.call(t.success_scope||t.scope,n.result)};t.error=function(n,r){i&&i.call(t.error_scope||t.scope,n,r)};t.data=lst.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params});t.content_type="application/json";yd.send(t)},pd);try{bd="__storage_test__";(wd=window.localStorage).setItem(bd,bd);wd.removeItem(bd)}catch(kd){ny={};uh=[];cst={getItem:function(n){return ny[n]||null},setItem:function(n,t){uh.push(n);ny[n]=String(t)},key:function(n){return uh[n]},removeItem:function(n){uh=uh.filter(function(t){return t===n});delete ny[n]},clear:function(){uh=[];ny={}},length:0};Object.defineProperty(cst,"length",{get:function(){return uh.length},configurable:!1,enumerable:!1});wd=cst}var sir={geom:{Rect:rir},util:{Promise:ri,Delay:ui,Tools:r,VK:s,URI:uo,Class:chi,EventDispatcher:est,Observable:ed,I18n:lu,XHR:yd,JSON:lst,JSONRequest:oir,JSONP:eir,LocalStorage:wd,Color:function(n){function f(n){var f;return"object"==typeof n?"r"in n?(t=n.r,i=n.g,r=n.b):"v"in n&&function(n,u,f){if(n=(parseInt(n,10)||0)%360,u=parseInt(u,10)/100,f=parseInt(f,10)/100,u=vd(0,ad(u,1)),f=vd(0,ad(f,1)),0!==u){var h=n/60,e=f*u,o=e*(1-Math.abs(h%2-1)),s=f-e;switch(Math.floor(h)){case 0:t=e;i=o;r=0;break;case 1:t=o;i=e;r=0;break;case 2:t=0;i=e;r=o;break;case 3:t=0;i=o;r=e;break;case 4:t=o;i=0;r=e;break;case 5:t=e;i=0;r=o;break;default:t=i=r=0}t=fh(255*(t+s));i=fh(255*(i+s));r=fh(255*(r+s))}else t=i=r=fh(255*f)}(n.h,n.s,n.v):(f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(n))?(t=parseInt(f[1],10),i=parseInt(f[2],10),r=parseInt(f[3],10)):(f=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(n))?(t=parseInt(f[1],16),i=parseInt(f[2],16),r=parseInt(f[3],16)):(f=/#([0-F])([0-F])([0-F])/gi.exec(n))&&(t=parseInt(f[1]+f[1],16),i=parseInt(f[2]+f[2],16),r=parseInt(f[3]+f[3],16)),t=t<0?0:255<t?255:t,i=i<0?0:255<i?255:i,r=r<0?0:255<r?255:r,u}var u={},t=0,i=0,r=0;return n&&f(n),u.toRgb=function(){return{r:t,g:i,b:r}},u.toHsv=function(){return u=t,e=i,f=r,o=0,(n=ad(u/=255,ad(e/=255,f/=255)))===(s=vd(u,vd(e,f)))?{h:0,s:0,v:100*(o=n)}:(h=(s-n)/s,{h:fh(60*((u===n?3:f===n?1:5)-(u===n?e-f:f===n?u-e:f-u)/((o=s)-n))),s:fh(100*h),v:fh(100*o)});var u,e,f,h,o,n,s},u.toHex=function(){function n(n){return 1<(n=parseInt(n,10).toString(16)).length?n:"0"+n}return"#"+n(t)+n(i)+n(r)},u.parse=f,u},ImageUploader:function(n){var t=ori(),i=cri(n,t);return{upload:function(t,r){return i.upload(t,(r=void 0===r||r)?hri(n):void 0)}}}},dom:{EventUtils:ic,Sizzle:k,DomQuery:a,TreeWalker:yt,TextSeeker:tyt,DOMUtils:d,ScriptLoader:df,RangeUtils:fv,Serializer:aii,StyleSheetLoader:dlt,ControlSelection:gbt,BookmarkManager:rv,Selection:hii,Event:ic.Event},html:{Styles:pn,Entities:ye,Node:ru,Schema:ae,SaxParser:nb,DomParser:yet,Writer:adt,Serializer:nl},Env:l,AddOnManager:rr,Annotator:obt,Formatter:ari,UndoManager:yri,EditorCommands:wsi,WindowManager:fri,NotificationManager:bii,EditorObservable:nhi,Shortcuts:ihi,Editor:sd,FocusManager:odt,EditorManager:ao,DOM:d.DOM,ScriptLoader:df.ScriptLoader,PluginManager:pu,ThemeManager:so,IconManager:db,Resource:uir,trim:r.trim,isArray:r.isArray,is:r.is,toArray:r.toArray,makeMap:r.makeMap,each:r.each,map:r.map,grep:r.grep,inArray:r.inArray,extend:r.extend,create:r.create,walk:r.walk,createNS:r.createNS,resolve:r.resolve,explode:r.explode,_addCacheSuffix:r._addCacheSuffix,isOpera:l.opera,isWebKit:l.webkit,isIE:l.ie,isGecko:l.gecko,isMac:l.mac},yhi=r.extend(ao,sir),phi=yhi;window.tinymce=phi;window.tinyMCE=phi,function(n){if("object"==typeof module)try{module.exports=n}catch(n){}}(yhi)}();
